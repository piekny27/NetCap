"use strict";(self.webpackChunknetcap=self.webpackChunknetcap||[]).push([[179],{2011:(xt,je,K)=>{K.d(je,{Dh:()=>Me,GT:()=>_e,cc:()=>Ke,hO:()=>ct,on:()=>se,pX:()=>he,xv:()=>Fe});var a=K(4650),ie=K(9260),q=K(2122);xt=K.hmd(xt);const Ee=["ngOnDestroy"],he=(Ye,qe,Oe,Ge={})=>new Proxy(Ye,{get:(et,Ze)=>Oe.runOutsideAngular(()=>{var ht;if(Ye[Ze])return!(null===(ht=Ge?.spy)||void 0===ht)&&ht.get&&Ge.spy.get(Ze,Ye[Ze]),Ye[Ze];if(Ee.indexOf(Ze)>-1)return()=>{};const ye=qe.toPromise().then(Ae=>{const ze=Ae&&Ae[Ze];return"function"==typeof ze?ze.bind(Ae):ze&&ze.then?ze.then(pe=>Oe.run(()=>pe)):Oe.run(()=>ze)});return new Proxy(()=>{},{get:(Ae,ze)=>ye[ze],apply:(Ae,ze,pe)=>ye.then(me=>{var Pe;const Ie=me&&me(...pe);return!(null===(Pe=Ge?.spy)||void 0===Pe)&&Pe.apply&&Ge.spy.apply(Ze,pe,Ie),Ie})})})}),_e=(Ye,qe)=>{qe.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Ge=>{Object.defineProperty(Ye.prototype,Ge,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Ge))})})};class Ve{constructor(qe){return qe}}const Me=new a.OlP("angularfire2.app.options"),Fe=new a.OlP("angularfire2.app.name");function se(Ye,qe,Oe){const et="object"==typeof Oe&&Oe||{};et.name=et.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const ht=ie.Z.apps.filter(ye=>ye&&ye.name===et.name)[0]||qe.runOutsideAngular(()=>ie.Z.initializeApp(Ye,et));try{JSON.stringify(Ye)!==JSON.stringify(ht.options)&&oe("error",`${ht.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ve(ht)}const oe=(Ye,...qe)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ye](...qe)},be={provide:Ve,useFactory:se,deps:[Me,a.R0b,[new a.FiY,Fe]]};let ct=(()=>{class Ye{constructor(Oe){ie.Z.registerVersion("angularfire",q.q4.full,"core"),ie.Z.registerVersion("angularfire",q.q4.full,"app-compat"),ie.Z.registerVersion("angular",a.q4F.full,Oe.toString())}static initializeApp(Oe,Ge){return{ngModule:Ye,providers:[{provide:Me,useValue:Oe},{provide:Fe,useValue:Ge}]}}}return Ye.\u0275fac=function(Oe){return new(Oe||Ye)(a.LFG(a.Lbi))},Ye.\u0275mod=a.oAB({type:Ye}),Ye.\u0275inj=a.cJS({providers:[be]}),Ye})();function Ke(Ye,qe,Oe,Ge,et){const[,Ze,ht]=globalThis.\u0275AngularfireInstanceCache.find(ye=>ye[0]===Ye)||[];if(Ze)return function it(Ye,qe){try{return Ye.toString()===qe.toString()}catch{return Ye===qe}}(et,ht)||(Le("error",`${qe} was already initialized on the ${Oe} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:et,was:ht})),Ze;{const ye=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Ye,ye,et]),ye}}const Ct=!!xt.hot,Le=(Ye,...qe)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ye](...qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(xt,je,K)=>{K.d(je,{q4:()=>Cc,iC:()=>ad,fc:()=>nh,HU:()=>$i,vb:()=>Pn,JM:()=>ji});var a=K(4650),ie=K(259),q=K(5861),Ee=K(9681),he=K(2090),_e=K(4859),Ve=K(1877),Me=K(8766);const Fe="@firebase/installations",be="w:0.6.0",ct="FIS_v2",qe=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(O){return O instanceof he.ZR&&O.code.includes("request-failed")}function Ge({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function et(O){return{token:O.token,requestStatus:2,expiresIn:me(O.expiresIn),creationTime:Date.now()}}function Ze(O,N){return ht.apply(this,arguments)}function ht(){return(ht=(0,q.Z)(function*(O,N){const ne=(yield N.json()).error;return qe.create("request-failed",{requestName:O,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function ye({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Ae(O,{refreshToken:N}){const H=ye(O);return H.append("Authorization",function Pe(O){return`${ct} ${O}`}(N)),H}function ze(O){return pe.apply(this,arguments)}function pe(){return(pe=(0,q.Z)(function*(O){const N=yield O();return N.status>=500&&N.status<600?O():N})).apply(this,arguments)}function me(O){return Number(O.replace("s","000"))}function Ie(O,N){return at.apply(this,arguments)}function at(){return(at=(0,q.Z)(function*({appConfig:O,heartbeatServiceProvider:N},{fid:H}){const ne=Ge(O),fe=ye(O),De=N.getImmediate({optional:!0});if(De){const jt=yield De.getHeartbeatsHeader();jt&&fe.append("x-firebase-client",jt)}const Rt={method:"POST",headers:fe,body:JSON.stringify({fid:H,authVersion:ct,appId:O.appId,sdkVersion:be})},Bt=yield ze(()=>fetch(ne,Rt));if(Bt.ok){const jt=yield Bt.json();return{fid:jt.fid||H,registrationStatus:2,refreshToken:jt.refreshToken,authToken:et(jt.authToken)}}throw yield Ze("Create Installation",Bt)})).apply(this,arguments)}function st(O){return new Promise(N=>{setTimeout(N,O)})}const zn=/^[cdef][\w-]{21}$/;function pn(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const H=function wn(O){return function Yt(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return zn.test(H)?H:""}catch{return""}}function Xt(O){return`${O.appName}!${O.appId}`}const Gn=new Map;function Gi(O,N){const H=Xt(O);Bs(H,N),function Es(O,N){const H=function Hi(){return!Ir&&"BroadcastChannel"in self&&(Ir=new BroadcastChannel("[Firebase] FID Change"),Ir.onmessage=O=>{Bs(O.data.key,O.data.fid)}),Ir}();H&&H.postMessage({key:O,fid:N}),function so(){0===Gn.size&&Ir&&(Ir.close(),Ir=null)}()}(H,N)}function Bs(O,N){const H=Gn.get(O);if(H)for(const ne of H)ne(N)}let Ir=null;const cr="firebase-installations-store";let Vs=null;function oo(){return Vs||(Vs=(0,Me.X3)("firebase-installations-database",1,{upgrade:(O,N)=>{0===N&&O.createObjectStore(cr)}})),Vs}function di(O,N){return kr.apply(this,arguments)}function kr(){return(kr=(0,q.Z)(function*(O,N){const H=Xt(O),fe=(yield oo()).transaction(cr,"readwrite"),De=fe.objectStore(cr),Ue=yield De.get(H);return yield De.put(N,H),yield fe.done,(!Ue||Ue.fid!==N.fid)&&Gi(O,N.fid),N})).apply(this,arguments)}function At(O){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,q.Z)(function*(O){const N=Xt(O),ne=(yield oo()).transaction(cr,"readwrite");yield ne.objectStore(cr).delete(N),yield ne.done})).apply(this,arguments)}function ni(O,N){return qn.apply(this,arguments)}function qn(){return(qn=(0,q.Z)(function*(O,N){const H=Xt(O),fe=(yield oo()).transaction(cr,"readwrite"),De=fe.objectStore(cr),Ue=yield De.get(H),Rt=N(Ue);return void 0===Rt?yield De.delete(H):yield De.put(Rt,H),yield fe.done,Rt&&(!Ue||Ue.fid!==Rt.fid)&&Gi(O,Rt.fid),Rt})).apply(this,arguments)}function tr(O){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,q.Z)(function*(O){let N;const H=yield ni(O.appConfig,ne=>{const fe=Ot(ne),De=zt(O,fe);return N=De.registrationPromise,De.installationEntry});return""===H.fid?{installationEntry:yield N}:{installationEntry:H,registrationPromise:N}})).apply(this,arguments)}function Ot(O){return vr(O||{fid:pn(),registrationStatus:0})}function zt(O,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(qe.create("app-offline"))};const H={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ne=function gn(O,N){return Ci.apply(this,arguments)}(O,H);return{installationEntry:H,registrationPromise:ne}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:nr(O)}:{installationEntry:N}}function Ci(){return(Ci=(0,q.Z)(function*(O,N){try{const H=yield Ie(O,N);return di(O.appConfig,H)}catch(H){throw Oe(H)&&409===H.customData.serverCode?yield At(O.appConfig):yield di(O.appConfig,{fid:N.fid,registrationStatus:0}),H}})).apply(this,arguments)}function nr(O){return oi.apply(this,arguments)}function oi(){return(oi=(0,q.Z)(function*(O){let N=yield Us(O.appConfig);for(;1===N.registrationStatus;)yield st(100),N=yield Us(O.appConfig);if(0===N.registrationStatus){const{installationEntry:H,registrationPromise:ne}=yield tr(O);return ne||H}return N})).apply(this,arguments)}function Us(O){return ni(O,N=>{if(!N)throw qe.create("installation-not-found");return vr(N)})}function vr(O){return function ao(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function En(O,N){return lo.apply(this,arguments)}function lo(){return(lo=(0,q.Z)(function*({appConfig:O,heartbeatServiceProvider:N},H){const ne=_n(O,H),fe=Ae(O,H),De=N.getImmediate({optional:!0});if(De){const jt=yield De.getHeartbeatsHeader();jt&&fe.append("x-firebase-client",jt)}const Rt={method:"POST",headers:fe,body:JSON.stringify({installation:{sdkVersion:be,appId:O.appId}})},Bt=yield ze(()=>fetch(ne,Rt));if(Bt.ok)return et(yield Bt.json());throw yield Ze("Generate Auth Token",Bt)})).apply(this,arguments)}function _n(O,{fid:N}){return`${Ge(O)}/${N}/authTokens:generate`}function br(O){return vn.apply(this,arguments)}function vn(){return(vn=(0,q.Z)(function*(O,N=!1){let H;const ne=yield ni(O.appConfig,De=>{if(!dn(De))throw qe.create("not-registered");const Ue=De.authToken;if(!N&&ae(Ue))return De;if(1===Ue.requestStatus)return H=ot(O,N),De;{if(!navigator.onLine)throw qe.create("app-offline");const Rt=ce(De);return H=rn(O,Rt),Rt}});return H?yield H:ne.authToken})).apply(this,arguments)}function ot(O,N){return He.apply(this,arguments)}function He(){return(He=(0,q.Z)(function*(O,N){let H=yield St(O.appConfig);for(;1===H.authToken.requestStatus;)yield st(100),H=yield St(O.appConfig);const ne=H.authToken;return 0===ne.requestStatus?br(O,N):ne})).apply(this,arguments)}function St(O){return ni(O,N=>{if(!dn(N))throw qe.create("not-registered");return function ee(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function rn(O,N){return en.apply(this,arguments)}function en(){return(en=(0,q.Z)(function*(O,N){try{const H=yield En(O,N),ne=Object.assign(Object.assign({},N),{authToken:H});return yield di(O.appConfig,ne),H}catch(H){if(!Oe(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const ne=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield di(O.appConfig,ne)}else yield At(O.appConfig);throw H}})).apply(this,arguments)}function dn(O){return void 0!==O&&2===O.registrationStatus}function ae(O){return 2===O.requestStatus&&!function re(O){const N=Date.now();return N<O.creationTime||O.creationTime+O.expiresIn<N+36e5}(O)}function ce(O){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:N})}function J(){return(J=(0,q.Z)(function*(O){const N=O,{installationEntry:H,registrationPromise:ne}=yield tr(N);return ne?ne.catch(console.error):br(N).catch(console.error),H.fid})).apply(this,arguments)}function ue(){return(ue=(0,q.Z)(function*(O,N=!1){const H=O;return yield Nt(H),(yield br(H,N)).token})).apply(this,arguments)}function Nt(O){return ft.apply(this,arguments)}function ft(){return(ft=(0,q.Z)(function*(O){const{registrationPromise:N}=yield tr(O);N&&(yield N)})).apply(this,arguments)}function ha(O){return qe.create("missing-app-config-values",{valueName:O})}const lc="installations",Hr=O=>{const N=O.getProvider("app").getImmediate(),H=function ua(O){if(!O||!O.options)throw ha("App Configuration");if(!O.name)throw ha("App Name");const N=["projectId","apiKey","appId"];for(const H of N)if(!O.options[H])throw ha(H);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(N);return{app:N,appConfig:H,heartbeatServiceProvider:(0,Ee._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Ld=O=>{const N=O.getProvider("app").getImmediate(),H=(0,Ee._getProvider)(N,lc).getImmediate();return{getId:()=>function z(O){return J.apply(this,arguments)}(H),getToken:fe=>function Te(O){return ue.apply(this,arguments)}(H,fe)}};(function Yc(){(0,Ee._registerComponent)(new _e.wA(lc,Hr,"PUBLIC")),(0,Ee._registerComponent)(new _e.wA("installations-internal",Ld,"PRIVATE"))})(),(0,Ee.registerVersion)(Fe,"0.6.0"),(0,Ee.registerVersion)(Fe,"0.6.0","esm2017");const pa="@firebase/remote-config",rr=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mo{constructor(N,H,ne,fe){this.client=N,this.storage=H,this.storageCache=ne,this.logger=fe}isCachedDataFresh(N,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-H,fe=ne<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${fe}.`),fe}fetch(N){var H=this;return(0,q.Z)(function*(){const[ne,fe]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(fe&&H.isCachedDataFresh(N.cacheMaxAgeMillis,ne))return fe;N.eTag=fe&&fe.eTag;const De=yield H.client.fetch(N),Ue=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&Ue.push(H.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(Ue),De})()}}function dr(O=navigator){return O.languages&&O.languages[0]||O.language}class Bn{constructor(N,H,ne,fe,De,Ue){this.firebaseInstallations=N,this.sdkVersion=H,this.namespace=ne,this.projectId=fe,this.apiKey=De,this.appId=Ue}fetch(N){var H=this;return(0,q.Z)(function*(){const[ne,fe]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),Ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Bt={sdk_version:H.sdkVersion,app_instance_id:ne,app_instance_id_token:fe,app_id:H.appId,language_code:dr()},jt={method:"POST",headers:Rt,body:JSON.stringify(Bt)},Dn=fetch(Ue,jt),on=new Promise((Ni,Fi)=>{N.signal.addEventListener(()=>{const Ps=new Error("The operation was aborted.");Ps.name="AbortError",Fi(Ps)})});let bo;try{yield Promise.race([Dn,on]),bo=yield Dn}catch(Ni){let Fi="fetch-client-network";throw"AbortError"===Ni?.name&&(Fi="fetch-timeout"),rr.create(Fi,{originalErrorMessage:Ni?.message})}let Oi=bo.status;const Ws=bo.headers.get("ETag")||void 0;let Bo,yo;if(200===bo.status){let Ni;try{Ni=yield bo.json()}catch(Fi){throw rr.create("fetch-client-parse",{originalErrorMessage:Fi?.message})}Bo=Ni.entries,yo=Ni.state}if("INSTANCE_STATE_UNSPECIFIED"===yo?Oi=500:"NO_CHANGE"===yo?Oi=304:("NO_TEMPLATE"===yo||"EMPTY_CONFIG"===yo)&&(Bo={}),304!==Oi&&200!==Oi)throw rr.create("fetch-status",{httpStatus:Oi});return{status:Oi,eTag:Ws,config:Bo}})()}}class Ts{constructor(N,H){this.client=N,this.storage=H}fetch(N){var H=this;return(0,q.Z)(function*(){const ne=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(N,ne)})()}attemptFetch(N,{throttleEndTimeMillis:H,backoffCount:ne}){var fe=this;return(0,q.Z)(function*(){yield function es(O,N){return new Promise((H,ne)=>{const fe=Math.max(N-Date.now(),0),De=setTimeout(H,fe);O.addEventListener(()=>{clearTimeout(De),ne(rr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,H);try{const De=yield fe.client.fetch(N);return yield fe.storage.deleteThrottleMetadata(),De}catch(De){if(!function bi(O){if(!(O instanceof he.ZR&&O.customData))return!1;const N=Number(O.customData.httpStatus);return 429===N||500===N||503===N||504===N}(De))throw De;const Ue={throttleEndTimeMillis:Date.now()+(0,he.$s)(ne),backoffCount:ne+1};return yield fe.storage.setThrottleMetadata(Ue),fe.attemptFetch(N,Ue)}})()}}class po{constructor(N,H,ne,fe,De){this.app=N,this._client=H,this._storageCache=ne,this._storage=fe,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ui(O,N){const H=O.target.error||void 0;return rr.create(N,{originalErrorMessage:H&&H?.message})}const ps="app_namespace_store";class mn{constructor(N,H,ne,fe=function Ss(){return new Promise((O,N)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=ne=>{N(ui(ne,"storage-open"))},H.onsuccess=ne=>{O(ne.target.result)},H.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(ps,{keyPath:"compositeKey"})}}catch(H){N(rr.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=N,this.appName=H,this.namespace=ne,this.openDbPromise=fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var H=this;return(0,q.Z)(function*(){const ne=yield H.openDbPromise;return new Promise((fe,De)=>{const Rt=ne.transaction([ps],"readonly").objectStore(ps),Bt=H.createCompositeKey(N);try{const jt=Rt.get(Bt);jt.onerror=Dn=>{De(ui(Dn,"storage-get"))},jt.onsuccess=Dn=>{const on=Dn.target.result;fe(on?on.value:void 0)}}catch(jt){De(rr.create("storage-get",{originalErrorMessage:jt?.message}))}})})()}set(N,H){var ne=this;return(0,q.Z)(function*(){const fe=yield ne.openDbPromise;return new Promise((De,Ue)=>{const Bt=fe.transaction([ps],"readwrite").objectStore(ps),jt=ne.createCompositeKey(N);try{const Dn=Bt.put({compositeKey:jt,value:H});Dn.onerror=on=>{Ue(ui(on,"storage-set"))},Dn.onsuccess=()=>{De()}}catch(Dn){Ue(rr.create("storage-set",{originalErrorMessage:Dn?.message}))}})})()}delete(N){var H=this;return(0,q.Z)(function*(){const ne=yield H.openDbPromise;return new Promise((fe,De)=>{const Rt=ne.transaction([ps],"readwrite").objectStore(ps),Bt=H.createCompositeKey(N);try{const jt=Rt.delete(Bt);jt.onerror=Dn=>{De(ui(Dn,"storage-delete"))},jt.onsuccess=()=>{fe()}}catch(jt){De(rr.create("storage-delete",{originalErrorMessage:jt?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class pt{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,q.Z)(function*(){const H=N.storage.getLastFetchStatus(),ne=N.storage.getLastSuccessfulFetchTimestampMillis(),fe=N.storage.getActiveConfig(),De=yield H;De&&(N.lastFetchStatus=De);const Ue=yield ne;Ue&&(N.lastSuccessfulFetchTimestampMillis=Ue);const Rt=yield fe;Rt&&(N.activeConfig=Rt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function kn(){return ur.apply(this,arguments)}function ur(){return(ur=(0,q.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function Zc(){(0,Ee._registerComponent)(new _e.wA("remote-config",function O(N,{instanceIdentifier:H}){const ne=N.getProvider("app").getImmediate(),fe=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw rr.create("registration-window");if(!(0,he.hl)())throw rr.create("indexed-db-unavailable");const{projectId:De,apiKey:Ue,appId:Rt}=ne.options;if(!De)throw rr.create("registration-project-id");if(!Ue)throw rr.create("registration-api-key");if(!Rt)throw rr.create("registration-app-id");const Bt=new mn(Rt,ne.name,H=H||"firebase"),jt=new pt(Bt),Dn=new Ve.Yd(pa);Dn.logLevel=Ve.in.ERROR;const on=new Bn(fe,Ee.SDK_VERSION,H,De,Ue,Rt),bo=new Ts(on,Bt),Oi=new Mo(bo,Bt,jt,Dn),Ws=new po(ne,Oi,jt,Bt,Dn);return function un(O){const N=(0,he.m9)(O);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Ws),Ws},"PUBLIC").setMultipleInstances(!0)),(0,Ee.registerVersion)(pa,"0.4.0"),(0,Ee.registerVersion)(pa,"0.4.0","esm2017")}();const fa="/firebase-messaging-sw.js",Ba="/firebase-cloud-messaging-push-scope",Zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vu="google.c.a.c_id",ke="google.c.a.c_l",Uu="google.c.a.ts",ga="google.c.a.e";var Dl=(()=>{return(O=Dl||(Dl={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",Dl;var O})();function yi(O){const N=new Uint8Array(O);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zh(O){const H=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(H),fe=new Uint8Array(ne.length);for(let De=0;De<ne.length;++De)fe[De]=ne.charCodeAt(De);return fe}const Kc="fcm_token_details_db",Bd="fcm_token_object_Store";function Qc(O){return cc.apply(this,arguments)}function cc(){return cc=(0,q.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(Kc))return null;let N=null;return(yield(0,Me.X3)(Kc,5,{upgrade:(ne=(0,q.Z)(function*(fe,De,Ue,Rt){var Bt;if(De<2||!fe.objectStoreNames.contains(Bd))return;const jt=Rt.objectStore(Bd),Dn=yield jt.index("fcmSenderId").get(O);if(yield jt.clear(),Dn)if(2===De){const on=Dn;if(!on.auth||!on.p256dh||!on.endpoint)return;N={token:on.fcmToken,createTime:null!==(Bt=on.createTime)&&void 0!==Bt?Bt:Date.now(),subscriptionOptions:{auth:on.auth,p256dh:on.p256dh,endpoint:on.endpoint,swScope:on.swScope,vapidKey:"string"==typeof on.vapidKey?on.vapidKey:yi(on.vapidKey)}}}else if(3===De){const on=Dn;N={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:yi(on.auth),p256dh:yi(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:yi(on.vapidKey)}}}else if(4===De){const on=Dn;N={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:yi(on.auth),p256dh:yi(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:yi(on.vapidKey)}}}}),function(De,Ue,Rt,Bt){return ne.apply(this,arguments)})})).close(),yield(0,Me.Lj)(Kc),yield(0,Me.Lj)("fcm_vapid_details_db"),yield(0,Me.Lj)("undefined"),Gh(N)?N:null;var ne}),cc.apply(this,arguments)}function Gh(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:N}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Va="firebase-messaging-store";let we=null;function te(){return we||(we=(0,Me.X3)("firebase-messaging-database",1,{upgrade:(O,N)=>{0===N&&O.createObjectStore(Va)}})),we}function Vd(O){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,q.Z)(function*(O){const N=_a(O),ne=yield(yield te()).transaction(Va).objectStore(Va).get(N);if(ne)return ne;{const fe=yield Qc(O.appConfig.senderId);if(fe)return yield Sl(O,fe),fe}})).apply(this,arguments)}function Sl(O,N){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,q.Z)(function*(O,N){const H=_a(O),fe=(yield te()).transaction(Va,"readwrite");return yield fe.objectStore(Va).put(N,H),yield fe.done,N})).apply(this,arguments)}function Ua(O){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,q.Z)(function*(O){const N=_a(O),ne=(yield te()).transaction(Va,"readwrite");yield ne.objectStore(Va).delete(N),yield ne.done})).apply(this,arguments)}function _a({appConfig:O}){return O.appId}const hr=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dc(O,N){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,q.Z)(function*(O,N){const H=yield Po(O),ne=Hd(N),fe={method:"POST",headers:H,body:JSON.stringify(ne)};let De;try{De=yield(yield fetch(kl(O.appConfig),fe)).json()}catch(Ue){throw hr.create("token-subscribe-failed",{errorInfo:Ue?.toString()})}if(De.error)throw hr.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw hr.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function Il(O,N){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,q.Z)(function*(O,N){const H=yield Po(O),ne=Hd(N.subscriptionOptions),fe={method:"PATCH",headers:H,body:JSON.stringify(ne)};let De;try{De=yield(yield fetch(`${kl(O.appConfig)}/${N.token}`,fe)).json()}catch(Ue){throw hr.create("token-update-failed",{errorInfo:Ue?.toString()})}if(De.error)throw hr.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw hr.create("token-update-no-token");return De.token})).apply(this,arguments)}function pr(O,N){return ed.apply(this,arguments)}function ed(){return(ed=(0,q.Z)(function*(O,N){const ne={method:"DELETE",headers:yield Po(O)};try{const De=yield(yield fetch(`${kl(O.appConfig)}/${N}`,ne)).json();if(De.error)throw hr.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(fe){throw hr.create("token-unsubscribe-failed",{errorInfo:fe?.toString()})}})).apply(this,arguments)}function kl({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function Po(O){return xr.apply(this,arguments)}function xr(){return(xr=(0,q.Z)(function*({appConfig:O,installations:N}){const H=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Hd({p256dh:O,auth:N,endpoint:H,vapidKey:ne}){const fe={web:{endpoint:H,auth:N,p256dh:O}};return ne!==Zi&&(fe.web.applicationPubKey=ne),fe}const uc=6048e5;function qh(O){return fo.apply(this,arguments)}function fo(){return(fo=(0,q.Z)(function*(O){const N=yield ju(O.swRegistration,O.vapidKey),H={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:N.endpoint,auth:yi(N.getKey("auth")),p256dh:yi(N.getKey("p256dh"))},ne=yield Vd(O.firebaseDependencies);if(ne){if($s(ne.subscriptionOptions,H))return Date.now()>=ne.createTime+uc?Ht(O,{token:ne.token,createTime:Date.now(),subscriptionOptions:H}):ne.token;try{yield pr(O.firebaseDependencies,ne.token)}catch(fe){console.warn(fe)}return jd(O.firebaseDependencies,H)}return jd(O.firebaseDependencies,H)})).apply(this,arguments)}function Hu(O){return ja.apply(this,arguments)}function ja(){return(ja=(0,q.Z)(function*(O){const N=yield Vd(O.firebaseDependencies);N&&(yield pr(O.firebaseDependencies,N.token),yield Ua(O.firebaseDependencies));const H=yield O.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function Ht(O,N){return ts.apply(this,arguments)}function ts(){return(ts=(0,q.Z)(function*(O,N){try{const H=yield Il(O.firebaseDependencies,N),ne=Object.assign(Object.assign({},N),{token:H,createTime:Date.now()});return yield Sl(O.firebaseDependencies,ne),H}catch(H){throw yield Hu(O),H}})).apply(this,arguments)}function jd(O,N){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,q.Z)(function*(O,N){const ne={token:yield dc(O,N),createTime:Date.now(),subscriptionOptions:N};return yield Sl(O,ne),ne.token})).apply(this,arguments)}function ju(O,N){return js.apply(this,arguments)}function js(){return(js=(0,q.Z)(function*(O,N){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zh(N)})})).apply(this,arguments)}function $s(O,N){return N.vapidKey===O.vapidKey&&N.endpoint===O.endpoint&&N.auth===O.auth&&N.p256dh===O.p256dh}function hi(O){const N={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function vm(O,N){if(!N.notification)return;O.notification={};const H=N.notification.title;H&&(O.notification.title=H);const ne=N.notification.body;ne&&(O.notification.body=ne);const fe=N.notification.image;fe&&(O.notification.image=fe);const De=N.notification.icon;De&&(O.notification.icon=De)}(N,O),function Qe(O,N){!N.data||(O.data=N.data)}(N,O),function Vn(O,N){var H,ne,fe,De,Ue;if(!(N.fcmOptions||null!==(H=N.notification)&&void 0!==H&&H.click_action))return;O.fcmOptions={};const Rt=null!==(fe=null===(ne=N.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==fe?fe:null===(De=N.notification)||void 0===De?void 0:De.click_action;Rt&&(O.fcmOptions.link=Rt);const Bt=null===(Ue=N.fcmOptions)||void 0===Ue?void 0:Ue.analytics_label;Bt&&(O.fcmOptions.analyticsLabel=Bt)}(N,O),N}function bm(O){return"object"==typeof O&&!!O&&Vu in O}function Wh(O,N){const H=[];for(let ne=0;ne<O.length;ne++)H.push(O.charAt(ne)),ne<N.length&&H.push(N.charAt(ne));return H.join("")}function $d(O){return hr.create("missing-app-config-values",{valueName:O})}Wh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hc{constructor(N,H,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const fe=function Cr(O){if(!O||!O.options)throw $d("App Configuration Object");if(!O.name)throw $d("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:H}=O;for(const ne of N)if(!H[ne])throw $d(ne);return{appName:O.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:fe,installations:H,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function Zo(O){return va.apply(this,arguments)}function va(){return(va=(0,q.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(fa,{scope:Ba}),O.swRegistration.update().catch(()=>{})}catch(N){throw hr.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function pc(O,N){return Al.apply(this,arguments)}function Al(){return(Al=(0,q.Z)(function*(O,N){if(!N&&!O.swRegistration&&(yield Zo(O)),N||!O.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw hr.create("invalid-sw-registration");O.swRegistration=N}})).apply(this,arguments)}function $u(O,N){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,q.Z)(function*(O,N){N?O.vapidKey=N:O.vapidKey||(O.vapidKey=Zi)})).apply(this,arguments)}function mr(){return(mr=(0,q.Z)(function*(O,N){if(!navigator)throw hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hr.create("permission-blocked");return yield $u(O,N?.vapidKey),yield pc(O,N?.serviceWorkerRegistration),qh(O)})).apply(this,arguments)}function ym(O,N,H){return go.apply(this,arguments)}function go(){return(go=(0,q.Z)(function*(O,N,H){const ne=Ko(N);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:H[Vu],message_name:H[ke],message_time:H[Uu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ko(O){switch(O){case Dl.NOTIFICATION_CLICKED:return"notification_open";case Dl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zu(){return(zu=(0,q.Z)(function*(O,N){const H=N.data;if(!H.isFirebaseMessaging)return;O.onMessageHandler&&H.messageType===Dl.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(hi(H)):O.onMessageHandler.next(hi(H)));const ne=H.data;bm(ne)&&"1"===ne[ga]&&(yield ym(O,H.messageType,ne))})).apply(this,arguments)}const Gu="@firebase/messaging",Er=O=>{const N=new hc(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function wm(O,N){return zu.apply(this,arguments)}(N,H)),N},Is=O=>{const N=O.getProvider("messaging").getImmediate();return{getToken:ne=>function Pi(O,N){return mr.apply(this,arguments)}(N,ne)}};function No(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,q.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ba(){(0,Ee._registerComponent)(new _e.wA("messaging",Er,"PUBLIC")),(0,Ee._registerComponent)(new _e.wA("messaging-internal",Is,"PRIVATE")),(0,Ee.registerVersion)(Gu,"0.12.0"),(0,Ee.registerVersion)(Gu,"0.12.0","esm2017")}();const Kh="analytics",ks="firebase_id",nd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qu="https://www.googletagmanager.com/gtag/js",zr=new Ve.Yd("@firebase/analytics");function An(O){return Promise.all(O.map(N=>N.catch(H=>H)))}function mi(O,N){const H=document.createElement("script");H.src=`${qu}?l=${O}&id=${N}`,H.async=!0,document.head.appendChild(H)}function Ga(O,N,H,ne,fe,De){return zs.apply(this,arguments)}function zs(){return(zs=(0,q.Z)(function*(O,N,H,ne,fe,De){const Ue=ne[fe];try{if(Ue)yield N[Ue];else{const Bt=(yield An(H)).find(jt=>jt.measurementId===fe);Bt&&(yield N[Bt.appId])}}catch(Rt){zr.error(Rt)}O("config",fe,De)})).apply(this,arguments)}function qa(O,N,H,ne,fe){return ya.apply(this,arguments)}function ya(){return(ya=(0,q.Z)(function*(O,N,H,ne,fe){try{let De=[];if(fe&&fe.send_to){let Ue=fe.send_to;Array.isArray(Ue)||(Ue=[Ue]);const Rt=yield An(H);for(const Bt of Ue){const jt=Rt.find(on=>on.measurementId===Bt),Dn=jt&&N[jt.appId];if(!Dn){De=[];break}De.push(Dn)}}0===De.length&&(De=Object.values(N)),yield Promise.all(De),O("event",ne,fe||{})}catch(De){zr.error(De)}})).apply(this,arguments)}function vc(O){const N=window.document.getElementsByTagName("script");for(const H of Object.values(N))if(H.src&&H.src.includes(qu)&&H.src.includes(O))return H;return null}const As=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),id=new class Wu{constructor(N={},H=1e3){this.throttleMetadata=N,this.intervalMillis=H}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,H){this.throttleMetadata[N]=H}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function bc(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function Gd(O){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,q.Z)(function*(O){var N;const{appId:H,apiKey:ne}=O,fe={method:"GET",headers:bc(ne)},De=nd.replace("{app-id}",H),Ue=yield fetch(De,fe);if(200!==Ue.status&&304!==Ue.status){let Rt="";try{const Bt=yield Ue.json();null!==(N=Bt.error)&&void 0!==N&&N.message&&(Rt=Bt.error.message)}catch{}throw As.create("config-fetch-failed",{httpStatus:Ue.status,responseMessage:Rt})}return Ue.json()})).apply(this,arguments)}function Ml(O){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,q.Z)(function*(O,N=id,H){const{appId:ne,apiKey:fe,measurementId:De}=O.options;if(!ne)throw As.create("no-app-id");if(!fe){if(De)return{measurementId:De,appId:ne};throw As.create("no-api-key")}const Ue=N.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Rt=new Ya;return setTimeout((0,q.Z)(function*(){Rt.abort()}),void 0!==H?H:6e4),qd({appId:ne,apiKey:fe,measurementId:De},Ue,Rt,N)})).apply(this,arguments)}function qd(O,N,H){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,q.Z)(function*(O,{throttleEndTimeMillis:N,backoffCount:H},ne,fe=id){var De;const{appId:Ue,measurementId:Rt}=O;try{yield Yu(ne,N)}catch(Bt){if(Rt)return zr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rt} provided in the "measurementId" field in the local Firebase config. [${Bt?.message}]`),{appId:Ue,measurementId:Rt};throw Bt}try{const Bt=yield Gd(O);return fe.deleteThrottleMetadata(Ue),Bt}catch(Bt){const jt=Bt;if(!yc(jt)){if(fe.deleteThrottleMetadata(Ue),Rt)return zr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rt} provided in the "measurementId" field in the local Firebase config. [${jt?.message}]`),{appId:Ue,measurementId:Rt};throw Bt}const Dn=503===Number(null===(De=jt?.customData)||void 0===De?void 0:De.httpStatus)?(0,he.$s)(H,fe.intervalMillis,30):(0,he.$s)(H,fe.intervalMillis),on={throttleEndTimeMillis:Date.now()+Dn,backoffCount:H+1};return fe.setThrottleMetadata(Ue,on),zr.debug(`Calling attemptFetch again in ${Dn} millis`),qd(O,on,ne,fe)}})).apply(this,arguments)}function Yu(O,N){return new Promise((H,ne)=>{const fe=Math.max(N-Date.now(),0),De=setTimeout(H,fe);O.addEventListener(()=>{clearTimeout(De),ne(As.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function yc(O){if(!(O instanceof he.ZR&&O.customData))return!1;const N=Number(O.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Ya{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let Zu,Pl;function Za(){return(Za=(0,q.Z)(function*(O,N,H,ne,fe){if(fe&&fe.global)O("event",H,ne);else{const De=yield N;O("event",H,Object.assign(Object.assign({},ne),{send_to:De}))}})).apply(this,arguments)}function Yd(O){Pl=O}function Zd(O){Zu=O}function Kd(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,q.Z)(function*(){if(!(0,he.hl)())return zr.warn(As.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(O){return zr.warn(As.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qu(){return(Qu=(0,q.Z)(function*(O,N,H,ne,fe,De,Ue){var Rt;const Bt=Ml(O);Bt.then(Oi=>{H[Oi.measurementId]=Oi.appId,O.options.measurementId&&Oi.measurementId!==O.options.measurementId&&zr.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${Oi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Oi=>zr.error(Oi)),N.push(Bt);const jt=Kd().then(Oi=>{if(Oi)return ne.getId()}),[Dn,on]=yield Promise.all([Bt,jt]);vc(De)||mi(De,Dn.measurementId),Pl&&(fe("consent","default",Pl),Yd(void 0)),fe("js",new Date);const bo=null!==(Rt=Ue?.config)&&void 0!==Rt?Rt:{};return bo.origin="firebase",bo.update=!0,null!=on&&(bo[ks]=on),fe("config",Dn.measurementId,bo),Zu&&(fe("set",Zu),Zd(void 0)),Dn.measurementId})).apply(this,arguments)}class xm{constructor(N){this.app=N}_delete(){return delete Gs[this.app.options.appId],Promise.resolve()}}let Gs={},Qh=[];const xc={};let rd,Gr,Lo="dataLayer",fr=!1;function Ja(O,N,H){!function Xu(){const O=[];if((0,he.ru)()&&O.push("This is a browser extension environment."),(0,he.zI)()||O.push("Cookies are not available."),O.length>0){const N=O.map((ne,fe)=>`(${fe+1}) ${ne}`).join(" "),H=As.create("invalid-analytics-context",{errorInfo:N});zr.warn(H.message)}}();const ne=O.options.appId;if(!ne)throw As.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw As.create("no-api-key");zr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gs[ne])throw As.create("already-exists",{id:ne});if(!fr){!function Nn(O){let N=[];Array.isArray(window[O])?N=window[O]:window[O]=N}(Lo);const{wrappedGtag:De,gtagCore:Ue}=function _c(O,N,H,ne,fe){let De=function(...Ue){window[ne].push(arguments)};return window[fe]&&"function"==typeof window[fe]&&(De=window[fe]),window[fe]=function gc(O,N,H,ne){function De(){return(De=(0,q.Z)(function*(Ue,Rt,Bt){try{"event"===Ue?yield qa(O,N,H,Rt,Bt):"config"===Ue?yield Ga(O,N,H,ne,Rt,Bt):"consent"===Ue?O("consent","update",Bt):O("set",Rt)}catch(jt){zr.error(jt)}})).apply(this,arguments)}return function fe(Ue,Rt,Bt){return De.apply(this,arguments)}}(De,O,N,H),{gtagCore:De,wrappedGtag:window[fe]}}(Gs,Qh,xc,Lo,"gtag");Gr=De,rd=Ue,fr=!0}return Gs[ne]=function Qa(O,N,H,ne,fe,De,Ue){return Qu.apply(this,arguments)}(O,Qh,xc,N,rd,Lo,H),new xm(O)}function Xh(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,q.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const Zn="@firebase/analytics";!function qr(){(0,Ee._registerComponent)(new _e.wA(Kh,(N,{options:H})=>Ja(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,Ee._registerComponent)(new _e.wA("analytics-internal",function O(N){try{const H=N.getProvider(Kh).getImmediate();return{logEvent:(ne,fe,De)=>function Ju(O,N,H,ne){O=(0,he.m9)(O),function xa(O,N,H,ne,fe){return Za.apply(this,arguments)}(Gr,Gs[O.app.options.appId],N,H,ne).catch(fe=>zr.error(fe))}(H,ne,fe,De)}}catch(H){throw As.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,Ee.registerVersion)(Zn,"0.9.0"),(0,Ee.registerVersion)(Zn,"0.9.0","esm2017")}();var Cm=K(4408),el=K(7565);const Em=new class tp extends el.v{}(class eh extends Cm.o{constructor(N,H){super(N,H),this.scheduler=N,this.work=H}schedule(N,H=0){return H>0?super.schedule(N,H):(this.delay=H,this.state=N,this.scheduler.flush(this),this)}execute(N,H){return H>0||this.closed?super.execute(N,H):this._execute(N,H)}requestAsyncId(N,H,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(N,H,ne):(N.flush(this),0)}});var ng=K(4986),Ll=K(8505),Ii=K(5363),th=K(9468);const Cc=new a.GfV("7.5.0"),np="__angularfire_symbol__analyticsIsSupportedValue",Pr="__angularfire_symbol__analyticsIsSupported",qs="__angularfire_symbol__remoteConfigIsSupportedValue",Ec="__angularfire_symbol__remoteConfigIsSupported",Ea="__angularfire_symbol__messagingIsSupportedValue",tl="__angularfire_symbol__messagingIsSupported";function ji(O,N,H){if(N){if(1===N.length)return N[0];const De=N.filter(Ue=>Ue.app===H);if(1===De.length)return De[0]}return H.container.getProvider(O).getImmediate({optional:!0})}globalThis[Pr]||(globalThis[Pr]=Xh().then(O=>globalThis[np]=O).catch(()=>globalThis[np]=!1)),globalThis[tl]||(globalThis[tl]=No().then(O=>globalThis[Ea]=O).catch(()=>globalThis[Ea]=!1)),globalThis[Ec]||(globalThis[Ec]=kn().then(O=>globalThis[qs]=O).catch(()=>globalThis[qs]=!1));const Pn=(O,N)=>{const H=N?[N]:(0,ie.C6)(),ne=[];return H.forEach(fe=>{fe.container.getProvider(O).instances.forEach(Ue=>{ne.includes(Ue)||ne.push(Ue)})}),ne};function ai(){}class bt{constructor(N,H=Em){this.zone=N,this.delegate=H}now(){return this.delegate.now()}schedule(N,H,ne){const fe=this.zone;return this.delegate.schedule(function(Ue){fe.runGuarded(()=>{N.apply(this,[Ue])})},H,ne)}}class gt{constructor(N){this.zone=N,this.task=null}call(N,H){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ai,{},ai,ai)),H.pipe((0,Ll.b)({next:ne,complete:ne,error:ne})).subscribe(N).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $i=(()=>{class O{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new bt(Zone.current)),this.insideAngular=H.run(()=>new bt(Zone.current,ng.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(H){return new(H||O)(a.LFG(a.R0b))},O.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Jo(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function nh(O){return O.pipe((0,Ii.Q)(Jo().outsideAngular))}function ad(O){return Jo(),function Jd(O){return function(H){return(H=H.lift(new gt(O.ngZone))).pipe((0,th.R)(O.outsideAngular),(0,Ii.Q)(O.insideAngular))}}(Jo())(O)}},552:(xt,je,K)=>{K.d(je,{$:()=>kl,A:()=>oe,B:()=>Ke,G:()=>Ld,H:()=>Mi,J:()=>Ts,L:()=>ae,M:()=>ur,N:()=>Bu,P:()=>ng,Q:()=>Vu,R:()=>ep,T:()=>ke,U:()=>Zi,V:()=>Dl,W:()=>yi,X:()=>Qc,Y:()=>ms,Z:()=>dc,_:()=>Il,a:()=>wa,a0:()=>qh,a1:()=>Hu,a2:()=>Ht,a3:()=>jd,a4:()=>ju,a5:()=>$s,a6:()=>vm,a7:()=>Qe,a8:()=>bm,a9:()=>Wh,aA:()=>re,aB:()=>Bt,aC:()=>nh,aD:()=>Ei,aE:()=>qi,aI:()=>bc,aL:()=>ga,aa:()=>Zo,ab:()=>pc,ac:()=>$u,af:()=>ym,ag:()=>Ko,ah:()=>wm,ak:()=>Va,al:()=>fc,an:()=>qu,ao:()=>zs,ap:()=>ze,aq:()=>mt,ar:()=>Nt,as:()=>Oe,at:()=>sp,au:()=>Ni,av:()=>ii,aw:()=>Ge,ax:()=>ye,ay:()=>Oi,az:()=>me,b:()=>As,c:()=>Ea,d:()=>Xd,e:()=>Dc,f:()=>Jd,g:()=>ne,h:()=>O,i:()=>Ms,j:()=>Ue,k:()=>km,l:()=>vo,m:()=>fs,o:()=>Me,r:()=>Cm,s:()=>Nl,u:()=>Em});var a=K(5861),ie=K(2090),q=K(9681),Ee=K(1877),he=K(655),_e=K(4859);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},it=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new Ee.Yd("@firebase/auth");function qe(S,...w){Ye.logLevel<=Ee.in.ERROR&&Ye.error(`Auth (${q.SDK_VERSION}): ${S}`,...w)}function Oe(S,...w){throw ht(S,...w)}function Ge(S,...w){return ht(S,...w)}function et(S,w,E){const M=Object.assign(Object.assign({},it()),{[w]:E});return new ie.LL("auth","Firebase",M).create(w,{appName:S.name})}function Ze(S,w,E){if(!(w instanceof E))throw E.name!==w.constructor.name&&Oe(S,"argument-error"),et(S,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(S,...w){if("string"!=typeof S){const E=w[0],M=[...w.slice(1)];return M[0]&&(M[0].appName=S.name),S._errorFactory.create(E,...M)}return Ct.create(S,...w)}function ye(S,w,...E){if(!S)throw ht(w,...E)}function Ae(S){const w="INTERNAL ASSERTION FAILED: "+S;throw qe(w),new Error(w)}function ze(S,w){S||Ae(w)}const pe=new Map;function me(S){ze(S instanceof Function,"Expected a class definition");let w=pe.get(S);return w?(ze(w instanceof S,"Instance stored in cache mismatched with class"),w):(w=new S,pe.set(S,w),w)}function at(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function st(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class pn{constructor(w,E){this.shortDelay=w,this.longDelay=E,ze(E>w,"Short delay should be less than long delay!"),this.isMobile=(0,ie.uI)()||(0,ie.b$)()}get(){return function zn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wn(S,w){ze(S.emulator,"Emulator should always be set here");const{url:E}=S.emulator;return w?`${E}${w.startsWith("/")?w.slice(1):w}`:E}class Xt{static initialize(w,E,M){this.fetchImpl=w,E&&(this.headersImpl=E),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gi=new pn(3e4,6e4);function Rn(S,w){return S.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:S.tenantId}):w}function Jt(S,w,E,M){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(S,w,E,M,U={}){return Es(S,U,(0,a.Z)(function*(){let W={},Ce={};M&&("GET"===w?Ce=M:W={body:JSON.stringify(M)});const We=(0,ie.xO)(Object.assign({key:S.config.apiKey},Ce)).slice(1),It=yield S._getAdditionalHeaders();return It["Content-Type"]="application/json",S.languageCode&&(It["X-Firebase-Locale"]=S.languageCode),Xt.fetch()(da(S,S.config.apiHost,E,We),Object.assign({method:w,headers:It,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Es(S,w,E){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,a.Z)(function*(S,w,E){S._canInitEmulator=!1;const M=Object.assign(Object.assign({},Gn),w);try{const U=new ko(S),W=yield Promise.race([E(),U.promise]);U.clearNetworkTimeout();const Ce=yield W.json();if("needConfirmation"in Ce)throw cr(S,"account-exists-with-different-credential",Ce);if(W.ok&&!("errorMessage"in Ce))return Ce;{const We=W.ok?Ce.errorMessage:Ce.error.message,[It,Ut]=We.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw cr(S,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===It)throw cr(S,"email-already-in-use",Ce);if("USER_DISABLED"===It)throw cr(S,"user-disabled",Ce);const Cn=M[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(Ut)throw et(S,Cn,Ut);Oe(S,Cn)}}catch(U){if(U instanceof ie.ZR)throw U;Oe(S,"network-request-failed")}})).apply(this,arguments)}function Hi(S,w,E,M){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(S,w,E,M,U={}){const W=yield Jt(S,w,E,M,U);return"mfaPendingCredential"in W&&Oe(S,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function da(S,w,E,M){const U=`${w}${E}?${M}`;return S.config.emulator?wn(S.config,U):`${S.config.apiScheme}://${U}`}class ko{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((E,M)=>{this.timer=setTimeout(()=>M(Ge(this.auth,"network-request-failed")),Gi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cr(S,w,E){const M={appName:S.name};E.email&&(M.email=E.email),E.phoneNumber&&(M.phoneNumber=E.phoneNumber);const U=Ge(S,w,M);return U.customData._tokenResponse=E,U}function oo(){return(oo=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function di(S,w){return kr.apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function At(S,w){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function ni(S){if(S)try{const w=new Date(Number(S));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function Ds(){return(Ds=(0,a.Z)(function*(S,w=!1){const E=(0,ie.m9)(S),M=yield E.getIdToken(w),U=zt(M);ye(U&&U.exp&&U.auth_time&&U.iat,E.auth,"internal-error");const W="object"==typeof U.firebase?U.firebase:void 0,Ce=W?.sign_in_provider;return{claims:U,token:M,authTime:ni(Ot(U.auth_time)),issuedAtTime:ni(Ot(U.iat)),expirationTime:ni(Ot(U.exp)),signInProvider:Ce||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Ot(S){return 1e3*Number(S)}function zt(S){const[w,E,M]=S.split(".");if(void 0===w||void 0===E||void 0===M)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,ie.tV)(E);return U?JSON.parse(U):(qe("Failed to decode base64 JWT payload"),null)}catch(U){return qe("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Ci(S,w){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(S,w,E=!1){if(E)return w;try{return yield w}catch(M){throw M instanceof ie.ZR&&oi(M)&&S.auth.currentUser===S&&(yield S.auth.signOut()),M}})).apply(this,arguments)}function oi({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}class Us{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var E;if(w){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const U=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(w=!1){var E=this;if(!this.isRunning)return;const M=this.getInterval(w);this.timerId=setTimeout((0,a.Z)(function*(){yield E.iteration()}),M)}iteration(){var w=this;return(0,a.Z)(function*(){try{yield w.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E?.code&&w.schedule(!0))}w.schedule()})()}}class vr{constructor(w,E){this.createdAt=w,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=ni(this.lastLoginAt),this.creationTime=ni(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ao(S){return En.apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(S){var w;const E=S.auth,M=yield S.getIdToken(),U=yield Ci(S,At(E,{idToken:M}));ye(U?.users.length,E,"internal-error");const W=U.users[0];S._notifyReloadListener(W);const Ce=null!==(w=W.providerUserInfo)&&void 0!==w&&w.length?vn(W.providerUserInfo):[],We=br(S.providerData,Ce),Cn=!!S.isAnonymous&&!(S.email&&W.passwordHash||We?.length),fi={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:We,metadata:new vr(W.createdAt,W.lastLoginAt),isAnonymous:Cn};Object.assign(S,fi)})).apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(S){const w=(0,ie.m9)(S);yield ao(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function br(S,w){return[...S.filter(M=>!w.some(U=>U.providerId===M.providerId)),...w]}function vn(S){return S.map(w=>{var{providerId:E}=w,M=(0,he._T)(w,["providerId"]);return{providerId:E,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function He(){return(He=(0,a.Z)(function*(S,w){const E=yield Es(S,{},(0,a.Z)(function*(){const M=(0,ie.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:U,apiKey:W}=S.config,Ce=da(S,U,"/v1/token",`key=${W}`),We=yield S._getAdditionalHeaders();return We["Content-Type"]="application/x-www-form-urlencoded",Xt.fetch()(Ce,{method:"POST",headers:We,body:M})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class St{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){ye(w.idToken,"internal-error"),ye(typeof w.idToken<"u","internal-error"),ye(typeof w.refreshToken<"u","internal-error");const E="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function gn(S){const w=zt(S);return ye(w,"internal-error"),ye(typeof w.exp<"u","internal-error"),ye(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,E)}getToken(w,E=!1){var M=this;return(0,a.Z)(function*(){return ye(!M.accessToken||M.refreshToken,w,"user-token-expired"),E||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(w,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,E){var M=this;return(0,a.Z)(function*(){const{accessToken:U,refreshToken:W,expiresIn:Ce}=yield function ot(S,w){return He.apply(this,arguments)}(w,E);M.updateTokensAndExpiration(U,W,Number(Ce))})()}updateTokensAndExpiration(w,E,M){this.refreshToken=E||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(w,E){const{refreshToken:M,accessToken:U,expirationTime:W}=E,Ce=new St;return M&&(ye("string"==typeof M,"internal-error",{appName:w}),Ce.refreshToken=M),U&&(ye("string"==typeof U,"internal-error",{appName:w}),Ce.accessToken=U),W&&(ye("number"==typeof W,"internal-error",{appName:w}),Ce.expirationTime=W),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new St,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function rn(S,w){ye("string"==typeof S||typeof S>"u","internal-error",{appName:w})}class en{constructor(w){var{uid:E,auth:M,stsTokenManager:U}=w,W=(0,he._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Us(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=M,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new vr(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(w){var E=this;return(0,a.Z)(function*(){const M=yield Ci(E,E.stsTokenManager.getToken(E.auth,w));return ye(M,E.auth,"internal-error"),E.accessToken!==M&&(E.accessToken=M,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),M})()}getIdTokenResult(w){return function tr(S){return Ds.apply(this,arguments)}(this,w)}reload(){return function lo(S){return _n.apply(this,arguments)}(this)}_assign(w){this!==w&&(ye(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(E=>Object.assign({},E)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){return new en(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(w){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,E=!1){var M=this;return(0,a.Z)(function*(){let U=!1;w.idToken&&w.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(w),U=!0),E&&(yield ao(M)),yield M.auth._persistUserIfCurrent(M),U&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var w=this;return(0,a.Z)(function*(){const E=yield w.getIdToken();return yield Ci(w,function Vs(S,w){return oo.apply(this,arguments)}(w.auth,{idToken:E})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,E){var M,U,W,Ce,We,It,Ut,Cn;const fi=null!==(M=E.displayName)&&void 0!==M?M:void 0,Os=null!==(U=E.email)&&void 0!==U?U:void 0,zi=null!==(W=E.phoneNumber)&&void 0!==W?W:void 0,Sc=null!==(Ce=E.photoURL)&&void 0!==Ce?Ce:void 0,Sa=null!==(We=E.tenantId)&&void 0!==We?We:void 0,_r=null!==(It=E._redirectEventId)&&void 0!==It?It:void 0,Uo=null!==(Ut=E.createdAt)&&void 0!==Ut?Ut:void 0,Ia=null!==(Cn=E.lastLoginAt)&&void 0!==Cn?Cn:void 0,{uid:ud,emailVerified:lp,isAnonymous:hd,providerData:Hl,stsTokenManager:ta}=E;ye(ud&&ta,w,"internal-error");const Ic=St.fromJSON(this.name,ta);ye("string"==typeof ud,w,"internal-error"),rn(fi,w.name),rn(Os,w.name),ye("boolean"==typeof lp,w,"internal-error"),ye("boolean"==typeof hd,w,"internal-error"),rn(zi,w.name),rn(Sc,w.name),rn(Sa,w.name),rn(_r,w.name),rn(Uo,w.name),rn(Ia,w.name);const ah=new en({uid:ud,auth:w,email:Os,emailVerified:lp,displayName:fi,isAnonymous:hd,photoURL:Sc,phoneNumber:zi,tenantId:Sa,stsTokenManager:Ic,createdAt:Uo,lastLoginAt:Ia});return Hl&&Array.isArray(Hl)&&(ah.providerData=Hl.map(ag=>Object.assign({},ag))),_r&&(ah._redirectEventId=_r),ah}static _fromIdTokenResponse(w,E,M=!1){return(0,a.Z)(function*(){const U=new St;U.updateFromServerResponse(E);const W=new en({uid:E.localId,auth:w,stsTokenManager:U,isAnonymous:M});return yield ao(W),W})()}}const ae=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(E,M){var U=this;return(0,a.Z)(function*(){U.storage[E]=M})()}_get(E){var M=this;return(0,a.Z)(function*(){const U=M.storage[E];return void 0===U?null:U})()}_remove(E){var M=this;return(0,a.Z)(function*(){delete M.storage[E]})()}_addListener(E,M){}_removeListener(E,M){}}return S.type="NONE",S})();function re(S,w,E){return`firebase:${S}:${w}:${E}`}class ce{constructor(w,E,M){this.persistence=w,this.auth=E,this.userKey=M;const{config:U,name:W}=this.auth;this.fullUserKey=re(this.userKey,U.apiKey,W),this.fullPersistenceKey=re("persistence",U.apiKey,W),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,a.Z)(function*(){const E=yield w.persistence._get(w.fullUserKey);return E?en._fromJSON(w.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var E=this;return(0,a.Z)(function*(){if(E.persistence===w)return;const M=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=w,M?E.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,E,M="authUser"){return(0,a.Z)(function*(){if(!E.length)return new ce(me(ae),w,M);const U=(yield Promise.all(E.map(function(){var Ut=(0,a.Z)(function*(Cn){if(yield Cn._isAvailable())return Cn});return function(Cn){return Ut.apply(this,arguments)}}()))).filter(Ut=>Ut);let W=U[0]||me(ae);const Ce=re(M,w.config.apiKey,w.name);let We=null;for(const Ut of E)try{const Cn=yield Ut._get(Ce);if(Cn){const fi=en._fromJSON(w,Cn);Ut!==W&&(We=fi),W=Ut;break}}catch{}const It=U.filter(Ut=>Ut._shouldAllowMigration);return W._shouldAllowMigration&&It.length?(W=It[0],We&&(yield W._set(Ce,We.toJSON())),yield Promise.all(E.map(function(){var Ut=(0,a.Z)(function*(Cn){if(Cn!==W)try{yield Cn._remove(Ce)}catch{}});return function(Cn){return Ut.apply(this,arguments)}}())),new ce(W,w,M)):new ce(W,w,M)})()}}function ee(S){const w=S.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(ue(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(z(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(ft(w))return"Blackberry";if(Zt(w))return"Webos";if(J(w))return"Safari";if((w.includes("chrome/")||Te(w))&&!w.includes("edge/"))return"Chrome";if(Nt(w))return"Android";{const M=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function z(S=(0,ie.z$)()){return/firefox\//i.test(S)}function J(S=(0,ie.z$)()){const w=S.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function Te(S=(0,ie.z$)()){return/crios\//i.test(S)}function ue(S=(0,ie.z$)()){return/iemobile/i.test(S)}function Nt(S=(0,ie.z$)()){return/android/i.test(S)}function ft(S=(0,ie.z$)()){return/blackberry/i.test(S)}function Zt(S=(0,ie.z$)()){return/webos/i.test(S)}function mt(S=(0,ie.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function ii(S=(0,ie.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function Mr(S=(0,ie.z$)()){return mt(S)||Nt(S)||Zt(S)||ft(S)||/windows phone/i.test(S)||ue(S)}function ua(S,w=[]){let E;switch(S){case"Browser":E=ee((0,ie.z$)());break;case"Worker":E=`${ee((0,ie.z$)())}-${S}`;break;default:E=S}const M=w.length?w.join(","):"FirebaseCore-web";return`${E}/JsCore/${q.SDK_VERSION}/${M}`}class ha{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,E){const M=W=>new Promise((Ce,We)=>{try{Ce(w(W))}catch(It){We(It)}});M.onAbort=E,this.queue.push(M);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(w){var E=this;return(0,a.Z)(function*(){if(E.auth.currentUser===w)return;const M=[];try{for(const U of E.queue)yield U(w),U.onAbort&&M.push(U.onAbort)}catch(U){M.reverse();for(const W of M)try{W()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}class lc{constructor(w,E,M){this.app=w,this.heartbeatServiceProvider=E,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hr(this),this.idTokenSubscription=new Hr(this),this.beforeStateQueue=new ha(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(w,E){var M=this;return E&&(this._popupRedirectResolver=me(E)),this._initializationPromise=this.queue((0,a.Z)(function*(){var U,W;if(!M._deleted&&(M.persistenceManager=yield ce.create(M,w),!M._deleted)){if(null!==(U=M._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(E),M.lastNotifiedUid=(null===(W=M.currentUser)||void 0===W?void 0:W.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,a.Z)(function*(){if(w._deleted)return;const E=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||E){if(w.currentUser&&E&&w.currentUser.uid===E.uid)return w._currentUser._assign(E),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(E,!0)}})()}initializeCurrentUser(w){var E=this;return(0,a.Z)(function*(){var M;const U=yield E.assertedPersistence.getCurrentUser();let W=U,Ce=!1;if(w&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const We=null===(M=E.redirectUser)||void 0===M?void 0:M._redirectEventId,It=W?._redirectEventId,Ut=yield E.tryRedirectSignIn(w);(!We||We===It)&&Ut?.user&&(W=Ut.user,Ce=!0)}if(!W)return E.directlySetCurrentUser(null);if(!W._redirectEventId){if(Ce)try{yield E.beforeStateQueue.runMiddleware(W)}catch(We){W=U,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(We))}return W?E.reloadAndSetCurrentUserOrClear(W):E.directlySetCurrentUser(null)}return ye(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===W._redirectEventId?E.directlySetCurrentUser(W):E.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(w){var E=this;return(0,a.Z)(function*(){let M=null;try{M=yield E._popupRedirectResolver._completeRedirectFn(E,w,!0)}catch{yield E._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(w){var E=this;return(0,a.Z)(function*(){try{yield ao(w)}catch(M){if("auth/network-request-failed"!==M?.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function si(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var w=this;return(0,a.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var E=this;return(0,a.Z)(function*(){const M=w?(0,ie.m9)(w):null;return M&&ye(M.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(M&&M._clone(E))})()}_updateCurrentUser(w,E=!1){var M=this;return(0,a.Z)(function*(){if(!M._deleted)return w&&ye(M.tenantId===w.tenantId,M,"tenant-id-mismatch"),E||(yield M.beforeStateQueue.runMiddleware(w)),M.queue((0,a.Z)(function*(){yield M.directlySetCurrentUser(w),M.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,a.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var E=this;return this.queue((0,a.Z)(function*(){yield E.assertedPersistence.setPersistence(me(w))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new ie.LL("auth","Firebase",w())}onAuthStateChanged(w,E,M){return this.registerStateListener(this.authStateSubscription,w,E,M)}beforeAuthStateChanged(w,E){return this.beforeStateQueue.pushCallback(w,E)}onIdTokenChanged(w,E,M){return this.registerStateListener(this.idTokenSubscription,w,E,M)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,E){var M=this;return(0,a.Z)(function*(){const U=yield M.getOrInitRedirectPersistenceManager(E);return null===w?U.removeCurrentUser():U.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var E=this;return(0,a.Z)(function*(){if(!E.redirectPersistenceManager){const M=w&&me(w)||E._popupRedirectResolver;ye(M,E,"argument-error"),E.redirectPersistenceManager=yield ce.create(E,[me(M._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(w){var E=this;return(0,a.Z)(function*(){var M,U;return E._isInitialized&&(yield E.queue((0,a.Z)(function*(){}))),(null===(M=E._currentUser)||void 0===M?void 0:M._redirectEventId)===w?E._currentUser:(null===(U=E.redirectUser)||void 0===U?void 0:U._redirectEventId)===w?E.redirectUser:null})()}_persistUserIfCurrent(w){var E=this;return(0,a.Z)(function*(){if(w===E.currentUser)return E.queue((0,a.Z)(function*(){return E.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(E=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,E,M,U){if(this._deleted)return()=>{};const W="function"==typeof E?E:E.next.bind(E),Ce=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(Ce,this,"internal-error"),Ce.then(()=>W(this.currentUser)),"function"==typeof E?w.addObserver(E,M,U):w.addObserver(E)}directlySetCurrentUser(w){var E=this;return(0,a.Z)(function*(){E.currentUser&&E.currentUser!==w&&E._currentUser._stopProactiveRefresh(),w&&E.isProactiveRefreshEnabled&&w._startProactiveRefresh(),E.currentUser=w,w?yield E.assertedPersistence.setCurrentUser(w):yield E.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=ua(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,a.Z)(function*(){var E;const M={"X-Client-Version":w.clientVersion};w.app.options.appId&&(M["X-Firebase-gmpid"]=w.app.options.appId);const U=yield null===(E=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return U&&(M["X-Firebase-Client"]=U),M})()}}function qi(S){return(0,ie.m9)(S)}class Hr{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,ie.ne)(E=>this.observer=E)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ld(S,w,E){const M=qi(S);ye(M._canInitEmulator,M,"emulator-config-failed"),ye(/^https?:\/\//.test(w),M,"invalid-emulator-scheme");const U=!!E?.disableWarnings,W=Yc(w),{host:Ce,port:We}=function pa(S){const w=Yc(S),E=/(\/\/)?([^?#/]+)/.exec(S.substr(w.length));if(!E)return{host:"",port:null};const M=E[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(M);if(U){const W=U[1];return{host:W,port:Go(M.substr(W.length+1))}}{const[W,Ce]=M.split(":");return{host:W,port:Go(Ce)}}}(w);M.config.emulator={url:`${W}//${Ce}${null===We?"":`:${We}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Ce,port:We,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Yn(){function S(){const w=document.createElement("p"),E=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function Yc(S){const w=S.indexOf(":");return w<0?"":S.substr(0,w+1)}function Go(S){if(!S)return null;const w=Number(S);return isNaN(w)?null:w}class Mi{constructor(w,E){this.providerId=w,this.signInMethod=E}toJSON(){return Ae("not implemented")}_getIdTokenResponse(w){return Ae("not implemented")}_linkToIdToken(w,E){return Ae("not implemented")}_getReauthenticationResolver(w){return Ae("not implemented")}}function Jr(S,w){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:resetPassword",Rn(S,w))})).apply(this,arguments)}function Rr(S,w){return co.apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function kt(S,w){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:update",Rn(S,w))})).apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(S,w){return Hi(S,"POST","/v1/accounts:signInWithPassword",Rn(S,w))})).apply(this,arguments)}function uo(S,w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:sendOobCode",Rn(S,w))})).apply(this,arguments)}function Ao(S,w){return un.apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(S,w){return uo(S,w)})).apply(this,arguments)}function qo(S,w){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,a.Z)(function*(S,w){return uo(S,w)})).apply(this,arguments)}function Mt(S,w){return ho.apply(this,arguments)}function ho(){return(ho=(0,a.Z)(function*(S,w){return uo(S,w)})).apply(this,arguments)}function ma(S,w){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(S,w){return uo(S,w)})).apply(this,arguments)}function Yi(){return(Yi=(0,a.Z)(function*(S,w){return Hi(S,"POST","/v1/accounts:signInWithEmailLink",Rn(S,w))})).apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*(S,w){return Hi(S,"POST","/v1/accounts:signInWithEmailLink",Rn(S,w))})).apply(this,arguments)}class dr extends Mi{constructor(w,E,M,U=null){super("password",M),this._email=w,this._password=E,this._tenantId=U}static _fromEmailAndPassword(w,E){return new dr(w,E,"password")}static _fromEmailAndCode(w,E,M=null){return new dr(w,E,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const E="string"==typeof w?JSON.parse(w):w;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(w){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return function Ri(S,w){return yr.apply(this,arguments)}(w,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Wo(S,w){return Yi.apply(this,arguments)}(w,{email:E._email,oobCode:E._password});default:Oe(w,"internal-error")}})()}_linkToIdToken(w,E){var M=this;return(0,a.Z)(function*(){switch(M.signInMethod){case"password":return Rr(w,{idToken:E,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Cl(S,w){return Mo.apply(this,arguments)}(w,{idToken:E,email:M._email,oobCode:M._password});default:Oe(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function Bn(S,w){return es.apply(this,arguments)}function es(){return(es=(0,a.Z)(function*(S,w){return Hi(S,"POST","/v1/accounts:signInWithIdp",Rn(S,w))})).apply(this,arguments)}class Ts extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const E=new Ts(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(E.idToken=w.idToken),w.accessToken&&(E.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(E.nonce=w.nonce),w.pendingToken&&(E.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(E.accessToken=w.oauthToken,E.secret=w.oauthTokenSecret):Oe("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const E="string"==typeof w?JSON.parse(w):w,{providerId:M,signInMethod:U}=E,W=(0,he._T)(E,["providerId","signInMethod"]);if(!M||!U)return null;const Ce=new Ts(M,U);return Ce.idToken=W.idToken||void 0,Ce.accessToken=W.accessToken||void 0,Ce.secret=W.secret,Ce.nonce=W.nonce,Ce.pendingToken=W.pendingToken||null,Ce}_getIdTokenResponse(w){return Bn(w,this.buildRequest())}_linkToIdToken(w,E){const M=this.buildRequest();return M.idToken=E,Bn(w,M)}_getReauthenticationResolver(w){const E=this.buildRequest();return E.autoCreate=!1,Bn(w,E)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),w.postBody=(0,ie.xO)(E)}return w}}function Ro(S,w){return El.apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:sendVerificationCode",Rn(S,w))})).apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(S,w){return Hi(S,"POST","/v1/accounts:signInWithPhoneNumber",Rn(S,w))})).apply(this,arguments)}function jr(){return(jr=(0,a.Z)(function*(S,w){const E=yield Hi(S,"POST","/v1/accounts:signInWithPhoneNumber",Rn(S,w));if(E.temporaryProof)throw cr(S,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Jf={USER_NOT_FOUND:"user-not-found"};function mn(){return(mn=(0,a.Z)(function*(S,w){return Hi(S,"POST","/v1/accounts:signInWithPhoneNumber",Rn(S,Object.assign(Object.assign({},w),{operation:"REAUTH"})),Jf)})).apply(this,arguments)}class pt extends Mi{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,E){return new pt({verificationId:w,verificationCode:E})}static _fromTokenResponse(w,E){return new pt({phoneNumber:w,temporaryProof:E})}_getIdTokenResponse(w){return function po(S,w){return ui.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,E){return function ps(S,w){return jr.apply(this,arguments)}(w,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function Ss(S,w){return mn.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:E,verificationId:M,verificationCode:U}=this.params;return w&&E?{temporaryProof:w,phoneNumber:E}:{sessionInfo:M,code:U}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:E,verificationCode:M,phoneNumber:U,temporaryProof:W}=w;return M||E||U||W?new pt({verificationId:E,verificationCode:M,phoneNumber:U,temporaryProof:W}):null}}class sr{constructor(w){var E,M,U,W,Ce,We;const It=(0,ie.zd)((0,ie.pd)(w)),Ut=null!==(E=It.apiKey)&&void 0!==E?E:null,Cn=null!==(M=It.oobCode)&&void 0!==M?M:null,fi=function Zc(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=It.mode)&&void 0!==U?U:null);ye(Ut&&Cn&&fi,"argument-error"),this.apiKey=Ut,this.operation=fi,this.code=Cn,this.continueUrl=null!==(W=It.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(Ce=It.languageCode)&&void 0!==Ce?Ce:null,this.tenantId=null!==(We=It.tenantId)&&void 0!==We?We:null}static parseLink(w){const E=function wr(S){const w=(0,ie.zd)((0,ie.pd)(S)).link,E=w?(0,ie.zd)((0,ie.pd)(w)).deep_link_id:null,M=(0,ie.zd)((0,ie.pd)(S)).deep_link_id;return(M?(0,ie.zd)((0,ie.pd)(M)).link:null)||M||E||w||S}(w);try{return new sr(E)}catch{return null}}}let ur=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(E,M){return dr._fromEmailAndPassword(E,M)}static credentialWithLink(E,M){const U=sr.parseLink(M);return ye(U,"argument-error"),dr._fromEmailAndCode(E,U.code,U.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class fa{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class Ba extends fa{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class Zi extends Ba{static credentialFromJSON(w){const E="string"==typeof w?JSON.parse(w):w;return ye("providerId"in E&&"signInMethod"in E,"argument-error"),Ts._fromParams(E)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return ye(w.idToken||w.accessToken,"argument-error"),Ts._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return Zi.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return Zi.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:E,oauthAccessToken:M,oauthTokenSecret:U,pendingToken:W,nonce:Ce,providerId:We}=w;if(!M&&!U&&!E&&!W||!We)return null;try{return new Zi(We)._credential({idToken:E,accessToken:M,nonce:Ce,pendingToken:W})}catch{return null}}}let Bu=(()=>{class S extends Ba{constructor(){super("facebook.com")}static credential(E){return Ts._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return S.credentialFromTaggedObject(E)}static credentialFromError(E){return S.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return S.credential(E.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),Vu=(()=>{class S extends Ba{constructor(){super("google.com"),this.addScope("profile")}static credential(E,M){return Ts._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:M})}static credentialFromResult(E){return S.credentialFromTaggedObject(E)}static credentialFromError(E){return S.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:M,oauthAccessToken:U}=E;if(!M&&!U)return null;try{return S.credential(M,U)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),ke=(()=>{class S extends Ba{constructor(){super("github.com")}static credential(E){return Ts._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return S.credentialFromTaggedObject(E)}static credentialFromError(E){return S.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return S.credential(E.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class ga extends Mi{constructor(w,E){super(w,w),this.pendingToken=E}_getIdTokenResponse(w){return Bn(w,this.buildRequest())}_linkToIdToken(w,E){const M=this.buildRequest();return M.idToken=E,Bn(w,M)}_getReauthenticationResolver(w){const E=this.buildRequest();return E.autoCreate=!1,Bn(w,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const E="string"==typeof w?JSON.parse(w):w,{providerId:M,signInMethod:U,pendingToken:W}=E;return M&&U&&W&&M===U?new ga(M,W):null}static _create(w,E){return new ga(w,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Dl extends fa{constructor(w){ye(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return Dl.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return Dl.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const E=ga.fromJSON(w);return ye(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:E,providerId:M}=w;if(!E||!M)return null;try{return ga._create(M,E)}catch{return null}}}let yi=(()=>{class S extends Ba{constructor(){super("twitter.com")}static credential(E,M){return Ts._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:M})}static credentialFromResult(E){return S.credentialFromTaggedObject(E)}static credentialFromError(E){return S.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:M,oauthTokenSecret:U}=E;if(!M||!U)return null;try{return S.credential(M,U)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function zh(S,w){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,a.Z)(function*(S,w){return Hi(S,"POST","/v1/accounts:signUp",Rn(S,w))})).apply(this,arguments)}class mo{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,E,M,U=!1){return(0,a.Z)(function*(){const W=yield en._fromIdTokenResponse(w,M,U),Ce=Bd(M);return new mo({user:W,providerId:Ce,_tokenResponse:M,operationType:E})})()}static _forOperation(w,E,M){return(0,a.Z)(function*(){yield w._updateTokensIfNecessary(M,!0);const U=Bd(M);return new mo({user:w,providerId:U,_tokenResponse:M,operationType:E})})()}}function Bd(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function Qc(S){return cc.apply(this,arguments)}function cc(){return(cc=(0,a.Z)(function*(S){var w;const E=qi(S);if(yield E._initializationPromise,null!==(w=E.currentUser)&&void 0!==w&&w.isAnonymous)return new mo({user:E.currentUser,providerId:null,operationType:"signIn"});const M=yield zh(E,{returnSecureToken:!0}),U=yield mo._fromIdTokenResponse(E,"signIn",M,!0);return yield E._updateCurrentUser(U.user),U})).apply(this,arguments)}class Gh extends ie.ZR{constructor(w,E,M,U){var W;super(E.code,E.message),this.operationType=M,this.user=U,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:w.name,tenantId:null!==(W=w.tenantId)&&void 0!==W?W:void 0,_serverResponse:E.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(w,E,M,U){return new Gh(w,E,M,U)}}function $r(S,w,E,M){return("reauthenticate"===w?E._getReauthenticationResolver(S):E._getIdTokenResponse(S)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?Gh._fromErrorAndOperation(S,W,w,M):W})}function Tl(S){return new Set(S.map(({providerId:w})=>w).filter(w=>!!w))}function Va(S,w){return we.apply(this,arguments)}function we(){return(we=(0,a.Z)(function*(S,w){const E=(0,ie.m9)(S);yield Xc(!0,E,w);const{providerUserInfo:M}=yield di(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[w]}),U=Tl(M||[]);return E.providerData=E.providerData.filter(W=>U.has(W.providerId)),U.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function te(S,w){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,a.Z)(function*(S,w,E=!1){const M=yield Ci(S,w._linkToIdToken(S.auth,yield S.getIdToken()),E);return mo._forOperation(S,"link",M)})).apply(this,arguments)}function Xc(S,w,E){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,a.Z)(function*(S,w,E){yield ao(w);const U=!1===S?"provider-already-linked":"no-such-provider";ye(Tl(w.providerData).has(E)===S,w.auth,U)})).apply(this,arguments)}function Ud(S,w){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(S,w,E=!1){const{auth:M}=S,U="reauthenticate";try{const W=yield Ci(S,$r(M,U,w,S),E);ye(W.idToken,M,"internal-error");const Ce=zt(W.idToken);ye(Ce,M,"internal-error");const{sub:We}=Ce;return ye(S.uid===We,M,"user-mismatch"),mo._forOperation(S,U,W)}catch(W){throw"auth/user-not-found"===W?.code&&Oe(M,"user-mismatch"),W}})).apply(this,arguments)}function Jc(S,w){return _a.apply(this,arguments)}function _a(){return(_a=(0,a.Z)(function*(S,w,E=!1){const M="signIn",U=yield $r(S,M,w),W=yield mo._fromIdTokenResponse(S,M,U);return E||(yield S._updateCurrentUser(W.user)),W})).apply(this,arguments)}function ms(S,w){return hr.apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(S,w){return Jc(qi(S),w)})).apply(this,arguments)}function dc(S,w){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(S,w){const E=(0,ie.m9)(S);return yield Xc(!1,E,w.providerId),te(E,w)})).apply(this,arguments)}function Il(S,w){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(S,w){return Ud((0,ie.m9)(S),w)})).apply(this,arguments)}function pr(S,w){return ed.apply(this,arguments)}function ed(){return(ed=(0,a.Z)(function*(S,w){return Hi(S,"POST","/v1/accounts:signInWithCustomToken",Rn(S,w))})).apply(this,arguments)}function kl(S,w){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(S,w){const E=qi(S),M=yield pr(E,{token:w,returnSecureToken:!0}),U=yield mo._fromIdTokenResponse(E,"signIn",M);return yield E._updateCurrentUser(U.user),U})).apply(this,arguments)}class xr{constructor(w,E){this.factorId=w,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(w,E){return"phoneInfo"in E?Hd._fromServerResponse(w,E):Oe(w,"internal-error")}}class Hd extends xr{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,E){return new Hd(E)}}function uc(S,w,E){var M;ye((null===(M=E.url)||void 0===M?void 0:M.length)>0,S,"invalid-continue-uri"),ye(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),w.continueUrl=E.url,w.dynamicLinkDomain=E.dynamicLinkDomain,w.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(ye(E.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),w.iOSBundleId=E.iOS.bundleId),E.android&&(ye(E.android.packageName.length>0,S,"missing-android-pkg-name"),w.androidInstallApp=E.android.installApp,w.androidMinimumVersionCode=E.android.minimumVersion,w.androidPackageName=E.android.packageName)}function qh(S,w,E){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S),U={requestType:"PASSWORD_RESET",email:w};E&&uc(M,U,E),yield qo(M,U)})).apply(this,arguments)}function Hu(S,w,E){return ja.apply(this,arguments)}function ja(){return(ja=(0,a.Z)(function*(S,w,E){yield Jr((0,ie.m9)(S),{oobCode:w,newPassword:E})})).apply(this,arguments)}function Ht(S,w){return ts.apply(this,arguments)}function ts(){return(ts=(0,a.Z)(function*(S,w){yield kt((0,ie.m9)(S),{oobCode:w})})).apply(this,arguments)}function jd(S,w){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(S,w){const E=(0,ie.m9)(S),M=yield Jr(E,{oobCode:w}),U=M.requestType;switch(ye(U,E,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(M.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(M.mfaInfo,E,"internal-error");default:ye(M.email,E,"internal-error")}let W=null;return M.mfaInfo&&(W=xr._fromServerResponse(qi(E),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:W},operation:U}})).apply(this,arguments)}function ju(S,w){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(S,w){const{data:E}=yield jd((0,ie.m9)(S),w);return E.email})).apply(this,arguments)}function $s(S,w,E){return hi.apply(this,arguments)}function hi(){return(hi=(0,a.Z)(function*(S,w,E){const M=qi(S),U=yield zh(M,{returnSecureToken:!0,email:w,password:E}),W=yield mo._fromIdTokenResponse(M,"signIn",U);return yield M._updateCurrentUser(W.user),W})).apply(this,arguments)}function vm(S,w,E){return ms((0,ie.m9)(S),ur.credential(w,E))}function Qe(S,w,E){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S),U={requestType:"EMAIL_SIGNIN",email:w};ye(E.handleCodeInApp,M,"argument-error"),E&&uc(M,U,E),yield Mt(M,U)})).apply(this,arguments)}function bm(S,w){return"EMAIL_SIGNIN"===sr.parseLink(w)?.operation}function Wh(S,w,E){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S),U=ur.credentialWithLink(w,E||at());return ye(U._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),ms(M,U)})).apply(this,arguments)}function $d(S,w){return hc.apply(this,arguments)}function hc(){return(hc=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:createAuthUri",Rn(S,w))})).apply(this,arguments)}function Zo(S,w){return va.apply(this,arguments)}function va(){return(va=(0,a.Z)(function*(S,w){const M={identifier:w,continueUri:st()?at():"http://localhost"},{signinMethods:U}=yield $d((0,ie.m9)(S),M);return U||[]})).apply(this,arguments)}function pc(S,w){return Al.apply(this,arguments)}function Al(){return(Al=(0,a.Z)(function*(S,w){const E=(0,ie.m9)(S),U={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};w&&uc(E.auth,U,w);const{email:W}=yield Ao(E.auth,U);W!==S.email&&(yield S.reload())})).apply(this,arguments)}function $u(S,w,E){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:w};E&&uc(M.auth,W,E);const{email:Ce}=yield ma(M.auth,W);Ce!==S.email&&(yield S.reload())})).apply(this,arguments)}function Pi(S,w){return mr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(S,w){return Jt(S,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function ym(S,w){return go.apply(this,arguments)}function go(){return(go=(0,a.Z)(function*(S,{displayName:w,photoURL:E}){if(void 0===w&&void 0===E)return;const M=(0,ie.m9)(S),W={idToken:yield M.getIdToken(),displayName:w,photoUrl:E,returnSecureToken:!0},Ce=yield Ci(M,Pi(M.auth,W));M.displayName=Ce.displayName||null,M.photoURL=Ce.photoUrl||null;const We=M.providerData.find(({providerId:It})=>"password"===It);We&&(We.displayName=M.displayName,We.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Ce)})).apply(this,arguments)}function Ko(S,w){return zu((0,ie.m9)(S),w,null)}function wm(S,w){return zu((0,ie.m9)(S),null,w)}function zu(S,w,E){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,a.Z)(function*(S,w,E){const{auth:M}=S,W={idToken:yield S.getIdToken(),returnSecureToken:!0};w&&(W.email=w),E&&(W.password=E);const Ce=yield Ci(S,Rr(M,W));yield S._updateTokensIfNecessary(Ce,!0)})).apply(this,arguments)}class Er{constructor(w,E,M={}){this.isNewUser=w,this.providerId=E,this.profile=M}}class Is extends Er{constructor(w,E,M,U){super(w,E,M),this.username=U}}class ba extends Er{constructor(w,E){super(w,"facebook.com",E)}}class No extends Is{constructor(w,E){super(w,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class Qo extends Er{constructor(w,E){super(w,"google.com",E)}}class mc extends Is{constructor(w,E,M){super(w,"twitter.com",E,M)}}function fc(S){const{user:w,_tokenResponse:E}=S;return w.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Yh(S){var w,E;if(!S)return null;const{providerId:M}=S,U=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},W=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!M&&S?.idToken){const Ce=null===(E=null===(w=zt(S.idToken))||void 0===w?void 0:w.firebase)||void 0===E?void 0:E.sign_in_provider;if(Ce)return new Er(W,"anonymous"!==Ce&&"custom"!==Ce?Ce:null)}if(!M)return null;switch(M){case"facebook.com":return new ba(W,U);case"github.com":return new No(W,U);case"google.com":return new Qo(W,U);case"twitter.com":return new mc(W,U,S.screenName||null);case"custom":case"anonymous":return new Er(W,null);default:return new Er(W,M,U)}}(E)}class pi{constructor(w,E,M){this.type=w,this.credential=E,this.auth=M}static _fromIdtoken(w,E){return new pi("enroll",w,E)}static _fromMfaPendingCredential(w){return new pi("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var E,M;if(w?.multiFactorSession){if(null!==(E=w.multiFactorSession)&&void 0!==E&&E.pendingCredential)return pi._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(M=w.multiFactorSession)&&void 0!==M&&M.idToken)return pi._fromIdtoken(w.multiFactorSession.idToken)}return null}}class nd{constructor(w,E,M){this.session=w,this.hints=E,this.signInResolver=M}static _fromError(w,E){const M=qi(w),U=E.customData._serverResponse,W=(U.mfaInfo||[]).map(We=>xr._fromServerResponse(M,We));ye(U.mfaPendingCredential,M,"internal-error");const Ce=pi._fromMfaPendingCredential(U.mfaPendingCredential);return new nd(Ce,W,function(){var We=(0,a.Z)(function*(It){const Ut=yield It._process(M,Ce);delete U.mfaInfo,delete U.mfaPendingCredential;const Cn=Object.assign(Object.assign({},U),{idToken:Ut.idToken,refreshToken:Ut.refreshToken});switch(E.operationType){case"signIn":const fi=yield mo._fromIdTokenResponse(M,E.operationType,Cn);return yield M._updateCurrentUser(fi.user),fi;case"reauthenticate":return ye(E.user,M,"internal-error"),mo._forOperation(E.user,E.operationType,Cn);default:Oe(M,"internal-error")}});return function(It){return We.apply(this,arguments)}}())}resolveSignIn(w){var E=this;return(0,a.Z)(function*(){return E.signInResolver(w)})()}}function qu(S,w){var E;const M=(0,ie.m9)(S),U=w;return ye(w.customData.operationType,M,"argument-error"),ye(null===(E=U.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,M,"argument-error"),nd._fromError(M,U)}function zr(S,w){return Jt(S,"POST","/v2/accounts/mfaEnrollment:start",Rn(S,w))}class Nn{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(M=>xr._fromServerResponse(w.auth,M)))})}static _fromUser(w){return new Nn(w)}getSession(){var w=this;return(0,a.Z)(function*(){return pi._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,E){var M=this;return(0,a.Z)(function*(){const U=w,W=yield M.getSession(),Ce=yield Ci(M.user,U._process(M.user.auth,W,E));return yield M.user._updateTokensIfNecessary(Ce),M.user.reload()})()}unenroll(w){var E=this;return(0,a.Z)(function*(){const M="string"==typeof w?w:w.uid,U=yield E.user.getIdToken(),W=yield Ci(E.user,function mi(S,w){return Jt(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Rn(S,w))}(E.user.auth,{idToken:U,mfaEnrollmentId:M}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Ce})=>Ce!==M),yield E.user._updateTokensIfNecessary(W);try{yield E.user.reload()}catch(Ce){if("auth/user-token-expired"!==Ce?.code)throw Ce}})()}}const Ga=new WeakMap;function zs(S){const w=(0,ie.m9)(S);return Ga.has(w)||Ga.set(w,Nn._fromUser(w)),Ga.get(w)}const qa="__sak";class ya{constructor(w,E){this.storageRetriever=w,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,E){return this.storage.setItem(w,JSON.stringify(E)),Promise.resolve()}_get(w){const E=this.storage.getItem(w);return Promise.resolve(E?JSON.parse(E):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const As=(()=>{class S extends ya{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,M)=>this.onStorageEvent(E,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gc(){const S=(0,ie.z$)();return J(S)||mt(S)}()&&function ac(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mr(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const M of Object.keys(this.listeners)){const U=this.storage.getItem(M),W=this.localCache[M];U!==W&&E(M,W,U)}}onStorageEvent(E,M=!1){if(!E.key)return void this.forAllChangedKeys((We,It,Ut)=>{this.notifyListeners(We,Ut)});const U=E.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const We=this.storage.getItem(U);if(E.newValue!==We)null!==E.newValue?this.storage.setItem(U,E.newValue):this.storage.removeItem(U);else if(this.localCache[U]===E.newValue&&!M)return}const W=()=>{const We=this.storage.getItem(U);!M&&this.localCache[U]===We||this.notifyListeners(U,We)},Ce=this.storage.getItem(U);!function dt(){return(0,ie.w1)()&&10===document.documentMode}()||Ce===E.newValue||E.newValue===E.oldValue?W():setTimeout(W,10)}notifyListeners(E,M){this.localCache[E]=M;const U=this.listeners[E];if(U)for(const W of Array.from(U))W(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,M,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:M,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(M)}_removeListener(E,M){this.listeners[E]&&(this.listeners[E].delete(M),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,M){var U=()=>super._set,W=this;return(0,a.Z)(function*(){yield U().call(W,E,M),W.localCache[E]=JSON.stringify(M)})()}_get(E){var M=()=>super._get,U=this;return(0,a.Z)(function*(){const W=yield M().call(U,E);return U.localCache[E]=JSON.stringify(W),W})()}_remove(E){var M=()=>super._remove,U=this;return(0,a.Z)(function*(){yield M().call(U,E),delete U.localCache[E]})()}}return S.type="LOCAL",S})(),wa=(()=>{class S extends ya{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,M){}_removeListener(E,M){}}return S.type="SESSION",S})();let id=(()=>{class S{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const M=this.receivers.find(W=>W.isListeningto(E));if(M)return M;const U=new S(E);return this.receivers.push(U),U}isListeningto(E){return this.eventTarget===E}handleEvent(E){var M=this;return(0,a.Z)(function*(){const U=E,{eventId:W,eventType:Ce,data:We}=U.data,It=M.handlersMap[Ce];if(!It?.size)return;U.ports[0].postMessage({status:"ack",eventId:W,eventType:Ce});const Ut=Array.from(It).map(function(){var fi=(0,a.Z)(function*(Os){return Os(U.origin,We)});return function(Os){return fi.apply(this,arguments)}}()),Cn=yield function Wu(S){return Promise.all(S.map(function(){var w=(0,a.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(M){return{fulfilled:!1,reason:M}}});return function(E){return w.apply(this,arguments)}}()))}(Ut);U.ports[0].postMessage({status:"done",eventId:W,eventType:Ce,response:Cn})})()}_subscribe(E,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(M)}_unsubscribe(E,M){this.handlersMap[E]&&M&&this.handlersMap[E].delete(M),(!M||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function bc(S="",w=10){let E="";for(let M=0;M<w;M++)E+=Math.floor(10*Math.random());return S+E}class Gd{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,E,M=50){var U=this;return(0,a.Z)(function*(){const W=typeof MessageChannel<"u"?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let Ce,We;return new Promise((It,Ut)=>{const Cn=bc("",20);W.port1.start();const fi=setTimeout(()=>{Ut(new Error("unsupported_event"))},M);We={messageChannel:W,onMessage(Os){const zi=Os;if(zi.data.eventId===Cn)switch(zi.data.status){case"ack":clearTimeout(fi),Ce=setTimeout(()=>{Ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ce),It(zi.data.response);break;default:clearTimeout(fi),clearTimeout(Ce),Ut(new Error("invalid_response"))}}},U.handlers.add(We),W.port1.addEventListener("message",We.onMessage),U.target.postMessage({eventType:w,eventId:Cn,data:E},[W.port2])}).finally(()=>{We&&U.removeMessageHandler(We)})})()}}function Qi(){return window}function Wa(){return typeof Qi().WorkerGlobalScope<"u"&&"function"==typeof Qi().importScripts}function Fo(){return(Fo=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ya="firebaseLocalStorageDb",xa="firebaseLocalStorage",Za="fbase_key";class Xo{constructor(w){this.request=w}toPromise(){return new Promise((w,E)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Ka(S,w){return S.transaction([xa],w?"readwrite":"readonly").objectStore(xa)}function Rl(){const S=indexedDB.open(Ya,1);return new Promise((w,E)=>{S.addEventListener("error",()=>{E(S.error)}),S.addEventListener("upgradeneeded",()=>{const M=S.result;try{M.createObjectStore(xa,{keyPath:Za})}catch(U){E(U)}}),S.addEventListener("success",(0,a.Z)(function*(){const M=S.result;M.objectStoreNames.contains(xa)?w(M):(M.close(),yield function Wd(){const S=indexedDB.deleteDatabase(Ya);return new Xo(S).toPromise()}(),w(yield Rl()))}))})}function wc(S,w,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,a.Z)(function*(S,w,E){const M=Ka(S,!0).put({[Za]:w,value:E});return new Xo(M).toPromise()})).apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(S,w){const E=Ka(S,!1).get(w),M=yield new Xo(E).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Pl(S,w){const E=Ka(S,!0).delete(w);return new Xo(E).toPromise()}const Ms=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,a.Z)(function*(){return E.db||(E.db=yield Rl()),E.db})()}_withRetries(E){var M=this;return(0,a.Z)(function*(){let U=0;for(;;)try{const W=yield M._openDb();return yield E(W)}catch(W){if(U++>3)throw W;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,a.Z)(function*(){return Wa()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,a.Z)(function*(){E.receiver=id._getInstance(function yc(){return Wa()?self:null}()),E.receiver._subscribe("keyChanged",function(){var M=(0,a.Z)(function*(U,W){return{keyProcessed:(yield E._poll()).includes(W.key)}});return function(U,W){return M.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var M=(0,a.Z)(function*(U,W){return["keyChanged"]});return function(U,W){return M.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,a.Z)(function*(){var M,U;if(E.activeServiceWorker=yield function qd(){return Fo.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Gd(E.activeServiceWorker);const W=yield E.sender._send("ping",{},800);!W||(null===(M=W[0])||void 0===M?void 0:M.fulfilled)&&(null===(U=W[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var M=this;return(0,a.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Yu(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:E},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Rl();return yield wc(E,qa,"1"),yield Pl(E,qa),!0}catch{}return!1})()}_withPendingWrite(E){var M=this;return(0,a.Z)(function*(){M.pendingWrites++;try{yield E()}finally{M.pendingWrites--}})()}_set(E,M){var U=this;return(0,a.Z)(function*(){return U._withPendingWrite((0,a.Z)(function*(){return yield U._withRetries(W=>wc(W,E,M)),U.localCache[E]=M,U.notifyServiceWorker(E)}))})()}_get(E){var M=this;return(0,a.Z)(function*(){const U=yield M._withRetries(W=>function Ku(S,w){return _o.apply(this,arguments)}(W,E));return M.localCache[E]=U,U})()}_remove(E){var M=this;return(0,a.Z)(function*(){return M._withPendingWrite((0,a.Z)(function*(){return yield M._withRetries(U=>Pl(U,E)),delete M.localCache[E],M.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,a.Z)(function*(){const M=yield E._withRetries(Ce=>{const We=Ka(Ce,!1).getAll();return new Xo(We).toPromise()});if(!M)return[];if(0!==E.pendingWrites)return[];const U=[],W=new Set;for(const{fbase_key:Ce,value:We}of M)W.add(Ce),JSON.stringify(E.localCache[Ce])!==JSON.stringify(We)&&(E.notifyListeners(Ce,We),U.push(Ce));for(const Ce of Object.keys(E.localCache))E.localCache[Ce]&&!W.has(Ce)&&(E.notifyListeners(Ce,null),U.push(Ce));return U})()}notifyListeners(E,M){this.localCache[E]=M;const U=this.listeners[E];if(U)for(const W of Array.from(U))W(M)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(M)}_removeListener(E,M){this.listeners[E]&&(this.listeners[E].delete(M),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})();function Qa(S,w){return Jt(S,"POST","/v2/accounts/mfaSignIn:start",Rn(S,w))}function Gs(){return(Gs=(0,a.Z)(function*(S){return(yield Jt(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xc(S){return new Promise((w,E)=>{const M=document.createElement("script");M.setAttribute("src",S),M.onload=w,M.onerror=U=>{const W=Ge("internal-error");W.customData=U,E(W)},M.type="text/javascript",M.charset="UTF-8",function Qh(){var S,w;return null!==(w=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==w?w:document}().appendChild(M)})}function Lo(S){return`__${S}${Math.floor(1e6*Math.random())}`}const Gr=1e12;class fr{constructor(w){this.auth=w,this.counter=Gr,this._widgets=new Map}render(w,E){const M=this.counter;return this._widgets.set(M,new Qd(w,this.auth.name,E||{})),this.counter++,M}reset(w){var E;const M=w||Gr;null===(E=this._widgets.get(M))||void 0===E||E.delete(),this._widgets.delete(M)}getResponse(w){var E;return(null===(E=this._widgets.get(w||Gr))||void 0===E?void 0:E.getResponse())||""}execute(w){var E=this;return(0,a.Z)(function*(){var M;return null===(M=E._widgets.get(w||Gr))||void 0===M||M.execute(),""})()}}class Qd{constructor(w,E,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof w?document.getElementById(w):w;ye(U,"argument-error",{appName:E}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xu(S){const w=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<S;M++)w.push(E.charAt(Math.floor(Math.random()*E.length)));return w.join("")}(50);const{callback:w,"expired-callback":E}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ja=Lo("rcb"),_v=new pn(3e4,6e4);class Xh{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Qi().grecaptcha)||void 0===w||!w.render)}load(w,E=""){return ye(function Rs(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(E),w,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(Qi().grecaptcha):new Promise((M,U)=>{const W=Qi().setTimeout(()=>{U(Ge(w,"network-request-failed"))},_v.get());Qi()[Ja]=()=>{Qi().clearTimeout(W),delete Qi()[Ja];const We=Qi().grecaptcha;if(!We)return void U(Ge(w,"internal-error"));const It=We.render;We.render=(Ut,Cn)=>{const fi=It(Ut,Cn);return this.counter++,fi},this.hostLanguage=E,M(We)},xc(`https://www.google.com/recaptcha/api.js??${(0,ie.xO)({onload:Ja,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(W),U(Ge(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var E;return!(null===(E=Qi().grecaptcha)||void 0===E||!E.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ca{load(w){return(0,a.Z)(function*(){return new fr(w)})()}clearedOneInstance(){}}const Ol="recaptcha",Jh={theme:"light",type:"image"};class ep{constructor(w,E=Object.assign({},Jh),M){this.parameters=E,this.type=Ol,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qi(M),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof w?document.getElementById(w):w;ye(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ca:new Xh,this.validateStartingState()}verify(){var w=this;return(0,a.Z)(function*(){w.assertNotDestroyed();const E=yield w.render(),M=w.getAssertedRecaptcha();return M.getResponse(E)||new Promise(W=>{const Ce=We=>{!We||(w.tokenChangeListeners.delete(Ce),W(We))};w.tokenChangeListeners.add(Ce),w.isInvisible&&M.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return E=>{if(this.tokenChangeListeners.forEach(M=>M(E)),"function"==typeof w)w(E);else if("string"==typeof w){const M=Qi()[w];"function"==typeof M&&M(E)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,a.Z)(function*(){if(yield w.init(),!w.widgetId){let E=w.container;if(!w.isInvisible){const M=document.createElement("div");E.appendChild(M),E=M}w.widgetId=w.getAssertedRecaptcha().render(E,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,a.Z)(function*(){ye(st()&&!Wa(),w.auth,"internal-error"),yield function sd(){let S=null;return new Promise(w=>{"complete"!==document.readyState?(S=()=>w(),window.addEventListener("load",S)):w()}).catch(w=>{throw S&&window.removeEventListener("load",S),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const E=yield function xm(S){return Gs.apply(this,arguments)}(w.auth);ye(E,w.auth,"internal-error"),w.parameters.sitekey=E})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ju{constructor(w,E){this.verificationId=w,this.onConfirmation=E}confirm(w){const E=pt._fromVerification(this.verificationId,w);return this.onConfirmation(E)}}function Nl(S,w,E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(S,w,E){const M=qi(S),U=yield el(M,w,(0,ie.m9)(E));return new Ju(U,W=>ms(M,W))})).apply(this,arguments)}function vo(S,w,E){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S);yield Xc(!1,M,"phone");const U=yield el(M.auth,w,(0,ie.m9)(E));return new Ju(U,W=>dc(M,W))})).apply(this,arguments)}function Cm(S,w,E){return eh.apply(this,arguments)}function eh(){return(eh=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S),U=yield el(M.auth,w,(0,ie.m9)(E));return new Ju(U,W=>Il(M,W))})).apply(this,arguments)}function el(S,w,E){return tp.apply(this,arguments)}function tp(){return(tp=(0,a.Z)(function*(S,w,E){var M;const U=yield E.verify();try{let W;if(ye("string"==typeof U,S,"argument-error"),ye(E.type===Ol,S,"argument-error"),W="string"==typeof w?{phoneNumber:w}:w,"session"in W){const Ce=W.session;if("phoneNumber"in W)return ye("enroll"===Ce.type,S,"internal-error"),(yield zr(S,{idToken:Ce.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{ye("signin"===Ce.type,S,"internal-error");const We=(null===(M=W.multiFactorHint)||void 0===M?void 0:M.uid)||W.multiFactorUid;return ye(We,S,"missing-multi-factor-info"),(yield Qa(S,{mfaPendingCredential:Ce.credential,mfaEnrollmentId:We,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ce}=yield Ro(S,{phoneNumber:W.phoneNumber,recaptchaToken:U});return Ce}}finally{E._reset()}})).apply(this,arguments)}function Em(S,w){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,a.Z)(function*(S,w){yield te((0,ie.m9)(S),w)})).apply(this,arguments)}let ng=(()=>{class S{constructor(E){this.providerId=S.PROVIDER_ID,this.auth=qi(E)}verifyPhoneNumber(E,M){return el(this.auth,E,(0,ie.m9)(M))}static credential(E,M){return pt._fromVerification(E,M)}static credentialFromResult(E){return S.credentialFromTaggedObject(E)}static credentialFromError(E){return S.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:M,temporaryProof:U}=E;return M&&U?pt._fromTokenResponse(M,U):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function Ll(S,w){return w?me(w):(ye(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class Ii extends Mi{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return Bn(w,this._buildIdpRequest())}_linkToIdToken(w,E){return Bn(w,this._buildIdpRequest(E))}_getReauthenticationResolver(w){return Bn(w,this._buildIdpRequest())}_buildIdpRequest(w){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(E.idToken=w),E}}function th(S){return Jc(S.auth,new Ii(S),S.bypassAuthState)}function Cc(S){const{auth:w,user:E}=S;return ye(E,w,"internal-error"),Ud(E,new Ii(S),S.bypassAuthState)}function np(S){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,a.Z)(function*(S){const{auth:w,user:E}=S;return ye(E,w,"internal-error"),te(E,new Ii(S),S.bypassAuthState)})).apply(this,arguments)}class qs{constructor(w,E,M,U,W=!1){this.auth=w,this.resolver=M,this.user=U,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var w=this;return new Promise(function(){var E=(0,a.Z)(function*(M,U){w.pendingPromise={resolve:M,reject:U};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(W){w.reject(W)}});return function(M,U){return E.apply(this,arguments)}}())}onAuthEvent(w){var E=this;return(0,a.Z)(function*(){const{urlResponse:M,sessionId:U,postBody:W,tenantId:Ce,error:We,type:It}=w;if(We)return void E.reject(We);const Ut={auth:E.auth,requestUri:M,sessionId:U,tenantId:Ce||void 0,postBody:W||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(It)(Ut))}catch(Cn){E.reject(Cn)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return th;case"linkViaPopup":case"linkViaRedirect":return np;case"reauthViaPopup":case"reauthViaRedirect":return Cc;default:Oe(this.auth,"internal-error")}}resolve(w){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ec=new pn(2e3,1e4);function Ea(S,w,E){return tl.apply(this,arguments)}function tl(){return(tl=(0,a.Z)(function*(S,w,E){const M=qi(S);Ze(S,w,fa);const U=Ll(M,E);return new ji(M,"signInViaPopup",w,U).executeNotNull()})).apply(this,arguments)}function Dc(S,w,E){return Da.apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S);Ze(M.auth,w,fa);const U=Ll(M.auth,E);return new ji(M.auth,"reauthViaPopup",w,U,M).executeNotNull()})).apply(this,arguments)}function Xd(S,w,E){return od.apply(this,arguments)}function od(){return(od=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S);Ze(M.auth,w,fa);const U=Ll(M.auth,E);return new ji(M.auth,"linkViaPopup",w,U,M).executeNotNull()})).apply(this,arguments)}let ji=(()=>{class S extends qs{constructor(E,M,U,W,Ce){super(E,M,W,Ce),this.provider=U,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var E=this;return(0,a.Z)(function*(){const M=yield E.execute();return ye(M,E.auth,"internal-error"),M})()}onExecution(){var E=this;return(0,a.Z)(function*(){ze(1===E.filter.length,"Popup operations only handle one event");const M=bc();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],M),E.authWindow.associatedEvent=M,E.resolver._originValidation(E.auth).catch(U=>{E.reject(U)}),E.resolver._isIframeWebStorageSupported(E.auth,U=>{U||E.reject(Ge(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const E=()=>{var M,U;this.pollId=null!==(U=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Ec.get())};E()}}return S.currentPopupAction=null,S})();const ai=new Map;class bt extends qs{constructor(w,E,M=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,M),this.eventId=null}execute(){var w=()=>super.execute,E=this;return(0,a.Z)(function*(){let M=ai.get(E.auth._key());if(!M){try{const W=(yield function gt(S,w){return $i.apply(this,arguments)}(E.resolver,E.auth))?yield w().call(E):null;M=()=>Promise.resolve(W)}catch(U){M=()=>Promise.reject(U)}ai.set(E.auth._key(),M)}return E.bypassAuthState||ai.set(E.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(w){var E=()=>super.onAuthEvent,M=this;return(0,a.Z)(function*(){if("signInViaRedirect"===w.type)return E().call(M,w);if("unknown"!==w.type){if(w.eventId){const U=yield M.auth._redirectUserForId(w.eventId);if(U)return M.user=U,E().call(M,w);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function $i(){return($i=(0,a.Z)(function*(S,w){const E=ad(w),M=Tc(S);if(!(yield M._isAvailable()))return!1;const U="true"===(yield M._get(E));return yield M._remove(E),U})).apply(this,arguments)}function Jo(S,w){return nl.apply(this,arguments)}function nl(){return(nl=(0,a.Z)(function*(S,w){return Tc(S)._set(ad(w),"true")})).apply(this,arguments)}function Ei(){ai.clear()}function nh(S,w){ai.set(S._key(),w)}function Tc(S){return me(S._redirectPersistence)}function ad(S){return re("pendingRedirect",S.config.apiKey,S.name)}function Jd(S,w,E){return function ld(S,w,E){return Ta.apply(this,arguments)}(S,w,E)}function Ta(){return(Ta=(0,a.Z)(function*(S,w,E){const M=qi(S);Ze(S,w,fa);const U=Ll(M,E);return yield Jo(U,M),U._openRedirect(M,w,"signInViaRedirect")})).apply(this,arguments)}function O(S,w,E){return function N(S,w,E){return H.apply(this,arguments)}(S,w,E)}function H(){return(H=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S);Ze(M.auth,w,fa);const U=Ll(M.auth,E);yield Jo(U,M.auth);const W=yield Dn(M);return U._openRedirect(M.auth,w,"reauthViaRedirect",W)})).apply(this,arguments)}function ne(S,w,E){return function fe(S,w,E){return De.apply(this,arguments)}(S,w,E)}function De(){return(De=(0,a.Z)(function*(S,w,E){const M=(0,ie.m9)(S);Ze(M.auth,w,fa);const U=Ll(M.auth,E);yield Xc(!1,M,w.providerId),yield Jo(U,M.auth);const W=yield Dn(M);return U._openRedirect(M.auth,w,"linkViaRedirect",W)})).apply(this,arguments)}function Ue(S,w){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,a.Z)(function*(S,w){return yield qi(S)._initializationPromise,Bt(S,w,!1)})).apply(this,arguments)}function Bt(S,w){return jt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(S,w,E=!1){const M=qi(S),U=Ll(M,w),Ce=yield new bt(M,U,E).execute();return Ce&&!E&&(delete Ce.user._redirectEventId,yield M._persistUserIfCurrent(Ce.user),yield M._setRedirectUser(null,w)),Ce})).apply(this,arguments)}function Dn(S){return on.apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(S){const w=bc(`${S.uid}:::`);return S._redirectEventId=w,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),w})).apply(this,arguments)}class Oi{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let E=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(w,M)&&(E=!0,this.sendToConsumer(w,M),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function yo(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bo(S);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=w,E=!0)),E}sendToConsumer(w,E){var M;if(w.error&&!Bo(w)){const U=(null===(M=w.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";E.onError(Ge(this.auth,U))}else E.onAuthEvent(w)}isEventForConsumer(w,E){const M=null===E.eventId||!!w.eventId&&w.eventId===E.eventId;return E.filter.includes(w.type)&&M}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ws(w))}saveEventToCache(w){this.cachedEventUids.add(Ws(w)),this.lastProcessedEventTime=Date.now()}}function Ws(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(w=>w).join("-")}function Bo({type:S,error:w}){return"unknown"===S&&"auth/no-auth-event"===w?.code}function Ni(S){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(S,w={}){return Jt(S,"GET","/v1/projects",w)})).apply(this,arguments)}const Ps=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ys=/^https?/;function ih(){return(ih=(0,a.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:w}=yield Ni(S);for(const E of w)try{if(ig(E))return}catch{}Oe(S,"unauthorized-domain")})).apply(this,arguments)}function ig(S){const w=at(),{protocol:E,hostname:M}=new URL(w);if(S.startsWith("chrome-extension://")){const Ce=new URL(S);return""===Ce.hostname&&""===M?"chrome-extension:"===E&&S.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===E&&Ce.hostname===M}if(!Ys.test(E))return!1;if(Ps.test(S))return M===S;const U=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(M)}const Di=new pn(3e4,6e4);function li(){const S=Qi().___jsl;if(S?.H)for(const w of Object.keys(S.H))if(S.H[w].r=S.H[w].r||[],S.H[w].L=S.H[w].L||[],S.H[w].r=[...S.H[w].L],S.CP)for(let E=0;E<S.CP.length;E++)S.CP[E]=null}let Wn=null;function Nr(S){return Wn=Wn||function Wr(S){return new Promise((w,E)=>{var M,U,W;function Ce(){li(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{li(),E(Ge(S,"network-request-failed"))},timeout:Di.get()})}if(null!==(U=null===(M=Qi().gapi)||void 0===M?void 0:M.iframes)&&void 0!==U&&U.Iframe)w(gapi.iframes.getContext());else{if(null===(W=Qi().gapi)||void 0===W||!W.load){const We=Lo("iframefcb");return Qi()[We]=()=>{gapi.load?Ce():E(Ge(S,"network-request-failed"))},xc(`https://apis.google.com/js/api.js?onload=${We}`).catch(It=>E(It))}Ce()}}).catch(w=>{throw Wn=null,w})}(S),Wn}const ip=new pn(5e3,15e3),il={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kn(S){const w=S.config;ye(w.authDomain,S,"auth-domain-config-required");const E=w.emulator?wn(w,"emulator/auth/iframe"):`https://${S.config.authDomain}/__/auth/iframe`,M={apiKey:w.apiKey,appName:S.name,v:q.SDK_VERSION},U=Xi.get(S.config.apiHost);U&&(M.eid=U);const W=S._getFrameworks();return W.length&&(M.fw=W.join(",")),`${E}?${(0,ie.xO)(M).slice(1)}`}function rg(){return rg=(0,a.Z)(function*(S){const w=yield Nr(S),E=Qi().gapi;return ye(E,S,"internal-error"),w.open({where:document.body,url:Kn(S),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:il,dontclear:!0},M=>new Promise(function(){var U=(0,a.Z)(function*(W,Ce){yield M.restyle({setHideOnLeave:!1});const We=Ge(S,"network-request-failed"),It=Qi().setTimeout(()=>{Ce(We)},ip.get());function Ut(){Qi().clearTimeout(It),W(M)}M.ping(Ut).then(Ut,()=>{Ce(We)})});return function(W,Ce){return U.apply(this,arguments)}}()))}),rg.apply(this,arguments)}const cd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ul{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sp(S,w,E,M,U,W){ye(S.config.authDomain,S,"auth-domain-config-required"),ye(S.config.apiKey,S,"invalid-api-key");const Ce={apiKey:S.config.apiKey,appName:S.name,authType:E,redirectUrl:M,v:q.SDK_VERSION,eventId:U};if(w instanceof fa){w.setDefaultLanguage(S.languageCode),Ce.providerId=w.providerId||"",(0,ie.xb)(w.getCustomParameters())||(Ce.customParameters=JSON.stringify(w.getCustomParameters()));for(const[It,Ut]of Object.entries(W||{}))Ce[It]=Ut}if(w instanceof Ba){const It=w.getScopes().filter(Ut=>""!==Ut);It.length>0&&(Ce.scopes=It.join(","))}S.tenantId&&(Ce.tid=S.tenantId);const We=Ce;for(const It of Object.keys(We))void 0===We[It]&&delete We[It];return`${function Sm({config:S}){return S.emulator?wn(S,"emulator/auth/handler"):`https://${S.authDomain}/__/auth/handler`}(S)}?${(0,ie.xO)(We).slice(1)}`}const Vo="webStorageSupport",km=class Im{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wa,this._completeRedirectFn=Bt,this._overrideRedirectResult=nh}_openPopup(w,E,M,U){var W=this;return(0,a.Z)(function*(){var Ce;ze(null===(Ce=W.eventManagers[w._key()])||void 0===Ce?void 0:Ce.manager,"_initialize() not called before _openPopup()");const We=sp(w,E,M,at(),U);return function yn(S,w,E,M=500,U=600){const W=Math.max((window.screen.availHeight-U)/2,0).toString(),Ce=Math.max((window.screen.availWidth-M)/2,0).toString();let We="";const It=Object.assign(Object.assign({},cd),{width:M.toString(),height:U.toString(),top:W,left:Ce}),Ut=(0,ie.z$)().toLowerCase();E&&(We=Te(Ut)?"_blank":E),z(Ut)&&(w=w||"http://localhost",It.scrollbars="yes");const Cn=Object.entries(It).reduce((Os,[zi,Sc])=>`${Os}${zi}=${Sc},`,"");if(function ir(S=(0,ie.z$)()){var w;return mt(S)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(Ut)&&"_self"!==We)return function sh(S,w){const E=document.createElement("a");E.href=S,E.target=w;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(M)}(w||"",We),new Ul(null);const fi=window.open(w||"",We,Cn);ye(fi,S,"popup-blocked");try{fi.focus()}catch{}return new Ul(fi)}(w,We,bc())})()}_openRedirect(w,E,M,U){var W=this;return(0,a.Z)(function*(){return yield W._originValidation(w),function Ml(S){Qi().location.href=S}(sp(w,E,M,at(),U)),new Promise(()=>{})})()}_initialize(w){const E=w._key();if(this.eventManagers[E]){const{manager:U,promise:W}=this.eventManagers[E];return U?Promise.resolve(U):(ze(W,"If manager is not set, promise should be"),W)}const M=this.initAndGetManager(w);return this.eventManagers[E]={promise:M},M.catch(()=>{delete this.eventManagers[E]}),M}initAndGetManager(w){var E=this;return(0,a.Z)(function*(){const M=yield function ea(S){return rg.apply(this,arguments)}(w),U=new Oi(w);return M.register("authEvent",W=>(ye(W?.authEvent,w,"invalid-auth-event"),{status:U.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[w._key()]={manager:U},E.iframes[w._key()]=M,U})()}_isIframeWebStorageSupported(w,E){this.iframes[w._key()].send(Vo,{type:Vo},U=>{var W;const Ce=null===(W=U?.[0])||void 0===W?void 0:W[Vo];void 0!==Ce&&E(!!Ce),Oe(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const E=w._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Or(S){return ih.apply(this,arguments)}(w)),this.originValidationPromises[E]}get _shouldInitProactively(){return Mr()||J()||mt()}};class wo{constructor(w){this.factorId=w}_process(w,E,M){switch(E.type){case"enroll":return this._finalizeEnroll(w,E.credential,M);case"signin":return this._finalizeSignIn(w,E.credential);default:return Ae("unexpected MultiFactorSessionType")}}}class og extends wo{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new og(w)}_finalizeEnroll(w,E,M){return function An(S,w){return Jt(S,"POST","/v2/accounts/mfaEnrollment:finalize",Rn(S,w))}(w,{idToken:E,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,E){return function Qu(S,w){return Jt(S,"POST","/v2/accounts/mfaSignIn:finalize",Rn(S,w))}(w,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fs=(()=>{class S{constructor(){}static assertion(E){return og._fromCredential(E)}}return S.FACTOR_ID="phone",S})();var or="@firebase/auth";class op{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var E=this;return(0,a.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const E=this.auth.onIdTokenChanged(M=>{w(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(w,E),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const E=this.internalListeners.get(w);!E||(this.internalListeners.delete(w),E(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ie.Pz)("authIdTokenMaxAge"),function is(S){(0,q._registerComponent)(new _e.wA("auth",(w,{options:E})=>{const M=w.getProvider("app").getImmediate(),U=w.getProvider("heartbeat"),{apiKey:W,authDomain:Ce}=M.options;return((We,It)=>{ye(W&&!W.includes(":"),"invalid-api-key",{appName:We.name}),ye(!Ce?.includes(":"),"argument-error",{appName:We.name});const Ut={apiKey:W,authDomain:Ce,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ua(S)},Cn=new lc(We,It,Ut);return function Ie(S,w){const E=w?.persistence||[],M=(Array.isArray(E)?E:[E]).map(me);w?.errorMap&&S._updateErrorMap(w.errorMap),S._initializeWithPersistence(M,w?.popupRedirectResolver)}(Cn,E),Cn})(M,U)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,E,M)=>{w.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new _e.wA("auth-internal",w=>{const E=qi(w.getProvider("auth").getImmediate());return new op(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(or,"0.21.0",function ap(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,q.registerVersion)(or,"0.21.0","esm2017")}("Browser")},2090:(xt,je,K)=>{K.d(je,{$s:()=>St,BH:()=>si,DV:()=>cr,Dv:()=>nr,G6:()=>Ze,GJ:()=>da,L:()=>Me,LL:()=>Gn,Pz:()=>zn,Sg:()=>pn,UG:()=>it,UI:()=>oo,US:()=>_e,Wj:()=>vr,Wl:()=>Bs,Yr:()=>et,ZB:()=>oe,ZR:()=>Xt,aH:()=>Yt,b$:()=>Ye,cI:()=>Jt,dS:()=>En,eu:()=>ye,g5:()=>q,gK:()=>oi,gQ:()=>tr,h$:()=>Ve,hl:()=>ht,hu:()=>ie,jU:()=>Ct,lb:()=>ao,m9:()=>dn,ne:()=>Ds,p$:()=>se,pd:()=>qn,r3:()=>ko,ru:()=>Le,tV:()=>Fe,uI:()=>Ke,ug:()=>lo,vZ:()=>di,w1:()=>Oe,w9:()=>so,xO:()=>Ar,xb:()=>Vs,z$:()=>ct,zI:()=>Ae,zd:()=>ni});const ie=function(ae,re){if(!ae)throw q(re)},q=function(ae){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ae)},Ee=function(ae){const re=[];let ce=0;for(let ee=0;ee<ae.length;ee++){let z=ae.charCodeAt(ee);z<128?re[ce++]=z:z<2048?(re[ce++]=z>>6|192,re[ce++]=63&z|128):55296==(64512&z)&&ee+1<ae.length&&56320==(64512&ae.charCodeAt(ee+1))?(z=65536+((1023&z)<<10)+(1023&ae.charCodeAt(++ee)),re[ce++]=z>>18|240,re[ce++]=z>>12&63|128,re[ce++]=z>>6&63|128,re[ce++]=63&z|128):(re[ce++]=z>>12|224,re[ce++]=z>>6&63|128,re[ce++]=63&z|128)}return re},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,re){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ce=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[];for(let z=0;z<ae.length;z+=3){const J=ae[z],Te=z+1<ae.length,ue=Te?ae[z+1]:0,Nt=z+2<ae.length,ft=Nt?ae[z+2]:0;let ii=(15&ue)<<2|ft>>6,ir=63&ft;Nt||(ir=64,Te||(ii=64)),ee.push(ce[J>>2],ce[(3&J)<<4|ue>>4],ce[ii],ce[ir])}return ee.join("")},encodeString(ae,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(ae):this.encodeByteArray(Ee(ae),re)},decodeString(ae,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(ae):function(ae){const re=[];let ce=0,ee=0;for(;ce<ae.length;){const z=ae[ce++];if(z<128)re[ee++]=String.fromCharCode(z);else if(z>191&&z<224){const J=ae[ce++];re[ee++]=String.fromCharCode((31&z)<<6|63&J)}else if(z>239&&z<365){const Nt=((7&z)<<18|(63&ae[ce++])<<12|(63&ae[ce++])<<6|63&ae[ce++])-65536;re[ee++]=String.fromCharCode(55296+(Nt>>10)),re[ee++]=String.fromCharCode(56320+(1023&Nt))}else{const J=ae[ce++],Te=ae[ce++];re[ee++]=String.fromCharCode((15&z)<<12|(63&J)<<6|63&Te)}}return re.join("")}(this.decodeStringToByteArray(ae,re))},decodeStringToByteArray(ae,re){this.init_();const ce=re?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[];for(let z=0;z<ae.length;){const J=ce[ae.charAt(z++)],ue=z<ae.length?ce[ae.charAt(z)]:0;++z;const ft=z<ae.length?ce[ae.charAt(z)]:64;++z;const mt=z<ae.length?ce[ae.charAt(z)]:64;if(++z,null==J||null==ue||null==ft||null==mt)throw Error();ee.push(J<<2|ue>>4),64!==ft&&(ee.push(ue<<4&240|ft>>2),64!==mt&&ee.push(ft<<6&192|mt))}return ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}},Ve=function(ae){const re=Ee(ae);return _e.encodeByteArray(re,!0)},Me=function(ae){return Ve(ae).replace(/\./g,"")},Fe=function(ae){try{return _e.decodeString(ae,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function se(ae){return oe(void 0,ae)}function oe(ae,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===ae&&(ae={});break;case Array:ae=[];break;default:return re}for(const ce in re)!re.hasOwnProperty(ce)||!be(ce)||(ae[ce]=oe(ae[ce],re[ce]));return ae}function be(ae){return"__proto__"!==ae}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function it(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ct(){return"object"==typeof self&&self.self===self}function Le(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){const ae=ct();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function et(){return!1}function Ze(){return!it()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ht(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((ae,re)=>{try{let ce=!0;const ee="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(ee);z.onsuccess=()=>{z.result.close(),ce||self.indexedDB.deleteDatabase(ee),ae(!0)},z.onupgradeneeded=()=>{ce=!1},z.onerror=()=>{var J;re((null===(J=z.error)||void 0===J?void 0:J.message)||"")}}catch(ce){re(ce)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ie=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ae=process.env.__FIREBASE_DEFAULTS__;return ae?JSON.parse(ae):void 0})()||(()=>{if(typeof document>"u")return;let ae;try{ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=ae&&Fe(ae[1]);return re&&JSON.parse(re)})()}catch(ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ae}`)}},Yt=()=>{var ae;return null===(ae=Ie())||void 0===ae?void 0:ae.config},zn=ae=>{var re;return null===(re=Ie())||void 0===re?void 0:re[`_${ae}`]};class si{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,ce)=>{this.resolve=re,this.reject=ce})}wrapCallback(re){return(ce,ee)=>{ce?this.reject(ce):this.resolve(ee),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(ce):re(ce,ee))}}}function pn(ae,re){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ee=re||"demo-project",z=ae.iat||0,J=ae.sub||ae.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:z,exp:z+3600,auth_time:z,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(Te)),""].join(".")}class Xt extends Error{constructor(re,ce,ee){super(ce),this.code=re,this.customData=ee,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gn.prototype.create)}}class Gn{constructor(re,ce,ee){this.service=re,this.serviceName=ce,this.errors=ee}create(re,...ce){const ee=ce[0]||{},z=`${this.service}/${re}`,J=this.errors[re],Te=J?function Gi(ae,re){return ae.replace(Rn,(ce,ee)=>{const z=re[ee];return null!=z?String(z):`<${ee}?>`})}(J,ee):"Error";return new Xt(z,`${this.serviceName}: ${Te} (${z}).`,ee)}}const Rn=/\{\$([^}]+)}/g;function Jt(ae){return JSON.parse(ae)}function Bs(ae){return JSON.stringify(ae)}const Es=function(ae){let re={},ce={},ee={},z="";try{const J=ae.split(".");re=Jt(Fe(J[0])||""),ce=Jt(Fe(J[1])||""),z=J[2],ee=ce.d||{},delete ce.d}catch{}return{header:re,claims:ce,data:ee,signature:z}},so=function(ae){const ce=Es(ae).claims;return!!ce&&"object"==typeof ce&&ce.hasOwnProperty("iat")},da=function(ae){const re=Es(ae).claims;return"object"==typeof re&&!0===re.admin};function ko(ae,re){return Object.prototype.hasOwnProperty.call(ae,re)}function cr(ae,re){if(Object.prototype.hasOwnProperty.call(ae,re))return ae[re]}function Vs(ae){for(const re in ae)if(Object.prototype.hasOwnProperty.call(ae,re))return!1;return!0}function oo(ae,re,ce){const ee={};for(const z in ae)Object.prototype.hasOwnProperty.call(ae,z)&&(ee[z]=re.call(ce,ae[z],z,ae));return ee}function di(ae,re){if(ae===re)return!0;const ce=Object.keys(ae),ee=Object.keys(re);for(const z of ce){if(!ee.includes(z))return!1;const J=ae[z],Te=re[z];if(kr(J)&&kr(Te)){if(!di(J,Te))return!1}else if(J!==Te)return!1}for(const z of ee)if(!ce.includes(z))return!1;return!0}function kr(ae){return null!==ae&&"object"==typeof ae}function Ar(ae){const re=[];for(const[ce,ee]of Object.entries(ae))Array.isArray(ee)?ee.forEach(z=>{re.push(encodeURIComponent(ce)+"="+encodeURIComponent(z))}):re.push(encodeURIComponent(ce)+"="+encodeURIComponent(ee));return re.length?"&"+re.join("&"):""}function ni(ae){const re={};return ae.replace(/^\?/,"").split("&").forEach(ee=>{if(ee){const[z,J]=ee.split("=");re[decodeURIComponent(z)]=decodeURIComponent(J)}}),re}function qn(ae){const re=ae.indexOf("?");if(!re)return"";const ce=ae.indexOf("#",re);return ae.substring(re,ce>0?ce:void 0)}class tr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let re=1;re<this.blockSize;++re)this.pad_[re]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(re,ce){ce||(ce=0);const ee=this.W_;if("string"==typeof re)for(let mt=0;mt<16;mt++)ee[mt]=re.charCodeAt(ce)<<24|re.charCodeAt(ce+1)<<16|re.charCodeAt(ce+2)<<8|re.charCodeAt(ce+3),ce+=4;else for(let mt=0;mt<16;mt++)ee[mt]=re[ce]<<24|re[ce+1]<<16|re[ce+2]<<8|re[ce+3],ce+=4;for(let mt=16;mt<80;mt++){const ii=ee[mt-3]^ee[mt-8]^ee[mt-14]^ee[mt-16];ee[mt]=4294967295&(ii<<1|ii>>>31)}let ft,Zt,z=this.chain_[0],J=this.chain_[1],Te=this.chain_[2],ue=this.chain_[3],Nt=this.chain_[4];for(let mt=0;mt<80;mt++){mt<40?mt<20?(ft=ue^J&(Te^ue),Zt=1518500249):(ft=J^Te^ue,Zt=1859775393):mt<60?(ft=J&Te|ue&(J|Te),Zt=2400959708):(ft=J^Te^ue,Zt=3395469782);const ii=(z<<5|z>>>27)+ft+Nt+Zt+ee[mt]&4294967295;Nt=ue,ue=Te,Te=4294967295&(J<<30|J>>>2),J=z,z=ii}this.chain_[0]=this.chain_[0]+z&4294967295,this.chain_[1]=this.chain_[1]+J&4294967295,this.chain_[2]=this.chain_[2]+Te&4294967295,this.chain_[3]=this.chain_[3]+ue&4294967295,this.chain_[4]=this.chain_[4]+Nt&4294967295}update(re,ce){if(null==re)return;void 0===ce&&(ce=re.length);const ee=ce-this.blockSize;let z=0;const J=this.buf_;let Te=this.inbuf_;for(;z<ce;){if(0===Te)for(;z<=ee;)this.compress_(re,z),z+=this.blockSize;if("string"==typeof re){for(;z<ce;)if(J[Te]=re.charCodeAt(z),++Te,++z,Te===this.blockSize){this.compress_(J),Te=0;break}}else for(;z<ce;)if(J[Te]=re[z],++Te,++z,Te===this.blockSize){this.compress_(J),Te=0;break}}this.inbuf_=Te,this.total_+=ce}digest(){const re=[];let ce=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let z=this.blockSize-1;z>=56;z--)this.buf_[z]=255&ce,ce/=256;this.compress_(this.buf_);let ee=0;for(let z=0;z<5;z++)for(let J=24;J>=0;J-=8)re[ee]=this.chain_[z]>>J&255,++ee;return re}}function Ds(ae,re){const ce=new Ot(ae,re);return ce.subscribe.bind(ce)}class Ot{constructor(re,ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ce,this.task.then(()=>{re(this)}).catch(ee=>{this.error(ee)})}next(re){this.forEachObserver(ce=>{ce.next(re)})}error(re){this.forEachObserver(ce=>{ce.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,ce,ee){let z;if(void 0===re&&void 0===ce&&void 0===ee)throw new Error("Missing Observer.");z=function gn(ae,re){if("object"!=typeof ae||null===ae)return!1;for(const ce of re)if(ce in ae&&"function"==typeof ae[ce])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:ce,complete:ee},void 0===z.next&&(z.next=Ci),void 0===z.error&&(z.error=Ci),void 0===z.complete&&(z.complete=Ci);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),J}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let ce=0;ce<this.observers.length;ce++)this.sendOne(ce,re)}sendOne(re,ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{ce(this.observers[re])}catch(ee){typeof console<"u"&&console.error&&console.error(ee)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ci(){}const nr=function(ae,re,ce,ee){let z;if(ee<re?z="at least "+re:ee>ce&&(z=0===ce?"none":"no more than "+ce),z)throw new Error(ae+" failed: Was called with "+ee+(1===ee?" argument.":" arguments.")+" Expects "+z+".")};function oi(ae,re){return`${ae} failed: ${re} argument `}function vr(ae,re,ce,ee){if((!ee||ce)&&"function"!=typeof ce)throw new Error(oi(ae,re)+"must be a valid function.")}function ao(ae,re,ce,ee){if((!ee||ce)&&("object"!=typeof ce||null===ce))throw new Error(oi(ae,re)+"must be a valid context object.")}const En=function(ae){const re=[];let ce=0;for(let ee=0;ee<ae.length;ee++){let z=ae.charCodeAt(ee);if(z>=55296&&z<=56319){const J=z-55296;ee++,ie(ee<ae.length,"Surrogate pair missing trail surrogate."),z=65536+(J<<10)+(ae.charCodeAt(ee)-56320)}z<128?re[ce++]=z:z<2048?(re[ce++]=z>>6|192,re[ce++]=63&z|128):z<65536?(re[ce++]=z>>12|224,re[ce++]=z>>6&63|128,re[ce++]=63&z|128):(re[ce++]=z>>18|240,re[ce++]=z>>12&63|128,re[ce++]=z>>6&63|128,re[ce++]=63&z|128)}return re},lo=function(ae){let re=0;for(let ce=0;ce<ae.length;ce++){const ee=ae.charCodeAt(ce);ee<128?re++:ee<2048?re+=2:ee>=55296&&ee<=56319?(re+=4,ce++):re+=3}return re};function St(ae,re=1e3,ce=2){const ee=re*Math.pow(ce,ae),z=Math.round(.5*ee*(Math.random()-.5)*2);return Math.min(144e5,ee+z)}function dn(ae){return ae&&ae._delegate?ae._delegate:ae}},2866:(xt,je,K)=>{var a=K(4650);let ie=null;function q(){return ie}class he{}const _e=new a.OlP("DocumentToken");let Ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Me(){return(0,a.LFG)(se)}()},providedIn:"platform"}),n})();const Fe=new a.OlP("Location Initialized");let se=(()=>{class n extends Ve{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(e){const i=q().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=q().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){oe()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){oe()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function be(){return new se((0,a.LFG)(_e))}()},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function ct(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ke(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ct=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ye)},providedIn:"root"}),n})();const Le=new a.OlP("appBaseHref");let Ye=(()=>{class n extends Ct{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ct(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+it(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const d=this.prepareExternalUrl(r+it(o));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,o){const d=this.prepareExternalUrl(r+it(o));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ve),a.LFG(Le,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qe=(()=>{class n extends Ct{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ct(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let d=this.prepareExternalUrl(r+it(o));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,o){let d=this.prepareExternalUrl(r+it(o));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ve),a.LFG(Le,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function ht(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Ke(Ze(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+it(i))}normalize(e){return n.stripTrailingSlash(function et(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._basePath,Ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+it(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+it(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=it,n.joinWithSlash=ct,n.stripTrailingSlash=Ke,n.\u0275fac=function(e){return new(e||n)(a.LFG(Ct))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ge(){return new Oe((0,a.LFG)(Ct))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}function Rr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let co=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class yr{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uo=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new yr(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===o?void 0:o);else if(null!==o){const m=i.get(o);i.move(m,d),Wi(m,r)}});for(let r=0,o=i.length;r<o;r++){const m=i.get(r).context;m.index=r,m.count=o,m.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Wi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Wi(n,t){n.context.$implicit=t.item}let un=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new qo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Hs("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Hs("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qo{constructor(){this.$implicit=null,this.ngIf=null}}function Hs(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Mt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ho=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ma=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Mt(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ho,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),dr=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:d}=this;this._viewRef=i.createEmbeddedView(r,o,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),n})(),Ba=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Zi}transform(e,i=Zi){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(d=>{this.keyValues.push(function fa(n,t){return{key:n,value:t}}(d.key,d.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.aQg,16))},n.\u0275pipe=a.Yjl({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function Zi(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let yi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const zh="browser";function cc(n){return"server"===n}let Va=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new we((0,a.LFG)(_e),window)}),n})();class we{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Vd(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const d=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=te(this.window.history)||te(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function te(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sl{}class Nn extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ga extends Nn{static makeCurrent(){!function Ee(n){ie||(ie=n)}(new Ga)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function qa(){return zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null}();return null==e?null:function gc(n){ya=ya||document.createElement("a"),ya.setAttribute("href",n);const t=ya.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Rr(document.cookie,t)}}let ya,zs=null;const _c=new a.OlP("TRANSITION_ID"),zd=[{provide:a.ip1,useFactory:function vc(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=q(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[_c,_e,a.zs3],multi:!0}];let gv=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const wa=new a.OlP("EventManagerPlugins");let Wu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const d=r[o];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(wa),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class id{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=q().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let bc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Gd=(()=>{class n extends bc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const d=this._doc.createElement("style");d.textContent=o,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Qi),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Qi))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Qi(n){q().remove(n)}const Ml={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wa=/%COMP%/g;function xa(n,t){return t.flat(100).map(e=>e.replace(Wa,n))}function Za(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ka=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Wd(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ku(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case a.ifc.ShadowDom:return new _o(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=xa(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Wu),a.LFG(Gd),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Wd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ml[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ns(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ns(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Ml[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ml[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Za(i)):this.eventManager.addEventListener(t,e,Za(i))}}function ns(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ku extends Wd{constructor(t,e,i,r){super(t),this.component=i;const o=xa(r+"-"+i.id,i.styles);e.addStyles(o),this.contentAttr=function Ya(n){return"_ngcontent-%COMP%".replace(Wa,n)}(r+"-"+i.id),this.hostAttr=function Zu(n){return"_nghost-%COMP%".replace(Wa,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class _o extends Wd{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=xa(r.id,r.styles);for(let d=0;d<o.length;d++){const m=document.createElement("style");m.textContent=o[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Pl=(()=>{class n extends id{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Yd=["alt","control","meta","shift"],Zd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ms=(()=>{class n extends id{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),d=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>q().onAndCancel(e,o.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let d="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),d="code."),Yd.forEach(x=>{const T=i.indexOf(x);T>-1&&(i.splice(T,1),d+=x+".")}),d+=o,0!=i.length||0===o.length)return null;const v={};return v.domEventName=r,v.fullKey=d,v}static matchEventFullKeyCode(e,i){let r=Zd[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Yd.forEach(d=>{d!==r&&(0,Kd[d])(e)&&(o+=d+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Gr=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:zh},{provide:a.g9A,useValue:function xc(){Ga.makeCurrent()},multi:!0},{provide:_e,useFactory:function Xa(){return(0,a.RDi)(document),document},deps:[]}]),fr=new a.OlP(""),Qd=[{provide:a.rWj,useClass:class As{addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let o=r.length,d=!1;const m=function(v){d=d||v,o--,0==o&&i(d)};r.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?q().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Xu=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Lo(){return new a.qLn},deps:[]},{provide:wa,useClass:Pl,multi:!0,deps:[_e,a.R0b,a.Lbi]},{provide:wa,useClass:Ms,multi:!0,deps:[_e]},{provide:Ka,useClass:Ka,deps:[Wu,Gd,a.AFp]},{provide:a.FYo,useExisting:Ka},{provide:bc,useExisting:Gd},{provide:Gd,useClass:Gd,deps:[_e]},{provide:Wu,useClass:Wu,deps:[wa,a.R0b]},{provide:Sl,useClass:gv,deps:[]},[]];let Ja=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:_c,useExisting:a.AFp},zd]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fr,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Xu,...Qd],imports:[yi,a.hGG]}),n})(),Ca=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Rs(){return new Ca((0,a.LFG)(_e))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Dc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(Xd),i},providedIn:"root"}),n})(),Xd=(()=>{class n extends Dc{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${a.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${a.JZr})`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Da(n){return new Xd(n.get(_e))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var Pn=K(8996),ai=K(3269);function bt(...n){const t=(0,ai.yG)(n);return(0,Pn.D)(n,t)}var gt=K(7579);class $i extends gt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const nl=(0,K(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ei=K(9751);const{isArray:nh}=Array,{getPrototypeOf:Tc,prototype:ad,keys:Jd}=Object;function ld(n){if(1===n.length){const t=n[0];if(nh(t))return{args:t,keys:null};if(function Ta(n){return n&&"object"==typeof n&&Tc(n)===ad}(t)){const e=Jd(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var O=K(4671),N=K(4004);const{isArray:H}=Array;function fe(n){return(0,N.U)(t=>function ne(n,t){return H(t)?n(...t):n(t)}(n,t))}function De(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Ue=K(5403),Rt=K(9672);function Bt(...n){const t=(0,ai.yG)(n),e=(0,ai.jO)(n),{args:i,keys:r}=ld(n);if(0===i.length)return(0,Pn.D)([],t);const o=new Ei.y(function jt(n,t,e=O.y){return i=>{Dn(t,()=>{const{length:r}=n,o=new Array(r);let d=r,m=r;for(let v=0;v<r;v++)Dn(t,()=>{const x=(0,Pn.D)(n[v],t);let T=!1;x.subscribe((0,Ue.x)(i,P=>{o[v]=P,T||(T=!0,m--),m||i.next(e(o.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>De(r,d):O.y));return e?o.pipe(fe(e)):o}function Dn(n,t,e){n?(0,Rt.f)(e,n,t):t()}var on=K(8189);function Oi(...n){return function bo(){return(0,on.J)(1)}()((0,Pn.D)(n,(0,ai.yG)(n)))}var Ws=K(8421);function Bo(n){return new Ei.y(t=>{(0,Ws.Xf)(n()).subscribe(t)})}var yo=K(9635),Ni=K(576);function Fi(n,t){const e=(0,Ni.m)(n)?n:()=>n,i=r=>r.error(e());return new Ei.y(t?r=>t.schedule(i,0,r):i)}var Ps=K(515),Ys=K(727),Or=K(4482);function ih(){return(0,Or.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Ue.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ig extends Ei.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Or.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ys.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ue.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ys.w0.EMPTY)}return t}refCount(){return ih()(this)}}function Di(n,t){return(0,Or.e)((e,i)=>{let r=null,o=0,d=!1;const m=()=>d&&!r&&i.complete();e.subscribe((0,Ue.x)(i,v=>{r?.unsubscribe();let x=0;const T=o++;(0,Ws.Xf)(n(v,T)).subscribe(r=(0,Ue.x)(i,P=>i.next(t?t(v,P,T,x++):P),()=>{r=null,m()}))},()=>{d=!0,m()}))})}function li(n){return n<=0?()=>Ps.E:(0,Or.e)((t,e)=>{let i=0;t.subscribe((0,Ue.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Wr(...n){const t=(0,ai.yG)(n);return(0,Or.e)((e,i)=>{(t?Oi(n,e,t):Oi(n,e)).subscribe(i)})}function Wn(n,t){return(0,Or.e)((e,i)=>{let r=0;e.subscribe((0,Ue.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var Nr=K(5577);function ip(n){return(0,Or.e)((t,e)=>{let i=!1;t.subscribe((0,Ue.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Dm(n=Bl){return(0,Or.e)((t,e)=>{let i=!1;t.subscribe((0,Ue.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Bl(){return new nl}function il(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Wn((r,o)=>n(r,o,i)):O.y,li(1),e?ip(t):Dm(()=>new nl))}function Xi(n,t){return(0,Ni.m)(t)?(0,Nr.z)(n,t,1):(0,Nr.z)(n,1)}var Kn=K(8505);function ea(n){return(0,Or.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Ue.x)(e,void 0,void 0,d=>{o=(0,Ws.Xf)(n(d,ea(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function rg(n,t,e,i,r){return(o,d)=>{let m=e,v=t,x=0;o.subscribe((0,Ue.x)(d,T=>{const P=x++;v=m?n(v,T,P):(m=!0,T),i&&d.next(v)},r&&(()=>{m&&d.next(v),d.complete()})))}}function cd(n,t){return(0,Or.e)(rg(n,t,arguments.length>=2,!0))}function rp(n){return n<=0?()=>Ps.E:(0,Or.e)((t,e)=>{let i=[];t.subscribe((0,Ue.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Vl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Wn((r,o)=>n(r,o,i)):O.y,rp(1),e?ip(t):Dm(()=>new nl))}function rh(n){return(0,N.U)(()=>n)}function Ul(n){return(0,Or.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const yn="primary",sh=Symbol("RouteTitle");class sg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function eu(n){return new sg(n)}function sp(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const d=i[o],m=n[o];if(d.startsWith(":"))r[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Vo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Im(n[r],t[r]))return!1;return!0}function Im(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function km(n){return Array.prototype.concat.apply([],n)}function wo(n){return n.length>0?n[n.length-1]:null}function fs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function or(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Pn.D)(Promise.resolve(n)):bt(n)}const dd=!1,op={exact:function gs(n,t,e){if(!W(n.segments,t.segments)||!S(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!gs(n.children[i],t.children[i],e))return!1;return!0},subset:nu},ap={exact:function tu(n,t){return Vo(n,t)},subset:function oh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Im(n[e],t[e]))},ignored:()=>!0};function is(n,t,e){return op[e.paths](n.root,t.root,e.matrixParams)&&ap[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function nu(n,t,e){return Fr(n,t,t.segments,e)}function Fr(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!W(r,e)||t.hasChildren()||!S(r,e,i))}if(n.segments.length===e.length){if(!W(n.segments,e)||!S(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!nu(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(W(n.segments,r)&&S(n.segments,r,i)&&n.children[yn])&&Fr(n.children[yn],t,o,i)}}function S(n,t,e){return t.every((i,r)=>ap[e](n[r].parameters,i.parameters))}class w{constructor(t=new E([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return Ut.serialize(this)}}class E{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fs(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cn(this)}}class M{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=eu(this.parameters)),this._parameterMap}toString(){return Ia(this)}}function W(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let We=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new It},providedIn:"root"}),n})();class It{parse(t){const e=new vv(t);return new w(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fi(t.root,!0)}`,i=function lp(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${zi(e)}=${zi(r)}`).join("&"):`${zi(e)}=${zi(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Sc(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ut=new It;function Cn(n){return n.segments.map(t=>Ia(t)).join("/")}function fi(n,t){if(!n.hasChildren())return Cn(n);if(t){const e=n.children[yn]?fi(n.children[yn],!1):"",i=[];return fs(n.children,(r,o)=>{o!==yn&&i.push(`${o}:${fi(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ce(n,t){let e=[];return fs(n.children,(i,r)=>{r===yn&&(e=e.concat(t(i,r)))}),fs(n.children,(i,r)=>{r!==yn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===yn?[fi(n.children[yn],!1)]:[`${r}:${fi(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${Cn(n)}/${e[0]}`:`${Cn(n)}/(${e.join("//")})`}}function Os(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zi(n){return Os(n).replace(/%3B/gi,";")}function Sa(n){return Os(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _r(n){return decodeURIComponent(n)}function Uo(n){return _r(n.replace(/\+/g,"%20"))}function Ia(n){return`${Sa(n.path)}${function ud(n){return Object.keys(n).map(t=>`;${Sa(t)}=${Sa(n[t])}`).join("")}(n.parameters)}`}const hd=/^[^\/()?;=#]+/;function Hl(n){const t=n.match(hd);return t?t[0]:""}const ta=/^[^=?&#]+/,ah=/^[^&#]+/;class vv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new E([],{}):new E([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[yn]=new E(t,e)),i}parseSegment(){const t=Hl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,dd);return this.capture(t),new M(_r(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hl(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Hl(this.remaining);r&&(i=r,this.capture(i))}t[_r(e)]=_r(i)}parseQueryParam(t){const e=function Ic(n){const t=n.match(ta);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function ag(n){const t=n.match(ah);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=Uo(e),o=Uo(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Hl(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,dd);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=yn);const d=this.parseChildren();e[o]=1===Object.keys(d).length?d[yn]:new E([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,dd)}}function lg(n){return n.segments.length>0?new E([],{[yn]:n}):n}function cp(n){const t={};for(const i of Object.keys(n.children)){const o=cp(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function bv(n){if(1===n.numberOfChildren&&n.children[yn]){const t=n.children[yn];return new E(n.segments.concat(t.segments),t.children)}return n}(new E(n.segments,t))}function rs(n){return n instanceof w}function l0(n,t,e,i,r){if(0===e.length)return kc(t.root,t.root,t.root,i,r);const o=function yv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ug(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,d)=>{if("object"==typeof o&&null!=o){if(o.outlets){const m={};return fs(o.outlets,(v,x)=>{m[x]="string"==typeof v?v.split("/"):v}),[...r,{outlets:m}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===d?(o.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?e=!0:".."===m?t++:""!=m&&r.push(m))}),r):[...r,o]},[]);return new ug(e,t,i)}(e);return o.toRoot()?kc(t.root,t.root,new E([],{}),i,r):function d(v){const x=function d0(n,t,e,i){if(n.isAbsolute)return new pd(t.root,!0,0);if(-1===i)return new pd(e,e===t.root,0);return function Ln(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new pd(i,!1,r-o)}(e,i+(Mm(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,v),T=x.processChildren?Yr(x.segmentGroup,x.index,o.commands):Rm(x.segmentGroup,x.index,o.commands);return kc(t.root,x.segmentGroup,T,i,r)}(n.snapshot?._lastPathIndex)}function Mm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dg(n){return"object"==typeof n&&null!=n&&n.outlets}function kc(n,t,e,i,r){let d,o={};i&&fs(i,(v,x)=>{o[x]=Array.isArray(v)?v.map(T=>`${T}`):`${v}`}),d=n===t?e:c0(n,t,e);const m=lg(cp(d));return new w(m,o,r)}function c0(n,t,e){const i={};return fs(n.children,(r,o)=>{i[o]=r===t?e:c0(r,t,e)}),new E(n.segments,i)}class ug{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Mm(i[0]))throw new a.vHH(4003,!1);const r=i.find(dg);if(r&&r!==wo(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Rm(n,t,e){if(n||(n=new E([],{})),0===n.segments.length&&n.hasChildren())return Yr(n,t,e);const i=function wv(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const d=n.segments[r],m=e[i];if(dg(m))break;const v=`${m}`,x=i<e.length-1?e[i+1]:null;if(r>0&&void 0===v)break;if(v&&x&&"object"==typeof x&&void 0===x.outlets){if(!xv(v,x,d))return o;i+=2}else{if(!xv(v,{},d))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new E(n.segments.slice(0,i.pathIndex),{});return o.children[yn]=new E(n.segments.slice(i.pathIndex),n.children),Yr(o,0,r)}return i.match&&0===r.length?new E(n.segments,{}):i.match&&!n.hasChildren()?lh(n,t,e):i.match?Yr(n,0,r):lh(n,t,e)}function Yr(n,t,e){if(0===e.length)return new E(n.segments,{});{const i=function pg(n){return dg(n[0])?n[0].outlets:{[yn]:n}}(e),r={};return fs(i,(o,d)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[d]=Rm(n.children[d],t,o))}),fs(n.children,(o,d)=>{void 0===i[d]&&(r[d]=o)}),new E(n.segments,r)}}function lh(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(dg(o)){const v=dp(o.outlets);return new E(i,v)}if(0===r&&Mm(e[0])){i.push(new M(n.segments[t].path,mg(e[0]))),r++;continue}const d=dg(o)?o.outlets[yn]:`${o}`,m=r<e.length-1?e[r+1]:null;d&&m&&Mm(m)?(i.push(new M(d,mg(m))),r+=2):(i.push(new M(d,{})),r++)}return new E(i,{})}function dp(n){const t={};return fs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=lh(new E([],{}),0,e))}),t}function mg(n){const t={};return fs(n,(e,i)=>t[i]=`${e}`),t}function xv(n,t,e){return n==e.path&&Vo(t,e.parameters)}class Ac{constructor(t,e){this.id=t,this.url=e}}class ru extends Ac{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mc extends Ac{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class up extends Ac{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hp extends Ac{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fg extends Ac{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gg extends Ac{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ch extends Ac{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kC extends Ac{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AC extends Ac{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class US{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class MC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _g{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vg{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bg{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pp{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yg{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let su=(()=>{class n{createUrlTree(e,i,r,o,d,m){return l0(e||i.root,r,o,d,m)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),PC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){return su.\u0275fac(t)},providedIn:"root"}),n})();class Cv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ev(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ev(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ou(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return ou(t,this._root).map(e=>e.value)}}function Ev(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ev(n,e);if(i)return i}return null}function ou(n,t){if(n===t.value)return[t];for(const e of t.children){const i=ou(n,e);if(i.length)return i.unshift(t),i}return[]}class md{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function na(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class uh extends Cv{constructor(t,e){super(t),this.snapshot=e,Eg(this,t)}toString(){return this.snapshot.toString()}}function h0(n,t){const e=function OC(n,t){const d=new xg([],{},{},"",{},yn,t,null,n.root,-1,{});return new Cg("",new md(d,[]))}(n,t),i=new $i([new M("",{})]),r=new $i({}),o=new $i({}),d=new $i({}),m=new $i(""),v=new mp(i,r,d,m,o,yn,t,e.root);return v.snapshot=e.root,new uh(new md(v,[]),e)}class mp{constructor(t,e,i,r,o,d,m,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,N.U)(x=>x[sh]))??bt(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,N.U)(t=>eu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,N.U)(t=>eu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wg(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function NC(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class xg{constructor(t,e,i,r,o,d,m,v,x,T,P){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=d,this.component=m,this.routeConfig=v,this._urlSegment=x,this._lastPathIndex=T,this._resolve=P}get title(){return this.data?.[sh]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cg extends Cv{constructor(t,e){super(e),this.url=t,Eg(this,e)}toString(){return Dv(this._root)}}function Eg(n,t){t.value._routerState=n,t.children.forEach(e=>Eg(n,e))}function Dv(n){const t=n.children.length>0?` { ${n.children.map(Dv).join(", ")} } `:"";return`${n.value}${t}`}function Tv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Vo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Vo(t.params,e.params)||n.params.next(e.params),function Sm(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Vo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Vo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Sv(n,t){const e=Vo(n.params,t.params)&&function U(n,t){return W(n,t)&&n.every((e,i)=>Vo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Sv(n.parent,t.parent))}function Ho(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function au(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ho(n,i,r);return Ho(n,i)})}(n,t,e);return new md(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const d=o.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(m=>Ho(n,m)),d}}const i=function p0(n){return new mp(new $i(n.url),new $i(n.params),new $i(n.queryParams),new $i(n.fragment),new $i(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ho(n,o));return new md(i,r)}}const Tg="ngNavigationCancelingError";function Iv(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=rs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=FC(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function FC(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Tg]=!0,i.cancellationCode=t,e&&(i.url=e),i}function LC(n){return m0(n)&&rs(n.url)}function m0(n){return n&&n[Tg]}class kv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hh,this.attachRef=null}}let hh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new kv,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Av=!1;let Sg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(hh),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Av);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Av);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Av);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,Av);this._activatedRoute=e;const r=this.location,d=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new Mv(e,m,r.injector);if(i&&function BC(n){return!!n.resolveComponentFactory}(i)){const x=i.resolveComponentFactory(d);this.activated=r.createComponent(x,r.length,v)}else this.activated=r.createComponent(d,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class Mv{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===mp?this.route:t===hh?this.childContexts:this.parent.get(t,e)}}let fp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},dependencies:[Sg],encapsulation:2}),n})();function Rv(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ov(n){const t=n.children&&n.children.map(Ov),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yn&&(e.component=fp),e}function jo(n){return n.outlet||yn}function jl(n,t){const e=n.filter(i=>jo(i)===t);return e.push(...n.filter(i=>jo(i)!==t)),e}function gp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class $C{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Tv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=na(e);t.children.forEach(o=>{const d=o.value.outlet;this.deactivateRoutes(o,r[d],i),delete r[d]}),fs(r,(o,d)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=na(t);for(const d of Object.keys(o))this.deactivateRouteAndItsChildren(o[d],r);if(i&&i.outlet){const d=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=na(t);for(const d of Object.keys(o))this.deactivateRouteAndItsChildren(o[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=na(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new pp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new vg(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Tv(r),r===o)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Tv(m.route.value),this.activateChildRoutes(t,null,d.children)}else{const m=gp(r.snapshot),v=m?.get(a._Vd)??null;d.attachRef=null,d.route=r,d.resolver=v,d.injector=m,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class g0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ph{constructor(t,e){this.component=t,this.route=e}}function HS(n,t,e){const i=n._root;return fd(i,t?t._root:null,e,[i.value])}function Rc(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function fd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=na(t);return n.children.forEach(d=>{(function Nv(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,d=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(d&&o.routeConfig===d.routeConfig){const v=function Ig(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!W(n.url,t.url);case"pathParamsOrQueryParamsChange":return!W(n.url,t.url)||!Vo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sv(n,t)||!Vo(n.queryParams,t.queryParams);default:return!Sv(n,t)}}(d,o,o.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new g0(i)):(o.data=d.data,o._resolvedData=d._resolvedData),fd(n,t,o.component?m?m.children:null:e,i,r),v&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new ph(m.outlet.component,d))}else d&&Om(t,m,r),r.canActivateChecks.push(new g0(i)),fd(n,null,o.component?m?m.children:null:e,i,r)})(d,o[d.value.outlet],e,i.concat([d.value]),r),delete o[d.value.outlet]}),fs(o,(d,m)=>Om(d,e.getContext(m),r)),r}function Om(n,t,e){const i=na(n),r=n.value;fs(i,(o,d)=>{Om(o,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new ph(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function mh(n){return"function"==typeof n}function lu(n){return n instanceof nl||"EmptyError"===n?.name}const Nm=Symbol("INITIAL_VALUE");function rl(){return Di(n=>Bt(n.map(t=>t.pipe(li(1),Wr(Nm)))).pipe((0,N.U)(t=>{for(const e of t)if(!0!==e){if(e===Nm)return Nm;if(!1===e||e instanceof w)return e}return!0}),Wn(t=>t!==Nm),li(1)))}function Lm(n){return(0,yo.z)((0,Kn.b)(t=>{if(rs(t))throw Iv(0,t)}),(0,N.U)(t=>!0===t))}const vp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gh(n,t,e,i,r){const o=Bv(n,t,e);return o.matched?function w0(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?bt(r.map(d=>{const m=Rc(d,n);return or(function Lv(n){return n&&mh(n.canMatch)}(m)?m.canMatch(t,e):n.runInContext(()=>m(t,e)))})).pipe(rl(),Lm()):bt(!0)}(i=Rv(t,i),t,e).pipe((0,N.U)(d=>!0===d?o:{...vp})):bt(o)}function Bv(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...vp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||sp)(e,n,t);if(!r)return{...vp};const o={};fs(r.posParams,(m,v)=>{o[v]=m.path});const d=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function kg(n,t,e,i){if(e.length>0&&function qC(n,t,e){return e.some(i=>bp(n,t,i)&&jo(i)!==yn)}(n,e,i)){const o=new E(t,function Ag(n,t,e,i){const r={};r[yn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&jo(o)!==yn){const d=new E([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[jo(o)]=d}return r}(n,t,i,new E(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function uu(n,t,e){return e.some(i=>bp(n,t,i))}(n,e,i)){const o=new E(n.segments,function Bm(n,t,e,i,r){const o={};for(const d of i)if(bp(n,e,d)&&!r[jo(d)]){const m=new E([],{});m._sourceSegment=n,m._segmentIndexShift=t.length,o[jo(d)]=m}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new E(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function bp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Vv(n,t,e,i){return!!(jo(n)===i||i!==yn&&bp(t,e,n))&&("**"===n.path||Bv(t,n,e).matched)}function Aa(n,t,e){return 0===t.length&&!n.children[e]}const Vm=!1;class hu{constructor(t){this.segmentGroup=t||null}}class x0{constructor(t){this.urlTree=t}}function Pc(n){return Fi(new hu(n))}function yp(n){return Fi(new x0(n))}class Um{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=kg(this.urlTree.root,[],[],this.config).segmentGroup,e=new E(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,yn).pipe((0,N.U)(o=>this.createUrlTree(cp(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ea(o=>{if(o instanceof x0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof hu?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,yn).pipe((0,N.U)(r=>this.createUrlTree(cp(r),t.queryParams,t.fragment))).pipe(ea(r=>{throw r instanceof hu?this.noMatchError(r):r}))}noMatchError(t){return new a.vHH(4002,Vm)}createUrlTree(t,e,i){const r=lg(t);return new w(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,N.U)(o=>new E([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Pn.D)(r).pipe(Xi(o=>{const d=i.children[o],m=jl(e,o);return this.expandSegmentGroup(t,m,d,o).pipe((0,N.U)(v=>({segment:v,outlet:o})))}),cd((o,d)=>(o[d.outlet]=d.segment,o),{}),Vl())}expandSegment(t,e,i,r,o,d){return(0,Pn.D)(i).pipe(Xi(m=>this.expandSegmentAgainstRoute(t,e,i,m,r,o,d).pipe(ea(x=>{if(x instanceof hu)return bt(null);throw x}))),il(m=>!!m),ea((m,v)=>{if(lu(m))return Aa(e,r,o)?bt(new E([],{})):Pc(e);throw m}))}expandSegmentAgainstRoute(t,e,i,r,o,d,m){return Vv(r,e,o,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,d):Pc(e):Pc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?yp(o):this.lineralizeSegments(i,o).pipe((0,Nr.z)(d=>{const m=new E(d,{});return this.expandSegment(t,m,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,d){const{matched:m,consumedSegments:v,remainingSegments:x,positionalParamSegments:T}=Bv(e,r,o);if(!m)return Pc(e);const P=this.applyRedirectCommands(v,r.redirectTo,T);return r.redirectTo.startsWith("/")?yp(P):this.lineralizeSegments(r,P).pipe((0,Nr.z)(B=>this.expandSegment(t,e,i,B.concat(x),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=Rv(i,t),i.loadChildren?(i._loadedRoutes?bt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,N.U)(m=>(i._loadedRoutes=m.routes,i._loadedInjector=m.injector,new E(r,{})))):bt(new E(r,{}))):gh(e,i,r,t).pipe(Di(({matched:d,consumedSegments:m,remainingSegments:v})=>d?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Nr.z)(T=>{const P=T.injector??t,B=T.routes,{segmentGroup:G,slicedSegments:Z}=kg(e,m,v,B),le=new E(G.segments,G.children);if(0===Z.length&&le.hasChildren())return this.expandChildren(P,B,le).pipe((0,N.U)(vt=>new E(m,vt)));if(0===B.length&&0===Z.length)return bt(new E(m,{}));const xe=jo(i)===o;return this.expandSegment(P,le,B,Z,xe?yn:o,!0).pipe((0,N.U)(_t=>new E(m.concat(_t.segments),_t.children)))})):Pc(e)))}getChildConfig(t,e,i){return e.children?bt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?bt({routes:e._loadedRoutes,injector:e._loadedInjector}):function y0(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?bt(!0):bt(r.map(d=>{const m=Rc(d,n);return or(function _0(n){return n&&mh(n.canLoad)}(m)?m.canLoad(t,e):n.runInContext(()=>m(t,e)))})).pipe(rl(),Lm())}(t,e,i).pipe((0,Nr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Kn.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Uv(n){return Fi(FC(Vm,3))}())):bt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[yn])return Fi(new a.vHH(4e3,Vm));r=r.children[yn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new w(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return fs(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const m=r.substring(1);i[o]=e[m]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let d={};return fs(e.children,(m,v)=>{d[v]=this.createSegmentGroup(t,m,i,r)}),new E(o,d)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.vHH(4001,Vm);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class sl{}class jv{constructor(t,e,i,r,o,d,m){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=d,this.urlSerializer=m}recognize(){const t=kg(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,yn).pipe((0,N.U)(e=>{if(null===e)return null;const i=new xg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new md(i,e),o=new Cg(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=wg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Pn.D)(Object.keys(i.children)).pipe(Xi(r=>{const o=i.children[r],d=jl(e,r);return this.processSegmentGroup(t,d,o,r)}),cd((r,o)=>r&&o?(r.push(...o),r):null),function Tm(n,t=!1){return(0,Or.e)((e,i)=>{let r=0;e.subscribe((0,Ue.x)(i,o=>{const d=n(o,r++);(d||t)&&i.next(o),!d&&i.complete()}))})}(r=>null!==r),ip(null),Vl(),(0,N.U)(r=>{if(null===r)return null;const o=$v(r);return function Rg(n){n.sort((t,e)=>t.value.outlet===yn?-1:e.value.outlet===yn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,Pn.D)(e).pipe(Xi(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,r,o)),il(d=>!!d),ea(d=>{if(lu(d))return Aa(i,r,o)?bt([]):bt(null);throw d}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Vv(e,i,r,o))return bt(null);let d;if("**"===e.path){const m=r.length>0?wo(r).parameters:{},v=Gv(i)+r.length;d=bt({snapshot:new xg(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E0(e),jo(e),e.component??e._loadedComponent??null,e,zv(i),v,pu(e)),consumedSegments:[],remainingSegments:[]})}else d=gh(i,e,r,t).pipe((0,N.U)(({matched:m,consumedSegments:v,remainingSegments:x,parameters:T})=>{if(!m)return null;const P=Gv(i)+v.length;return{snapshot:new xg(v,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E0(e),jo(e),e.component??e._loadedComponent??null,e,zv(i),P,pu(e)),consumedSegments:v,remainingSegments:x}}));return d.pipe(Di(m=>{if(null===m)return bt(null);const{snapshot:v,consumedSegments:x,remainingSegments:T}=m;t=e._injector??t;const P=e._loadedInjector??t,B=function wp(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:G,slicedSegments:Z}=kg(i,x,T,B.filter(xe=>void 0===xe.redirectTo));if(0===Z.length&&G.hasChildren())return this.processChildren(P,B,G).pipe((0,N.U)(xe=>null===xe?null:[new md(v,xe)]));if(0===B.length&&0===Z.length)return bt([new md(v,[])]);const le=jo(e)===o;return this.processSegment(P,B,G,Z,le?yn:o).pipe((0,N.U)(xe=>null===xe?null:[new md(v,xe)]))}))}}function C0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function $v(n){const t=[],e=new Set;for(const i of n){if(!C0(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=$v(i.children);t.push(new md(i.value,r))}return t.filter(i=>!e.has(i))}function zv(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Gv(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function E0(n){return n.data||{}}function pu(n){return n.resolve||{}}function Pg(n){return"string"==typeof n.title||null===n.title}function Og(n){return Di(t=>{const e=n(t);return e?(0,Pn.D)(e).pipe((0,N.U)(()=>t)):bt(t)})}const vh=new a.OlP("ROUTES");let qv=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return bt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=or(e.loadComponent()).pipe((0,N.U)(Ma),(0,Kn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ul(()=>{this.componentLoaders.delete(e)})),r=new ig(i,()=>new gt.x).pipe(ih());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,N.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let v,x,T=!1;Array.isArray(m)?x=m:(v=m.create(e).injector,x=km(v.get(vh,[],a.XFs.Self|a.XFs.Optional)));return{routes:x.map(Ov),injector:v}}),Ul(()=>{this.childrenLoaders.delete(i)})),d=new ig(o,()=>new gt.x).pipe(ih());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return or(e()).pipe((0,N.U)(Ma),(0,Nr.z)(r=>r instanceof a.YKP||Array.isArray(r)?bt(r):(0,Pn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ma(n){return function XC(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let jm=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gt.x,this.configLoader=(0,a.f3M)(qv),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(We),this.rootContexts=(0,a.f3M)(hh),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new MC(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new US(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new $i({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wn(i=>0!==i.id),(0,N.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Di(i=>{let r=!1,o=!1;return bt(i).pipe((0,Kn.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Di(d=>{const m=e.browserUrlTree.toString(),v=!e.navigated||d.extractedUrl.toString()!==m||m!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||v)&&e.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return k0(d.source)&&(e.browserUrlTree=d.extractedUrl),bt(d).pipe(Di(T=>{const P=this.transitions?.getValue();return this.events.next(new ru(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),P!==this.transitions?.getValue()?Ps.E:Promise.resolve(T)}),function Mg(n,t,e,i){return Di(r=>function YC(n,t,e,i,r){return new Um(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,N.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Kn.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},i.urlAfterRedirects=T.urlAfterRedirects}),function Oc(n,t,e,i,r){return(0,Nr.z)(o=>function Hv(n,t,e,i,r,o,d="emptyOnly"){return new jv(n,t,e,i,r,d,o).recognize().pipe(Di(m=>null===m?function _h(n){return new Ei.y(t=>t.error(n))}(new sl):bt(m)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,N.U)(d=>({...o,targetSnapshot:d}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Kn.b)(T=>{if(i.targetSnapshot=T.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!T.extras.skipLocationChange){const B=e.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);e.setBrowserUrl(B,T)}e.browserUrlTree=T.urlAfterRedirects}const P=new fg(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(P)}));if(v&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:P,extractedUrl:B,source:G,restoredState:Z,extras:le}=d,xe=new ru(P,this.urlSerializer.serialize(B),G,Z);this.events.next(xe);const Xe=h0(B,e.rootComponentType).snapshot;return bt(i={...d,targetSnapshot:Xe,urlAfterRedirects:B,extras:{...le,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=d.rawUrl,d.resolve(null),Ps.E}),(0,Kn.b)(d=>{const m=new gg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,N.U)(d=>i={...d,guards:HS(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Fm(n,t){return(0,Nr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:d}}=e;return 0===d.length&&0===o.length?bt({...e,guardsResult:!0}):function fh(n,t,e,i){return(0,Pn.D)(n).pipe((0,Nr.z)(r=>function Un(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?bt(o.map(m=>{const v=gp(t)??r,x=Rc(m,v);return or(function $S(n){return n&&mh(n.canDeactivate)}(x)?x.canDeactivate(n,t,e,i):v.runInContext(()=>x(n,t,e,i))).pipe(il())})).pipe(rl()):bt(!0)}(r.component,r.route,e,t,i)),il(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Nr.z)(m=>m&&function zC(n){return"boolean"==typeof n}(m)?function cu(n,t,e,i){return(0,Pn.D)(t).pipe(Xi(r=>Oi(function _p(n,t){return null!==n&&t&&t(new _g(n)),bt(!0)}(r.route.parent,i),function b0(n,t){return null!==n&&t&&t(new bg(n)),bt(!0)}(r.route,i),function $l(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(d=>function jS(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Bo(()=>bt(d.guards.map(v=>{const x=gp(d.node)??e,T=Rc(v,x);return or(function Fv(n){return n&&mh(n.canActivateChild)}(T)?T.canActivateChild(i,n):x.runInContext(()=>T(i,n))).pipe(il())})).pipe(rl())));return bt(o).pipe(rl())}(n,r.path,e),function du(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(o=>Bo(()=>{const d=gp(t)??e,m=Rc(o,d);return or(function v0(n){return n&&mh(n.canActivate)}(m)?m.canActivate(t,n):d.runInContext(()=>m(t,n))).pipe(il())}));return bt(r).pipe(rl())}(n,r.route,e))),il(r=>!0!==r,!0))}(i,o,n,t):bt(m)),(0,N.U)(m=>({...e,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,Kn.b)(d=>{if(i.guardsResult=d.guardsResult,rs(d.guardsResult))throw Iv(0,d.guardsResult);const m=new ch(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Wn(d=>!!d.guardsResult||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",3,e),!1)),Og(d=>{if(d.guards.canActivateChecks.length)return bt(d).pipe((0,Kn.b)(m=>{const v=new kC(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),Di(m=>{let v=!1;return bt(m).pipe(function KC(n,t){return(0,Nr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return bt(e);let o=0;return(0,Pn.D)(r).pipe(Xi(d=>function D0(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Pg(r)&&(o[sh]=r.title),function JM(n,t,e,i){const r=function GS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return bt({});const o={};return(0,Pn.D)(r).pipe((0,Nr.z)(d=>function QC(n,t,e,i){const r=gp(t)??i,o=Rc(n,r);return or(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[d],t,e,i).pipe(il(),(0,Kn.b)(m=>{o[d]=m}))),rp(1),rh(o),ea(d=>lu(d)?Ps.E:Fi(d)))}(o,n,t,i).pipe((0,N.U)(d=>(n._resolvedData=d,n.data=wg(n,e).resolve,r&&Pg(r)&&(n.data[sh]=r.title),null)))}(d.route,i,n,t)),(0,Kn.b)(()=>o++),rp(1),(0,Nr.z)(d=>o===r.length?bt(e):Ps.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Kn.b)({next:()=>v=!0,complete:()=>{v||(e.restoreHistory(m),this.cancelNavigationTransition(m,"",2,e))}}))}),(0,Kn.b)(m=>{const v=new AC(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),Og(d=>{const m=v=>{const x=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Kn.b)(T=>{v.component=T}),(0,N.U)(()=>{})));for(const T of v.children)x.push(...m(T));return x};return Bt(m(d.targetSnapshot.root)).pipe(ip(),li(1))}),Og(()=>e.afterPreactivation()),(0,N.U)(d=>{const m=function Dg(n,t,e){const i=Ho(n,t._root,e?e._root:void 0);return new uh(i,t)}(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return i={...d,targetRouterState:m}}),(0,Kn.b)(d=>{e.currentUrlTree=d.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),e.routerState=d.targetRouterState,"deferred"===e.urlUpdateStrategy&&(d.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,d),e.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,N.U)(i=>(new $C(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d)),(0,Kn.b)({next:d=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Mc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{r=!0}}),Ul(()=>{r||o||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ea(d=>{if(o=!0,m0(d)){LC(d)||(e.navigated=!0,e.restoreHistory(i,!0));const m=new up(i.id,this.urlSerializer.serialize(i.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),LC(d)){const v=e.urlHandlingStrategy.merge(d.url,e.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||k0(i.source)};e.scheduleNavigation(v,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const m=new hp(i.id,this.urlSerializer.serialize(i.extractedUrl),d,i.targetSnapshot??void 0);this.events.next(m);try{i.resolve(e.errorHandler(d))}catch(v){i.reject(v)}}return Ps.E}))}))}cancelNavigationTransition(e,i,r,o){const d=new up(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(d),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k0(n){return"imperative"!==n}let Wv=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===yn);return i}getResolvedTitleForRoute(e){return e.data[sh]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(A0)},providedIn:"root"}),n})(),A0=(()=>{class n extends Wv{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ca))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(JC)},providedIn:"root"}),n})();class R0{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let JC=(()=>{class n extends R0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ng=new a.OlP("",{providedIn:"root",factory:()=>({})});let Tn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(P0)},providedIn:"root"}),n})(),P0=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fg(n){throw n}function Yv(n,t,e){return t.parse("/")}const mu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xo=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(Ng,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Fg,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yv,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=(0,a.f3M)(Tn),this.routeReuseStrategy=(0,a.f3M)(M0),this.urlCreationStrategy=(0,a.f3M)(PC),this.titleStrategy=(0,a.f3M)(Wv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=km((0,a.f3M)(vh,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(jm),this.urlSerializer=(0,a.f3M)(We),this.location=(0,a.f3M)(Oe),this.rootComponentType=null,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new w,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=h0(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(e.state){const m={...e.state};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(r.state=m)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Ov),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:d,queryParamsHandling:m,preserveFragment:v}=i,x=v?this.currentUrlTree.fragment:d;let T=null;switch(m){case"merge":T={...this.currentUrlTree.queryParams,...o};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=o||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,T,x??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=rs(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function F0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new a.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...mu}:!1===i?{...N0}:i,rs(e))return is(this.currentUrlTree,e,r);const o=this.parseUrl(e);return is(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,d){if(this.disposed)return Promise.resolve(!1);let m,v,x,T;return d?(m=d.resolve,v=d.reject,x=d.promise):x=new Promise((P,B)=>{m=P,v=B}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),T=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:m,reject:v,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(P=>Promise.reject(P))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bh=(()=>{class n{constructor(e,i,r,o,d,m){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=d,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new gt.x;const v=d.nativeElement.tagName;this.isAnchorElement="A"===v||"AREA"===v,this.isAnchorElement?this.subscription=e.events.subscribe(x=>{x instanceof Mc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xo),a.Y36(mp),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ct))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&a.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&a.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class Zv{}let iE=(()=>{class n{constructor(e,i,r,o,d){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Wn(e=>e instanceof Mc),Xi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,a.MMx)(o.providers,e,`Route: ${o.path}`));const d=o._injector??e,m=o._loadedInjector??d;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(d,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(m,o.children??o._loadedRoutes))}return(0,Pn.D)(r).pipe((0,on.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):bt(null);const o=r.pipe((0,Nr.z)(d=>null===d?bt(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,Pn.D)([o,d]).pipe((0,on.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xo),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Zv),a.LFG(qv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $m=new a.OlP("");let zm=(()=>{class n{constructor(e,i,r,o,d={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ru?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof yg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Gm(n,t){return{\u0275kind:n,\u0275providers:t}}function fu(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(xo),r=n.get(L0);1===n.get(gu)&&i.initialNavigation(),n.get(U0,null,a.XFs.Optional)?.setUpPreloading(),n.get($m,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const L0=new a.OlP("",{factory:()=>new gt.x}),gu=new a.OlP("",{providedIn:"root",factory:()=>1});const U0=new a.OlP("");function oE(n){return Gm(0,[{provide:U0,useExisting:iE},{provide:Zv,useExisting:n}])}const Qv=new a.OlP("ROUTER_FORROOT_GUARD"),aE=[Oe,{provide:We,useClass:It},xo,hh,{provide:mp,useFactory:function rE(n){return n.routerState.root},deps:[xo]},qv,[]];function j0(){return new a.PXZ("Router",xo)}let Ns=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[aE,[],{provide:vh,multi:!0,useValue:e},{provide:Qv,useFactory:z0,deps:[[xo,new a.FiY,new a.tp0]]},{provide:Ng,useValue:i||{}},i?.useHash?{provide:Ct,useClass:qe}:{provide:Ct,useClass:Ye},{provide:$m,useFactory:()=>{const n=(0,a.f3M)(Va),t=(0,a.f3M)(a.R0b),e=(0,a.f3M)(Ng),i=(0,a.f3M)(jm),r=(0,a.f3M)(We);return e.scrollOffset&&n.setOffset(e.scrollOffset),new zm(r,i,n,t,e)}},i?.preloadingStrategy?oE(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:j0},i?.initialNavigation?lE(i):[],[{provide:yh,useFactory:fu},{provide:a.tb,multi:!0,useExisting:yh}]]}}static forChild(e){return{ngModule:n,providers:[{provide:vh,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Qv,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fp]}),n})();function z0(n){return"guarded"}function lE(n){return["disabled"===n.initialNavigation?Gm(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(xo);return()=>{t.setUpLocationChangeListener()}}},{provide:gu,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gm(2,[{provide:gu,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(Fe,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(xo),d=t.get(L0);(function i(r){t.get(xo).events.pipe(Wn(d=>d instanceof Mc||d instanceof up||d instanceof hp),(0,N.U)(d=>d instanceof Mc||d instanceof up&&(0===d.code||1===d.code)&&null),Wn(d=>null!==d),li(1)).subscribe(()=>{r()})})(()=>{r(!0)}),o.afterPreactivation=()=>(r(!0),d.closed?bt(void 0):d),o.initialNavigation()}))}}]).\u0275providers:[]]}const yh=new a.OlP("");function Bg(...n){const t=(0,ai.jO)(n),{args:e,keys:i}=ld(n),r=new Ei.y(o=>{const{length:d}=e;if(!d)return void o.complete();const m=new Array(d);let v=d,x=d;for(let T=0;T<d;T++){let P=!1;(0,Ws.Xf)(e[T]).subscribe((0,Ue.x)(o,B=>{P||(P=!0,x--),m[T]=B},()=>v--,void 0,()=>{(!v||!P)&&(x||o.next(i?De(i,m):m),o.complete())}))}});return t?r.pipe(fe(t)):r}let Jv=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),wh=(()=>{class n extends Jv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Zr=new a.OlP("NgValueAccessor"),Wm={provide:Zr,useExisting:(0,a.Gpc)(()=>Ym),multi:!0},Ug=new a.OlP("CompositionEventMode");let Ym=(()=>{class n extends Jv{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eb(){const n=q()?q().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ug,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[a._Bn([Wm]),a.qOj]}),n})();function Nc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ol(n){return null!=n&&"number"==typeof n.length}const ss=new a.OlP("NgValidators"),Gl=new a.OlP("NgAsyncValidators"),cE=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nb{static min(t){return function ib(n){return t=>{if(Nc(t.value)||Nc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function q0(n){return t=>{if(Nc(t.value)||Nc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function rb(n){return Nc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function sb(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function W0(n){return Nc(n.value)||cE.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Y0(n){return t=>Nc(t.value)||!ol(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ia(n){return t=>ol(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ob(n){if(!n)return Hg;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Nc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return zg(t)}static composeAsync(t){return K0(t)}}function Hg(n){return null}function dE(n){return null!=n}function jg(n){return(0,a.QGY)(n)?(0,Pn.D)(n):n}function ab(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function $g(n,t){return t.map(e=>e(n))}function Z0(n){return n.map(t=>function uE(n){return!n.validate}(t)?t:e=>t.validate(e))}function zg(n){if(!n)return null;const t=n.filter(dE);return 0==t.length?null:function(e){return ab($g(e,t))}}function Zm(n){return null!=n?zg(Z0(n)):null}function K0(n){if(!n)return null;const t=n.filter(dE);return 0==t.length?null:function(e){return Bg($g(e,t).map(jg)).pipe((0,N.U)(ab))}}function al(n){return null!=n?K0(Z0(n)):null}function lb(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Q0(n){return n._rawValidators}function Gg(n){return n._rawAsyncValidators}function qg(n){return n?Array.isArray(n)?n:[n]:[]}function Wg(n,t){return Array.isArray(n)?n.includes(t):n===t}function ql(n,t){const e=qg(t);return qg(n).forEach(r=>{Wg(e,r)||e.push(r)}),e}function Yg(n,t){return qg(t).filter(e=>!Wg(n,e))}class X0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=al(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Zs extends X0{get formDirective(){return null}get path(){return null}}class ll extends X0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cb{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qm=(()=>{class n extends cb{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ll,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),J0=(()=>{class n extends cb{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zs,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const Tp="VALID",Xg="INVALID",Eh="PENDING",Fc="DISABLED";function hb(n){return(tf(n)?n.validators:n)||null}function Jg(n,t){return(tf(t)?t.asyncValidators:n)||null}function tf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nw{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Tp}get invalid(){return this.status===Xg}get pending(){return this.status==Eh}get disabled(){return this.status===Fc}get enabled(){return this.status!==Fc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ql(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ql(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Yg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Yg(t,this._rawAsyncValidators))}hasValidator(t){return Wg(this._rawValidators,t)}hasAsyncValidator(t){return Wg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Eh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fc,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Tp,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tp||this.status===Eh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fc:Tp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Eh,this._hasOwnPendingAsyncValidator=!0;const e=jg(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Fc:this.errors?Xg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eh)?Eh:this._anyControlsHaveStatus(Xg)?Xg:Tp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function QS(n){return Array.isArray(n)?Zm(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function vE(n){return Array.isArray(n)?al(n):n||null}(this._rawAsyncValidators)}}class pb extends nw{constructor(t,e,i){super(hb(e),Jg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function tw(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function ew(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Sp=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>n_}),n_="always";function rf(n,t,e=n_){s_(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function yE(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fb(n,t)})}(n,t),function Dh(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function wE(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fb(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function bE(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function i_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),sf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function r_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function s_(n,t){const e=Q0(n);null!==t.validator?n.setValidators(lb(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Gg(n);null!==t.asyncValidator?n.setAsyncValidators(lb(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();r_(t._rawValidators,r),r_(t._rawAsyncValidators,r)}function sf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Q0(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(d=>d!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Gg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(d=>d!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return r_(t._rawValidators,i),r_(t._rawAsyncValidators,i),e}function fb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _u(n,t){s_(n,t)}function dl(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Ks(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function gd(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ym?e=o:function Ip(n){return Object.getPrototypeOf(n.constructor)===wh}(o)?i=o:r=o}),r||i||e||null}const _b={provide:Zs,useExisting:(0,a.Gpc)(()=>ul)},Lc=(()=>Promise.resolve())();let ul=(()=>{class n extends Zs{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new pb({},Zm(e),al(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Lc.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),rf(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Lc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Lc.then(()=>{const i=this._findContainer(e.path),r=new pb({});_u(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Lc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Lc.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Ks(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ss,10),a.Y36(Gl,10),a.Y36(Sp,8))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([_b]),a.qOj]}),n})();function hl(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function vu(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _d=class extends nw{constructor(t=null,e,i){super(hb(e),Jg(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=vu(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hl(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hl(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){vu(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},cf={provide:ll,useExisting:(0,a.Gpc)(()=>l_)},bb=(()=>Promise.resolve())();let l_=(()=>{class n extends ll{constructor(e,i,r,o,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new _d,this._registered=!1,this.update=new a.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=gd(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),dl(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){bb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,a.D6c)(i);bb.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function nf(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zs,9),a.Y36(ss,10),a.Y36(Gl,10),a.Y36(Zr,10),a.Y36(a.sBO,8),a.Y36(Sp,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([cf]),a.qOj,a.TTD]}),n})(),yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Sh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Mp=new a.OlP("NgModelWithFormControlWarning"),xb={provide:ll,useExisting:(0,a.Gpc)(()=>Cb)};let Cb=(()=>{class n extends ll{constructor(e,i,r,o,d){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=d,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=gd(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&i_(i,this,!1),rf(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}dl(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&i_(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(ss,10),a.Y36(Gl,10),a.Y36(Zr,10),a.Y36(Mp,8),a.Y36(Sp,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([xb]),a.qOj,a.TTD]}),n})();const pl={provide:Zs,useExisting:(0,a.Gpc)(()=>vd)};let vd=(()=>{class n extends Zs{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return rf(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){i_(e.control||null,e,!1),function a_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Ks(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(i_(i||null,e),(n=>n instanceof _d)(r)&&(rf(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);_u(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function XS(n,t){return sf(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){s_(this.form,this),this._oldForm&&sf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ss,10),a.Y36(Gl,10),a.Y36(Sp,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([pl]),a.qOj,a.TTD]}),n})(),os=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Sh]}),n})(),Lb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Sp,useValue:e.callSetDisabledState??n_}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[os]}),n})(),mw=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Mp,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Sp,useValue:e.callSetDisabledState??n_}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[os]}),n})();var gw=K(552),Y=K(2090),Co=K(9681),xd=K(1877),ml=K(4859),fl=K(4986),On=K(2122);function Pp(){return(0,Or.e)((n,t)=>{let e,i=!1;n.subscribe((0,Ue.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function Op(n,t=O.y){return n=n??Bc,(0,Or.e)((e,i)=>{let r,o=!0;e.subscribe((0,Ue.x)(i,d=>{const m=t(d);(o||!n(r,m))&&(o=!1,r=m,i.next(d))}))})}function Bc(n,t){return n===t}var qt,Li=K(2011),Bb=(K(9568),K(3942)),Be=K(5861),Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cd={},Ub=Ub||{},Sn=Vb||self;function Ed(){}function pf(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Np(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Hb="closure_uid_"+(1e9*Math.random()>>>0),_w=0;function g_(n,t,e){return n.call.apply(n.bind,arguments)}function FE(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Qs(n,t,e){return(Qs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g_:FE).apply(null,arguments)}function mf(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Fs(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return t.prototype[r].apply(i,d)}}function Wl(){this.s=this.s,this.o=this.o}Wl.prototype.s=!1,Wl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function NE(n){Object.prototype.hasOwnProperty.call(n,Hb)&&n[Hb]||(n[Hb]=++_w)}(this)},Wl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jb=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function __(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function bw(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(pf(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let d=0;d<o;d++)n[r+d]=i[d]}else n.push(i)}}function Xs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Xs.prototype.h=function(){this.defaultPrevented=!0};var yw=function(){if(!Sn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Sn.addEventListener("test",Ed,t),Sn.removeEventListener("test",Ed,t)}catch{}return n}();function v_(n){return/^[\s\xa0]*$/.test(n)}var $b=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zb(n,t){return n<t?-1:n>t?1:0}function Gb(){var n=Sn.navigator;return n&&(n=n.userAgent)?n:""}function Uc(n){return-1!=Gb().indexOf(n)}function ff(n){return ff[" "](n),n}ff[" "]=Ed;var gf,n,ww=Uc("Opera"),Fp=Uc("Trident")||Uc("MSIE"),xw=Uc("Edge"),qb=xw||Fp,Cw=Uc("Gecko")&&!(-1!=Gb().toLowerCase().indexOf("webkit")&&!Uc("Edge"))&&!(Uc("Trident")||Uc("MSIE"))&&!Uc("Edge"),Ew=-1!=Gb().toLowerCase().indexOf("webkit")&&!Uc("Edge");function Dw(){var n=Sn.document;return n?n.documentMode:void 0}e:{var Wb="",Tw=(n=Gb(),Cw?/rv:([^\);]+)(\)|;)/.exec(n):xw?/Edge\/([\d\.]+)/.exec(n):Fp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ew?/WebKit\/(\S+)/.exec(n):ww?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Tw&&(Wb=Tw?Tw[1]:""),Fp){var Yb=Dw();if(null!=Yb&&Yb>parseFloat(Wb)){gf=String(Yb);break e}}gf=Wb}var BE={};var VE=Sn.document&&Fp&&(Dw()||parseInt(gf,10))||void 0;function vf(n,t){if(Xs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Cw){e:{try{ff(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Sw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vf.X.h.call(this)}}Fs(vf,Xs);var Sw={2:"touch",3:"pen",4:"mouse"};vf.prototype.h=function(){vf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lp="closure_listenable_"+(1e6*Math.random()|0),y_=0;function Iw(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++y_,this.ba=this.ea=!1}function Bp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function f(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function s(n){const t={};for(const e in n)t[e]=n[e];return t}const u="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<u.length;o++)e=u[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function b(n){this.src=n,this.g={},this.h=0}function C(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=jb(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Bp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function I(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}b.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var d=I(n,t,i,r);return-1<d?(t=n[d],e||(t.ea=!1)):((t=new Iw(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),V={};function j(n,t,e,i,r){if(i&&i.once)return ve(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)j(n,t[o],e,i,r);return null}return e=Hn(e),n&&n[Lp]?n.N(t,e,Np(i)?!!i.capture:!!i,r):X(n,t,e,!1,i,r)}function X(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var d=Np(r)?!!r.capture:!!r,m=Pt(n);if(m||(n[F]=m=new b(n)),(e=m.add(t,e,i,d,o)).proxy)return e;if(i=function ge(){const t=yt;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)yw||(r=d),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Ft(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function ve(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ve(n,t[o],e,i,r);return null}return e=Hn(e),n&&n[Lp]?n.O(t,e,Np(i)?!!i.capture:!!i,r):X(n,t,e,!0,i,r)}function Je(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Je(n,t[o],e,i,r);else i=Np(i)?!!i.capture:!!i,e=Hn(e),n&&n[Lp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=I(o=n.g[t],e,i,r))&&(Bp(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Pt(n))&&(t=n.g[t.toString()],n=-1,t&&(n=I(t,e,i,r)),(e=-1<n?t[n]:null)&&nt(e))}function nt(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Lp])C(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Ft(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Pt(t))?(C(e,n),0==e.h&&(e.src=null,t[F]=null)):Bp(n)}}}function Ft(n){return n in V?V[n]:V[n]="on"+n}function yt(n,t){if(n.ba)n=!0;else{t=new vf(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&nt(n),n=e.call(i,t)}return n}function Pt(n){return(n=n[F])instanceof b?n:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(n){return"function"==typeof n?n:(n[Lt]||(n[Lt]=function(t){return n.handleEvent(t)}),n[Lt])}function Kt(){Wl.call(this),this.i=new b(this),this.P=this,this.I=null}function ki(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Xs(t,n);else if(t instanceof Xs)t.target=t.target||n;else{var r=t;p(t=new Xs(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var d=t.g=e[o];r=Pa(d,i,!0,t)&&r}if(r=Pa(d=t.g=n,i,!0,t)&&r,r=Pa(d,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Pa(d=t.g=e[o],i,!1,t)&&r}function Pa(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var d=t[o];if(d&&!d.ba&&d.capture==e){var m=d.listener,v=d.ha||d.src;d.ea&&C(n.i,d),r=!1!==m.call(v,i)&&r}}return r&&!i.defaultPrevented}Fs(Kt,Wl),Kt.prototype[Lp]=!0,Kt.prototype.removeEventListener=function(n,t,e,i){Je(this,n,t,e,i)},Kt.prototype.M=function(){if(Kt.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Bp(e[i]);delete n.g[t],n.h--}}this.I=null},Kt.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Kt.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Yl=Sn.JSON.stringify;function Hc(){var n=gl;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var jc,ar=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Bi,n=>n.reset());class Bi{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function $o(n){Sn.setTimeout(()=>{throw n},0)}function Cu(n,t){jc||function Ih(){var n=Sn.Promise.resolve(void 0);jc=function(){n.then(UE)}}(),Eo||(jc(),Eo=!0),gl.add(n,t)}var Eo=!1,gl=new class Wt{constructor(){this.h=this.g=null}add(t,e){const i=ar.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function UE(){for(var n;n=Hc();){try{n.h.call(n.g)}catch(e){$o(e)}var t=ar;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Eo=!1}function kw(n,t){Kt.call(this),this.h=n||1,this.g=t||Sn,this.j=Qs(this.lb,this),this.l=Date.now()}function w_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Aw(n,t,e){if("function"==typeof n)e&&(n=Qs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qs(n.handleEvent,n)}return 2147483647<Number(t)?-1:Sn.setTimeout(n,t||0)}function HE(n){n.g=Aw(()=>{n.g=null,n.i&&(n.i=!1,HE(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Fs(kw,Kt),(qt=kw.prototype).ca=!1,qt.R=null,qt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ki(this,"tick"),this.ca&&(w_(this),this.start()))}},qt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.M=function(){kw.X.M.call(this),w_(this),delete this.g};class sI extends Wl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:HE(this)}M(){super.M(),this.g&&(Sn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zb(n){Wl.call(this),this.h=n,this.g={}}Fs(Zb,Wl);var x_=[];function C_(n,t,e,i){Array.isArray(e)||(e&&(x_[0]=e.toString()),e=x_);for(var r=0;r<e.length;r++){var o=j(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function oI(n){f(n.g,function(t,e){this.g.hasOwnProperty(e)&&nt(t)},n),n.g={}}function Mw(){this.g=!0}function bf(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function r1(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var d=1;d<r.length;d++)r[d]=""}}}return Yl(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Zb.prototype.M=function(){Zb.X.M.call(this),oI(this)},Zb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mw.prototype.Aa=function(){this.g=!1},Mw.prototype.info=function(){};var Vp={},cI=null;function Rw(){return cI=cI||new Kt}function s1(n){Xs.call(this,Vp.Pa,n)}function Pw(n){const t=Rw();ki(t,new s1(t))}function o1(n,t){Xs.call(this,Vp.STAT_EVENT,n),this.stat=t}function _l(n){const t=Rw();ki(t,new o1(t,n))}function a1(n,t){Xs.call(this,Vp.Qa,n),this.size=t}function Ow(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Sn.setTimeout(function(){n()},t)}Vp.Pa="serverreachability",Fs(s1,Xs),Vp.STAT_EVENT="statevent",Fs(o1,Xs),Vp.Qa="timingevent",Fs(a1,Xs);var Kb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Qb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function jE(){}function $E(){}jE.prototype.h=null;var qE,kh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function zE(){Xs.call(this,"d")}function GE(){Xs.call(this,"c")}function Nw(){}function Xb(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Zb(this),this.O=l1,this.T=new kw(n=qb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new WE}function WE(){this.i=null,this.g="",this.h=!1}Fs(zE,Xs),Fs(GE,Xs),Fs(Nw,jE),Nw.prototype.g=function(){return new XMLHttpRequest},Nw.prototype.i=function(){return{}},qE=new Nw;var l1=45e3,YE={},Up={};function ZE(n,t,e){n.K=1,n.v=Uw(Ah(t)),n.s=e,n.P=!0,KE(n,null)}function KE(n,t){n.F=Date.now(),E_(n),n.A=Ah(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),JE(e.i,"t",i),n.C=0,e=n.l.H,n.h=new WE,n.g=I_(n.l,e?t:null,!n.s),0<n.N&&(n.L=new sI(Qs(n.La,n,n.g),n.N)),C_(n.S,n.g,"readystatechange",n.ib),t=n.H?s(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),Pw(),function n1(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var d="",m=o.split("&"),v=0;v<m.length;v++){var x=m[v].split("=");if(1<x.length){var T=x[0];x=x[1];var P=T.split("_");d=2<=P.length&&"type"==P[1]?d+(T+"=")+x+"&":d+(T+"=redacted&")}}else d=null;else d=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function uI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function QE(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=c1(n,e),r==Up){4==t&&(n.o=4,_l(14),i=!1),bf(n.j,n.m,null,"[Incomplete Response]");break}if(r==YE){n.o=4,_l(15),bf(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}bf(n.j,n.m,r,null),Fw(n,r)}uI(n)&&r!=Up&&r!=YE&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,_l(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),Kw(t),t.K=!0,_l(11))):(bf(n.j,n.m,e,"[Invalid Chunked Response]"),Hp(n),Jb(n))}function c1(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Up:(e=Number(t.substring(e,i)),isNaN(e)?YE:(i+=1)+e>t.length?Up:(t=t.substr(i,e),n.C=i+e,t))}function E_(n){n.V=Date.now()+n.O,hI(n,n.O)}function hI(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ow(Qs(n.gb,n),t)}function D_(n){n.B&&(Sn.clearTimeout(n.B),n.B=null)}function Jb(n){0==n.l.G||n.I||hD(n.l,n)}function Hp(n){D_(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,w_(n.T),oI(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Fw(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||zw(e.h,n)))if(!n.J&&zw(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;uD(e),Ww(e)}Zw(e),_l(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Ow(Qs(e.cb,e),6e3));if(1>=yf(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else xf(e,11)}else if((n.J||e.g==n)&&uD(e),!v_(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let x=r[t];if(e.T=x[0],x=x[1],2==e.G)if("c"==x[0]){e.I=x[1],e.ka=x[2];const T=x[3];null!=T&&(e.ma=T,e.j.info("VER="+e.ma));const P=x[4];null!=P&&(e.Ca=P,e.j.info("SVER="+e.Ca));const B=x[5];null!=B&&"number"==typeof B&&0<B&&(e.J=i=1.5*B,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const G=n.g;if(G){const Z=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var o=i.h;o.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tD(o,o.h),o.h=null))}if(i.D){const le=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(i.za=le,Br(i.F,i.D,le))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var d=n;if((i=e).sa=kI(i,i.H?i.ka:null,i.V),d.J){b1(i.h,d);var m=d,v=i.J;v&&m.setTimeout(v),m.B&&(D_(m),E_(m)),i.g=d}else dD(i);0<e.i.length&&Yw(e)}else"stop"!=x[0]&&"close"!=x[0]||xf(e,7);else 3==e.G&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?xf(e,7):aD(e):"noop"!=x[0]&&e.l&&e.l.wa(x),e.A=0)}Pw()}catch{}}function pI(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(pf(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function u1(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(pf(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function d1(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pf(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(qt=Xb.prototype).setTimeout=function(n){this.O=n},qt.ib=function(n){n=n.target;const t=this.L;t&&3==Eu(n)?t.l():this.La(n)},qt.La=function(n){try{if(n==this.g)e:{const T=Eu(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||qb||this.g&&(this.h.h||this.g.fa()||sD(this.g)))){this.I||4!=T||7==t||Pw(),D_(this);var e=this.g.aa();this.Y=e;t:if(uI(this)){var i=sD(this.g);n="";var r=i.length,o=4==Eu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hp(this),Jb(this);var d="";break t}this.h.i=new Sn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==e,function aI(n,t,e,i,r,o,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v_(m)){var x=m;break t}}x=null}if(!(e=x)){this.i=!1,this.o=3,_l(12),Hp(this),Jb(this);break e}bf(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fw(this,e)}this.P?(QE(this,T,d),qb&&this.i&&3==T&&(C_(this.S,this.T,"tick",this.hb),this.T.start())):(bf(this.j,this.m,d,null),Fw(this,d)),4==T&&Hp(this),this.i&&!this.I&&(4==T?hD(this.l,this):(this.i=!1,E_(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,_l(12)):(this.o=0,_l(13)),Hp(this),Jb(this)}}}catch{}},qt.hb=function(){if(this.g){var n=Eu(this.g),t=this.g.fa();this.C<t.length&&(D_(this),QE(this,n,t),this.i&&4!=n&&E_(this))}},qt.cancel=function(){this.I=!0,Hp(this)},qt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function lI(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Pw(),_l(17)),Hp(this),this.o=2,Jb(this)):hI(this,this.V-n)};var Lw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jp(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof jp){this.h=void 0!==t?t:n.h,Bw(this,n.j),this.s=n.s,this.g=n.g,Vw(this,n.m),this.l=n.l,t=n.i;var e=new ny;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),mI(this,e),this.o=n.o}else n&&(e=String(n).match(Lw))?(this.h=!!t,Bw(this,e[1]||"",!0),this.s=ey(e[2]||""),this.g=ey(e[3]||"",!0),Vw(this,e[4]),this.l=ey(e[5]||"",!0),mI(this,e[6]||"",!0),this.o=ey(e[7]||"")):(this.h=!!t,this.i=new ny(null,this.h))}function Ah(n){return new jp(n)}function Bw(n,t,e){n.j=e?ey(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Vw(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function mI(n,t,e){t instanceof ny?(n.i=t,function g1(n,t){t&&!n.j&&($p(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Hw(this,i),JE(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=ty(t,gI)),n.i=new ny(t,n.h))}function Br(n,t,e){n.i.set(t,e)}function Uw(n){return Br(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ey(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ty(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,fI),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ty(t,XE,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ty(t,XE,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(ty(e,"/"==e.charAt(0)?m1:p1,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ty(e,f1)),n.join("")};var XE=/[#\/\?@]/g,p1=/[#\?:]/g,m1=/[#\?]/g,gI=/[#\?@]/g,f1=/#/g;function ny(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function $p(n){n.g||(n.g=new Map,n.h=0,n.i&&function h1(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Hw(n,t){$p(n),t=zp(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function jw(n,t){return $p(n),t=zp(n,t),n.g.has(t)}function JE(n,t,e){Hw(n,t),0<e.length&&(n.i=null,n.g.set(zp(n,t),__(e)),n.h+=e.length)}function zp(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function $w(n){this.l=n||v1,n=Sn.PerformanceNavigationTiming?0<(n=Sn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Sn.g&&Sn.g.Ga&&Sn.g.Ga()&&Sn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qt=ny.prototype).add=function(n,t){$p(this),this.i=null,n=zp(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},qt.forEach=function(n,t){$p(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},qt.oa=function(){$p(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},qt.W=function(n){$p(this);let t=[];if("string"==typeof n)jw(this,n)&&(t=t.concat(this.g.get(zp(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},qt.set=function(n,t){return $p(this),this.i=null,jw(this,n=zp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},qt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),d=this.W(i);for(i=0;i<d.length;i++){var r=o;""!==d[i]&&(r+="="+encodeURIComponent(String(d[i]))),n.push(r)}}return this.i=n.join("&")};var v1=10;function eD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function yf(n){return n.h?1:n.g?n.g.size:0}function zw(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function tD(n,t){n.g?n.g.add(t):n.h=t}function b1(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function nD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return __(n.i)}function iy(){}function y1(){this.g=new iy}function iD(n,t,e){const i=e||"";try{pI(n,function(r,o){let d=r;Np(r)&&(d=Yl(r)),t.push(i+o+"="+encodeURIComponent(d))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function ry(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function wf(n){this.l=n.ac||null,this.j=n.jb||!1}function sy(n,t){Kt.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Gw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$w.prototype.cancel=function(){if(this.i=nD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},iy.prototype.stringify=function(n){return Sn.JSON.stringify(n,void 0)},iy.prototype.parse=function(n){return Sn.JSON.parse(n,void 0)},Fs(wf,jE),wf.prototype.g=function(){return new sy(this.l,this.j)},wf.prototype.i=function(n){return function(){return n}}({}),Fs(sy,Kt);var Gw=0;function rD(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function T_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,oy(n)}function oy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qt=sy.prototype).open=function(n,t){if(this.readyState!=Gw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,oy(this)},qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Sn).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,T_(this)),this.readyState=Gw},qt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,oy(this)),this.g&&(this.readyState=3,oy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Sn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rD(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},qt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?T_(this):oy(this),3==this.readyState&&rD(this)}},qt.Va=function(n){this.g&&(this.response=this.responseText=n,T_(this))},qt.Ua=function(n){this.g&&(this.response=n,T_(this))},qt.ga=function(){this.g&&T_(this)},qt.setRequestHeader=function(n,t){this.v.append(n,t)},qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(sy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var x1=Sn.JSON.parse;function as(n){Kt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_I,this.K=this.L=!1}Fs(as,Kt);var _I="",vI=/^https?$/i,O2=["POST","PUT"];function yI(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,wI(n),qw(n)}function wI(n){n.D||(n.D=!0,ki(n,"complete"),ki(n,"error"))}function C1(n){if(n.h&&typeof Ub<"u"&&(!n.C[1]||4!=Eu(n)||2!=n.aa()))if(n.v&&4==Eu(n))Aw(n.Ha,0,n);else if(ki(n,"readystatechange"),4==Eu(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===m){var r=String(n.H).match(Lw)[1]||null;if(!r&&Sn.self&&Sn.self.location){var o=Sn.self.location.protocol;r=o.substr(0,o.length-1)}i=!vI.test(r?r.toLowerCase():"")}e=i}if(e)ki(n,"complete"),ki(n,"success");else{n.m=6;try{var d=2<Eu(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",wI(n)}}finally{qw(n)}}}function qw(n,t){if(n.g){xI(n);const e=n.g,i=n.C[0]?Ed:null;n.g=null,n.C=null,t||ki(n,"ready");try{e.onreadystatechange=i}catch{}}}function xI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Sn.clearTimeout(n.A),n.A=null)}function Eu(n){return n.g?n.g.readyState:0}function sD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case _I:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function CI(n){let t="";return f(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function oD(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=CI(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Br(n,t,e))}function ay(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function EI(n){this.Ca=0,this.i=[],this.j=new Mw,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ay("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ay("baseRetryDelayMs",5e3,n),this.bb=ay("retryDelaySeedMs",1e4,n),this.$a=ay("forwardChannelMaxRetries",2,n),this.ta=ay("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new $w(n&&n.concurrentRequestLimit),this.Fa=new y1,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function aD(n){if(DI(n),3==n.G){var t=n.U++,e=Ah(n.F);Br(e,"SID",n.I),Br(e,"RID",t),Br(e,"TYPE","terminate"),S_(n,e),(t=new Xb(n,n.j,t,void 0)).K=2,t.v=Uw(Ah(e)),e=!1,Sn.navigator&&Sn.navigator.sendBeacon&&(e=Sn.navigator.sendBeacon(t.v.toString(),"")),!e&&Sn.Image&&((new Image).src=t.v,e=!0),e||(t.g=I_(t.l,null),t.g.da(t.v)),t.F=Date.now(),E_(t)}II(n)}function Ww(n){n.g&&(Kw(n),n.g.cancel(),n.g=null)}function DI(n){Ww(n),n.u&&(Sn.clearTimeout(n.u),n.u=null),uD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Sn.clearTimeout(n.m),n.m=null)}function Yw(n){eD(n.h)||n.m||(n.m=!0,Cu(n.Ja,n),n.C=0)}function lD(n,t){var e;e=t?t.m:n.U++;const i=Ah(n.F);Br(i,"SID",n.I),Br(i,"RID",e),Br(i,"AID",n.T),S_(n,i),n.o&&n.s&&oD(i,n.o,n.s),e=new Xb(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=cD(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),tD(n.h,e),ZE(e,i,t)}function S_(n,t){n.ia&&f(n.ia,function(e,i){Br(t,i,e)}),n.l&&pI({},function(e,i){Br(t,i,e)})}function cD(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Qs(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const d=["count="+e];-1==o?0<e?(o=r[0].h,d.push("ofs="+o)):o=0:d.push("ofs="+o);let m=!0;for(let v=0;v<e;v++){let x=r[v].h;const T=r[v].g;if(x-=o,0>x)o=Math.max(0,r[v].h-100),m=!1;else try{iD(T,d,"req"+x+"_")}catch{i&&i(T)}}if(m){i=d.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function dD(n){n.g||n.u||(n.Z=1,Cu(n.Ia,n),n.A=0)}function Zw(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ow(Qs(n.Ia,n),SI(n,n.A)),n.A++,0))}function Kw(n){null!=n.B&&(Sn.clearTimeout(n.B),n.B=null)}function TI(n){n.g=new Xb(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Ah(n.sa);Br(t,"RID","rpc"),Br(t,"SID",n.I),Br(t,"CI",n.L?"0":"1"),Br(t,"AID",n.T),Br(t,"TYPE","xmlhttp"),S_(n,t),n.o&&n.s&&oD(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=Uw(Ah(t)),e.s=null,e.P=!0,KE(e,n)}function uD(n){null!=n.v&&(Sn.clearTimeout(n.v),n.v=null)}function hD(n,t){var e=null;if(n.g==t){uD(n),Kw(n),n.g=null;var i=2}else{if(!zw(n.h,t))return;e=t.D,b1(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ki(i=Rw(),new a1(i,e)),Yw(n)}else dD(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function ly(n,t){return!(yf(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ow(Qs(n.Ja,n,t),SI(n,n.C)),n.C++,0)))}(n,t)||2==i&&Zw(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:xf(n,5);break;case 4:xf(n,10);break;case 3:xf(n,6);break;default:xf(n,2)}}function SI(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function xf(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Qs(n.kb,n);e||(e=new jp("//www.google.com/images/cleardot.gif"),Sn.location&&"http"==Sn.location.protocol||Bw(e,"https"),Uw(e)),function w1(n,t){const e=new Mw;if(Sn.Image){const i=new Image;i.onload=mf(ry,e,i,"TestLoadImage: loaded",!0,t),i.onerror=mf(ry,e,i,"TestLoadImage: error",!1,t),i.onabort=mf(ry,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=mf(ry,e,i,"TestLoadImage: timeout",!1,t),Sn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else _l(2);n.G=0,n.l&&n.l.va(t),II(n),DI(n)}function II(n){if(n.G=0,n.la=[],n.l){const t=nD(n.h);(0!=t.length||0!=n.i.length)&&(bw(n.la,t),bw(n.la,n.i),n.h.i.length=0,__(n.i),n.i.length=0),n.l.ua()}}function kI(n,t,e){var i=e instanceof jp?Ah(e):new jp(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Vw(i,i.m);else{var r=Sn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new jp(null,void 0);i&&Bw(o,i),t&&(o.g=t),r&&Vw(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&Br(i,e,t),Br(i,"VER",n.ma),S_(n,i),i}function I_(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new as(e&&n.Da&&!n.ra?new wf({jb:!0}):n.ra)).Ka(n.H),t}function AI(){}function k_(){if(Fp&&!(10<=Number(VE)))throw Error("Environmental error: no available transport.")}function ls(n,t){Kt.call(this),this.g=new EI(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!v_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!v_(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Du(this)}function MI(n){zE.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function cy(){GE.call(this),this.status=1}function Du(n){this.g=n}(qt=as.prototype).Ka=function(n){this.L=n},qt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qE.g(),this.C=function dI(n){return n.h||(n.h=n.i())}(this.u?this.u:qE),this.g.onreadystatechange=Qs(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void yI(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Sn.FormData&&n instanceof Sn.FormData,!(0<=jb(O2,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,d]of e)this.g.setRequestHeader(o,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xI(this),0<this.B&&((this.K=function bI(n){return Fp&&function rI(){return function LE(n){var t=BE;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=$b(String(gf)).split("."),e=$b("9").split("."),i=Math.max(t.length,e.length);for(let d=0;0==n&&d<i;d++){var r=t[d]||"",o=e[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=zb(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||zb(0==r[2].length,0==o[2].length)||zb(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qs(this.qa,this)):this.A=Aw(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){yI(this,o)}},qt.qa=function(){typeof Ub<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ki(this,"complete"),ki(this,"abort"),qw(this))},qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qw(this,!0)),as.X.M.call(this)},qt.Ha=function(){this.s||(this.F||this.v||this.l?C1(this):this.fb())},qt.fb=function(){C1(this)},qt.aa=function(){try{return 2<Eu(this)?this.g.status:-1}catch{return-1}},qt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},qt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),x1(t)}},qt.Ea=function(){return this.m},qt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=EI.prototype).ma=8,qt.G=1,qt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Xb(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=s(o),p(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=cD(this,r,t),Br(e=Ah(this.F),"RID",n),Br(e,"CVER",22),this.D&&Br(e,"X-HTTP-Session-Id",this.D),S_(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(CI(o)))+"&"+t:this.o&&oD(e,this.o,o)),tD(this.h,r),this.Ya&&Br(e,"TYPE","init"),this.O?(Br(e,"$req",t),Br(e,"SID","null"),r.Z=!0,ZE(r,e,null)):ZE(r,e,t),this.G=2}}else 3==this.G&&(n?lD(this,n):0==this.i.length||eD(this.h)||lD(this))},qt.Ia=function(){if(this.u=null,TI(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ow(Qs(this.eb,this),n)}},qt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_l(10),Ww(this),TI(this))},qt.cb=function(){null!=this.v&&(this.v=null,Ww(this),Zw(this),_l(19))},qt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),_l(2)):(this.j.info("Failed to ping google.com"),_l(1))},(qt=AI.prototype).xa=function(){},qt.wa=function(){},qt.va=function(){},qt.ua=function(){},qt.Ra=function(){},k_.prototype.g=function(n,t){return new ls(n,t)},Fs(ls,Kt),ls.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;_l(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=kI(n,null,n.V),Yw(n)},ls.prototype.close=function(){aD(this.g)},ls.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Yl(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&Yw(t)},ls.prototype.M=function(){this.g.l=null,delete this.j,aD(this.g),delete this.g,ls.X.M.call(this)},Fs(MI,zE),Fs(cy,GE),Fs(Du,AI),Du.prototype.xa=function(){ki(this.g,"a")},Du.prototype.wa=function(n){ki(this.g,new MI(n))},Du.prototype.va=function(n){ki(this.g,new cy)},Du.prototype.ua=function(){ki(this.g,"b")},k_.prototype.createWebChannel=k_.prototype.g,ls.prototype.send=ls.prototype.u,ls.prototype.open=ls.prototype.m,ls.prototype.close=ls.prototype.close,Kb.NO_ERROR=0,Kb.TIMEOUT=8,Kb.HTTP_ERROR=6,Qb.COMPLETE="complete",$E.EventType=kh,kh.OPEN="a",kh.CLOSE="b",kh.ERROR="c",kh.MESSAGE="d",Kt.prototype.listen=Kt.prototype.N,as.prototype.listenOnce=as.prototype.O,as.prototype.getLastError=as.prototype.Oa,as.prototype.getLastErrorCode=as.prototype.Ea,as.prototype.getStatus=as.prototype.aa,as.prototype.getResponseJson=as.prototype.Sa,as.prototype.getResponseText=as.prototype.fa,as.prototype.send=as.prototype.da,as.prototype.setWithCredentials=as.prototype.Ka;var E1=Cd.createWebChannelTransport=function(){return new k_},D1=Cd.getStatEventTarget=function(){return Rw()},pD=Cd.ErrorCode=Kb,Qw=Cd.EventType=Qb,Xw=Cd.Event=Vp,RI=Cd.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},T1=Cd.FetchXmlHttpFactory=wf,dy=Cd.WebChannel=$E,PI=Cd.XhrIo=as;const Jw="@firebase/firestore";class Js{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Js.UNAUTHENTICATED=new Js(null),Js.GOOGLE_CREDENTIALS=new Js("google-credentials-uid"),Js.FIRST_PARTY=new Js("first-party-uid"),Js.MOCK_USER=new Js("mock-user");let Gp="9.15.0";const Tu=new xd.Yd("@firebase/firestore");function ex(){return Tu.logLevel}function ut(n,...t){if(Tu.logLevel<=xd.in.DEBUG){const e=t.map(fD);Tu.debug(`Firestore (${Gp}): ${n}`,...e)}}function _s(n,...t){if(Tu.logLevel<=xd.in.ERROR){const e=t.map(fD);Tu.error(`Firestore (${Gp}): ${n}`,...e)}}function Cf(n,...t){if(Tu.logLevel<=xd.in.WARN){const e=t.map(fD);Tu.warn(`Firestore (${Gp}): ${n}`,...e)}}function fD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Vt(n="Unexpected state"){const t=`FIRESTORE (${Gp}) INTERNAL ASSERTION FAILED: `+n;throw _s(t),new Error(t)}function Qt(n,t){n||Vt()}function Tt(n,t){return n}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Y.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ls{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class OI{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Js.UNAUTHENTICATED))}shutdown(){}}class FI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class S1{constructor(t){this.t=t,this.currentUser=Js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=x=>this.i!==r?(r=this.i,e(x)):Promise.resolve();let d=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ls,t.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const x=d;t.enqueueRetryable((0,Be.Z)(function*(){yield x.promise,yield o(i.currentUser)}))},v=x=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(x=>v(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?v(x):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ls)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt("string"==typeof i.accessToken),new OI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Qt(null===t||"string"==typeof t),new Js(t)}}class LI{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Js.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Qt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class BI{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new LI(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Js.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ra{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A_{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const d=o.token!==this.A;return this.A=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Qt("string"==typeof e.token),this.A=e.token,new ra(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function I1(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class k1{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=I1(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Fn(n,t){return n<t?-1:n>t?1:0}function Ef(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function _D(n){return n+"\0"}class Ji{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new tt(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new tt(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new tt(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tt(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ji.fromMillis(Date.now())}static fromDate(t){return Ji.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ji(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Fn(this.nanoseconds,t.nanoseconds):Fn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ln(t)}static min(){return new ln(new Ji(0,0))}static max(){return new ln(new Ji(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Df{constructor(t,e,i){void 0===e?e=0:e>t.length&&Vt(),void 0===i?i=t.length-e:i>t.length-e&&Vt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Df.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Df?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),d=e.get(r);if(o<d)return-1;if(o>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class gi extends Df{construct(t,e,i){return new gi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new tt(Ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new gi(e)}static emptyPath(){return new gi([])}}const VI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends Df{construct(t,e,i){return new cs(t,e,i)}static isValidIdentifier(t){return VI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cs(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new tt(Ne.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const m=t[r];if("\\"===m){if(r+1===t.length)throw new tt(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new tt(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=v,r+=2}else"`"===m?(d=!d,r++):"."!==m||d?(i+=m,r++):(o(),r++)}if(o(),d)throw new tt(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cs(e)}static emptyPath(){return new cs([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(gi.fromString(t))}static fromName(t){return new Et(gi.fromString(t).popFirst(5))}static empty(){return new Et(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===gi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return gi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new gi(t.slice()))}}class tx{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function uy(n){return n.fields.find(t=>2===t.kind)}function qp(n){return n.fields.filter(t=>2!==t.kind)}tx.UNKNOWN_ID=-1;class Tf{constructor(t,e){this.fieldPath=t,this.kind=e}}class nx{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new nx(0,vl.min())}}function bD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ln.fromTimestamp(1e9===i?new Ji(e+1,0):new Ji(e,i));return new vl(r,Et.empty(),t)}function HI(n){return new vl(n.readTime,n.key,-1)}class vl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new vl(ln.min(),Et.empty(),-1)}static max(){return new vl(ln.max(),Et.empty(),-1)}}function Wp(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Et.comparator(n.documentKey,t.documentKey),0!==e?e:Fn(n.largestBatchId,t.largestBatchId))}const jI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Su(n){return $I.apply(this,arguments)}function $I(){return $I=(0,Be.Z)(function*(n){if(n.code!==Ne.FAILED_PRECONDITION||n.message!==jI)throw n;ut("LocalStore","Unexpectedly lost primary lease")}),$I.apply(this,arguments)}class Re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Re((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Re?e:Re.resolve(e)}catch(e){return Re.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Re.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Re.reject(e)}static resolve(t){return new Re((e,i)=>{e(t)})}static reject(t){return new Re((e,i)=>{i(t)})}static waitFor(t){return new Re((e,i)=>{let r=0,o=0,d=!1;t.forEach(m=>{++r,m.next(()=>{++o,d&&o===r&&e()},v=>i(v))}),d=!0,o===r&&e()})}static or(t){let e=Re.resolve(!1);for(const i of t)e=e.next(r=>r?Re.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Re((i,r)=>{const o=t.length,d=new Array(o);let m=0;for(let v=0;v<o;v++){const x=v;e(t[x]).next(T=>{d[x]=T,++m,m===o&&i(d)},T=>r(T))}})}static doWhile(t,e){return new Re((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class wD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Ls,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new hy(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=ix(i.target.error);this.P.reject(new hy(t,r))}}static open(t,e,i,r){try{return new wD(e,t.transaction(r,i))}catch(o){throw new hy(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(ut("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new zI(e)}}class Dd{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Dd.D((0,Y.z$)())&&_s("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ut("SimpleDb","Removing database:",t),Sf(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,Y.hl)())return!1;if(Dd.N())return!0;const t=(0,Y.z$)(),e=Dd.D(t),i=0<e&&e<10,r=Dd.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Be.Z)(function*(){return e.db||(ut("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=d=>{i(d.target.result)},o.onblocked=()=>{r(new hy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=d=>{const m=d.target.error;r("VersionError"===m.name?new tt(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new tt(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new hy(t,m))},o.onupgradeneeded=d=>{ut("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.S.$(d.target.result,o.transaction,d.oldVersion,e.version).next(()=>{ut("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Be.Z)(function*(){const d="readonly"===e;let m=0;for(;;){++m;try{o.db=yield o.F(t);const v=wD.open(o.db,t,d?"readonly":"readwrite",i),x=r(v).next(T=>(v.V(),T)).catch(T=>(v.abort(T),Re.reject(T))).toPromise();return x.catch(()=>{}),yield v.v,x}catch(v){const x=v,T="FirebaseError"!==x.name&&m<3;if(ut("SimpleDb","Transaction failed with error:",x.message,"Retrying:",T),o.close(),!T)return Promise.reject(x)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class A1{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return Sf(this.q.delete())}}class hy extends tt{constructor(t,e){super(Ne.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Mh(n){return"IndexedDbTransactionError"===n.name}class zI{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ut("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Sf(i)}add(t){return ut("SimpleDb","ADD",this.store.name,t,t),Sf(this.store.add(t))}get(t){return Sf(this.store.get(t)).next(e=>(void 0===e&&(e=null),ut("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ut("SimpleDb","DELETE",this.store.name,t),Sf(this.store.delete(t))}count(){return ut("SimpleDb","COUNT",this.store.name),Sf(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(d,m)=>{o.push(m)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Re((o,d)=>{r.onerror=m=>{d(m.target.error)},r.onsuccess=m=>{o(m.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Re((r,o)=>{i.onerror=d=>{o(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Y(t,e){ut("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,d,m)=>m.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new Re((i,r)=>{e.onerror=o=>{const d=ix(o.target.error);r(d)},e.onsuccess=o=>{const d=o.target.result;d?t(d.primaryKey,d.value).next(m=>{m?d.continue():i()}):i()}})}H(t,e){const i=[];return new Re((r,o)=>{t.onerror=d=>{o(d.target.error)},t.onsuccess=d=>{const m=d.target.result;if(!m)return void r();const v=new A1(m),x=e(m.primaryKey,m.value,v);if(x instanceof Re){const T=x.catch(P=>(v.done(),Re.reject(P)));i.push(T)}v.isDone?r():null===v.G?m.continue():m.continue(v.G)}}).next(()=>Re.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Sf(n){return new Re((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=ix(i.target.error);e(r)}})}let xD=!1;function ix(n){const t=Dd.D((0,Y.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xD||(xD=!0,setTimeout(()=>{throw i},0)),i}}return n}class M1{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;ut("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Be.Z)(function*(){e.task=null;try{ut("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Mh(i)?ut("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Su(i)}yield e.nt(6e4)}))}}class R1{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return Re.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(d=>{if(null!==d&&!i.has(d))return ut("IndexBackiller",`Processing collection: ${d}`),this.rt(t,d,r).next(m=>{r-=m,i.add(d)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const d=o.changes;return this.localStore.indexManager.updateIndexEntries(t,d).next(()=>this.ot(r,o)).next(m=>(ut("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,e,m))).next(()=>d.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const d=HI(o);Wp(d,i)>0&&(i=d)}),new vl(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let bl=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class P1{constructor(t,e,i,r,o,d,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class Rh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Rh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Rh&&t.projectId===this.projectId&&t.database===this.database}}function CD(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ED(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function py(n){return null==n}function my(n){return 0===n&&1/n==-1/0}function O1(n){return"number"==typeof n&&Number.isInteger(n)&&!my(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Do{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Do(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Do(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Fn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Do.EMPTY_BYTE_STRING=new Do("");const F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function If(n){if(Qt(!!n),"string"==typeof n){let t=0;const e=F2.exec(n);if(Qt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:vs(n.seconds),nanos:vs(n.nanos)}}function vs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function M_(n){return"string"==typeof n?Do.fromBase64String(n):Do.fromUint8Array(n)}function qI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function N1(n){const t=n.mapValue.fields.__previous_value__;return qI(t)?N1(t):t}function rx(n){const t=If(n.mapValue.fields.__local_write_time__.timestampValue);return new Ji(t.seconds,t.nanos)}const Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DD={nullValue:"NULL_VALUE"};function Zp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qI(n)?4:ZI(n)?9007199254740991:10:Vt()}function Zl(n,t){if(n===t)return!0;const e=Zp(n);if(e!==Zp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return rx(n).isEqual(rx(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=If(i.timestampValue),d=If(r.timestampValue);return o.seconds===d.seconds&&o.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,M_(n.bytesValue).isEqual(M_(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return vs(i.geoPointValue.latitude)===vs(r.geoPointValue.latitude)&&vs(i.geoPointValue.longitude)===vs(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return vs(i.integerValue)===vs(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=vs(i.doubleValue),d=vs(r.doubleValue);return o===d?my(o)===my(d):isNaN(o)&&isNaN(d)}return!1}(n,t);case 9:return Ef(n.arrayValue.values||[],t.arrayValue.values||[],Zl);case 10:return function(i,r){const o=i.mapValue.fields||{},d=r.mapValue.fields||{};if(CD(o)!==CD(d))return!1;for(const m in o)if(o.hasOwnProperty(m)&&(void 0===d[m]||!Zl(o[m],d[m])))return!1;return!0}(n,t);default:return Vt()}var r}function R_(n,t){return void 0!==(n.values||[]).find(e=>Zl(e,t))}function Ph(n,t){if(n===t)return 0;const e=Zp(n),i=Zp(t);if(e!==i)return Fn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Fn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const d=vs(r.integerValue||r.doubleValue),m=vs(o.integerValue||o.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return F1(n.timestampValue,t.timestampValue);case 4:return F1(rx(n),rx(t));case 5:return Fn(n.stringValue,t.stringValue);case 6:return function(r,o){const d=M_(r),m=M_(o);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const d=r.split("/"),m=o.split("/");for(let v=0;v<d.length&&v<m.length;v++){const x=Fn(d[v],m[v]);if(0!==x)return x}return Fn(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const d=Fn(vs(r.latitude),vs(o.latitude));return 0!==d?d:Fn(vs(r.longitude),vs(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const d=r.values||[],m=o.values||[];for(let v=0;v<d.length&&v<m.length;++v){const x=Ph(d[v],m[v]);if(x)return x}return Fn(d.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Td.mapValue&&o===Td.mapValue)return 0;if(r===Td.mapValue)return 1;if(o===Td.mapValue)return-1;const d=r.fields||{},m=Object.keys(d),v=o.fields||{},x=Object.keys(v);m.sort(),x.sort();for(let T=0;T<m.length&&T<x.length;++T){const P=Fn(m[T],x[T]);if(0!==P)return P;const B=Ph(d[m[T]],v[x[T]]);if(0!==B)return B}return Fn(m.length,x.length)}(n.mapValue,t.mapValue);default:throw Vt()}}function F1(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Fn(n,t);const e=If(n),i=If(t),r=Fn(e.seconds,i.seconds);return 0!==r?r:Fn(e.nanos,i.nanos)}function Kp(n){return sx(n)}function sx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=If(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?M_(n.bytesValue).toBase64():"referenceValue"in n?Et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const d of i.values||[])o?o=!1:r+=",",r+=sx(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",d=!0;for(const m of r)d?d=!1:o+=",",o+=`${m}:${sx(i.fields[m])}`;return o+"}"}(n.mapValue):Vt();var t}function kf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ox(n){return!!n&&"integerValue"in n}function ax(n){return!!n&&"arrayValue"in n}function WI(n){return!!n&&"nullValue"in n}function YI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lx(n){return!!n&&"mapValue"in n}function Qp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Yp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Qp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Qp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ZI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function L2(n){return"nullValue"in n?DD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kf(Rh.empty(),Et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Vt()}function B2(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kf(Rh.empty(),Et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Td:Vt()}function L1(n,t){const e=Ph(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function KI(n,t){const e=Ph(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Xp{constructor(t,e){this.position=t,this.inclusive=e}}function QI(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],d=n.position[r];if(i=o.field.isKeyField()?Et.comparator(Et.fromName(d.referenceValue),e.key):Ph(d,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function B1(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Zl(n.position[e],t.position[e]))return!1;return!0}class XI{}class Qn extends XI{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new TD(t,e,i):"array-contains"===e?new nk(t,i):"in"===e?new SD(t,i):"not-in"===e?new j1(t,i):"array-contains-any"===e?new ik(t,i):new Qn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new U1(t,i):new H1(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ph(e,this.value)):null!==e&&Zp(this.value)===Zp(e)&&this.matchesComparison(Ph(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vi extends XI{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Vi(t,e)}matches(t){return fy(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function fy(n){return"and"===n.op}function Kl(n){return"or"===n.op}function JI(n){return cx(n)&&fy(n)}function cx(n){for(const t of n.filters)if(t instanceof Vi)return!1;return!0}function ek(n){if(n instanceof Qn)return n.field.canonicalString()+n.op.toString()+Kp(n.value);{const t=n.filters.map(e=>ek(e)).join(",");return`${n.op}(${t})`}}function V1(n,t){return n instanceof Qn?(e=n,(i=t)instanceof Qn&&e.op===i.op&&e.field.isEqual(i.field)&&Zl(e.value,i.value)):n instanceof Vi?function(e,i){return i instanceof Vi&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,d)=>r&&V1(o,i.filters[d]),!0)}(n,t):void Vt();var e,i}function Ql(n,t){const e=n.filters.concat(t);return Vi.create(e,n.op)}function tk(n){return n instanceof Qn?`${(t=n).field.canonicalString()} ${t.op} ${Kp(t.value)}`:n instanceof Vi?function(t){return t.op.toString()+" {"+t.getFilters().map(tk).join(" ,")+"}"}(n):"Filter";var t}class TD extends Qn{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class U1 extends Qn{constructor(t,e){super(t,"in",e),this.keys=dx(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class H1 extends Qn{constructor(t,e){super(t,"not-in",e),this.keys=dx(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function dx(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Et.fromName(i.referenceValue))}class nk extends Qn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ax(e)&&R_(e.arrayValue,this.value)}}class SD extends Qn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&R_(this.value.arrayValue,e)}}class j1 extends Qn{constructor(t,e){super(t,"not-in",e)}matches(t){if(R_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!R_(this.value.arrayValue,e)}}class ik extends Qn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ax(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>R_(this.value.arrayValue,i))}}class Af{constructor(t,e="asc"){this.field=t,this.dir=e}}function $1(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Kr{constructor(t,e){this.comparator=t,this.root=e||eo.EMPTY}insert(t,e){return new Kr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,eo.BLACK,null,null))}remove(t){return new Kr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,eo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ux(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ux(this.root,t,this.comparator,!1)}getReverseIterator(){return new ux(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ux(this.root,t,this.comparator,!0)}}class ux{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class eo{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??eo.RED,this.left=r??eo.EMPTY,this.right=o??eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new eo(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return eo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return eo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const t=this.left.check();if(t!==this.right.check())throw Vt();return t+(this.isRed()?0:1)}}eo.EMPTY=null,eo.RED=!0,eo.BLACK=!1,eo.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new eo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(t){this.comparator=t,this.data=new Kr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ID(this.data.getIterator())}getIteratorFrom(t){return new ID(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ci)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ci(this.comparator);return e.data=t,e}}class ID{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jp(n){return n.hasNext()?n.getNext():void 0}class bs{constructor(t){this.fields=t,t.sort(cs.comparator)}static empty(){return new bs([])}unionWith(t){let e=new ci(cs.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new bs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ef(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class zo{constructor(t){this.value=t}static empty(){return new zo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!lx(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qp(e)}setAll(t){let e=cs.emptyPath(),i={},r=[];t.forEach((d,m)=>{if(!e.isImmediateParentOf(m)){const v=this.getFieldsMap(e);this.applyChanges(v,i,r),i={},r=[],e=m.popLast()}d?i[m.lastSegment()]=Qp(d):r.push(m.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());lx(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Zl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];lx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Yp(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new zo(Qp(this.value))}}function z1(n){const t=[];return Yp(n.fields,(e,i)=>{const r=new cs([e]);if(lx(i)){const o=z1(i.mapValue).fields;if(0===o.length)t.push(r);else for(const d of o)t.push(r.child(d))}else t.push(r)}),new bs(t)}class Dr{constructor(t,e,i,r,o,d,m){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=d,this.documentState=m}static newInvalidDocument(t){return new Dr(t,0,ln.min(),ln.min(),ln.min(),zo.empty(),0)}static newFoundDocument(t,e,i,r){return new Dr(t,1,e,ln.min(),i,r,0)}static newNoDocument(t,e){return new Dr(t,2,e,ln.min(),ln.min(),zo.empty(),0)}static newUnknownDocument(t,e){return new Dr(t,3,e,ln.min(),ln.min(),zo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Dr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class G1{constructor(t,e=null,i=[],r=[],o=null,d=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=d,this.endAt=m,this.ft=null}}function kD(n,t=null,e=[],i=[],r=null,o=null,d=null){return new G1(n,t,e,i,r,o,d)}function Mf(n){const t=Tt(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>ek(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),py(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Kp(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Kp(i)).join(",")),t.ft=e}return t.ft}function P_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!$1(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!V1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!B1(n.startAt,t.startAt)&&B1(n.endAt,t.endAt)}function AD(n){return Et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function gy(n,t){return n.filters.filter(e=>e instanceof Qn&&e.field.isEqual(t))}function rk(n,t,e){let i=DD,r=!0;for(const o of gy(n,t)){let d=DD,m=!0;switch(o.op){case"<":case"<=":d=L2(o.value);break;case"==":case"in":case">=":d=o.value;break;case">":d=o.value,m=!1;break;case"!=":case"not-in":d=DD}L1({value:i,inclusive:r},{value:d,inclusive:m})<0&&(i=d,r=m)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const d=e.position[o];L1({value:i,inclusive:r},{value:d,inclusive:e.inclusive})<0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}function MD(n,t,e){let i=Td,r=!0;for(const o of gy(n,t)){let d=Td,m=!0;switch(o.op){case">=":case">":d=B2(o.value),m=!1;break;case"==":case"in":case"<=":d=o.value;break;case"<":d=o.value,m=!1;break;case"!=":case"not-in":d=Td}KI({value:i,inclusive:r},{value:d,inclusive:m})>0&&(i=d,r=m)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const d=e.position[o];KI({value:i,inclusive:r},{value:d,inclusive:e.inclusive})>0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}class em{constructor(t,e=null,i=[],r=[],o=null,d="F",m=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=d,this.startAt=m,this.endAt=v,this.dt=null,this._t=null}}function hx(n,t,e,i,r,o,d,m){return new em(n,t,e,i,r,o,d,m)}function Rf(n){return new em(n)}function RD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function px(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _y(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function mx(n){return null!==n.collectionGroup}function Iu(n){const t=Tt(n);if(null===t.dt){t.dt=[];const e=_y(t),i=px(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new Af(e)),t.dt.push(new Af(cs.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Af(cs.keyField(),o))}}}return t.dt}function To(n){const t=Tt(n);if(!t._t)if("F"===t.limitType)t._t=kD(t.path,t.collectionGroup,Iu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Iu(t))e.push(new Af(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Xp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xp(t.startAt.position,t.startAt.inclusive):null;t._t=kD(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function fx(n,t){t.getFirstInequalityField(),_y(n);const e=n.filters.concat([t]);return new em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function gx(n,t,e){return new em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function vy(n,t){return P_(To(n),To(t))&&n.limitType===t.limitType}function q1(n){return`${Mf(To(n))}|lt:${n.limitType}`}function sk(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>tk(i)).join(", ")}]`),py(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Kp(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Kp(i)).join(",")),`Target(${e})`}(To(n))}; limitType=${n.limitType})`}function ok(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Et.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Iu(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,d){const m=QI(r,o,d);return r.inclusive?m<=0:m<0}(e.startAt,Iu(e),i)||e.endAt&&!function(r,o,d){const m=QI(r,o,d);return r.inclusive?m>=0:m>0}(e.endAt,Iu(e),i)));var e,i}function PD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ak(n){return(t,e)=>{let i=!1;for(const r of Iu(n)){const o=W1(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function W1(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):function(r,o,d){const m=o.data.field(r),v=d.data.field(r);return null!==m&&null!==v?Ph(m,v):Vt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Vt()}}function lk(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(t)?"-0":t}}function Y1(n){return{integerValue:""+n}}function Z1(n,t){return O1(t)?Y1(t):lk(n,t)}class OD{constructor(){this._=void 0}}function V2(n,t,e){return n instanceof Oh?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Pf?dk(n,t):n instanceof tm?nm(n,t):function(i,r){const o=ck(i,r),d=_x(o)+_x(i.gt);return ox(o)&&ox(i.gt)?Y1(d):lk(i.yt,d)}(n,t)}function U2(n,t,e){return n instanceof Pf?dk(n,t):n instanceof tm?nm(n,t):e}function ck(n,t){return n instanceof Of?ox(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Oh extends OD{}class Pf extends OD{constructor(t){super(),this.elements=t}}function dk(n,t){const e=vx(t);for(const i of n.elements)e.some(r=>Zl(r,i))||e.push(i);return{arrayValue:{values:e}}}class tm extends OD{constructor(t){super(),this.elements=t}}function nm(n,t){let e=vx(t);for(const i of n.elements)e=e.filter(r=>!Zl(r,i));return{arrayValue:{values:e}}}class Of extends OD{constructor(t,e){super(),this.yt=t,this.gt=e}}function _x(n){return vs(n.integerValue||n.doubleValue)}function vx(n){return ax(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class by{constructor(t,e){this.field=t,this.transform=e}}class FD{constructor(t,e){this.version=t,this.transformResults=e}}class lr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new lr}static exists(t){return new lr(void 0,t)}static updateTime(t){return new lr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function LD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class BD{}function K1(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new F_(n.key,lr.none()):new N_(n.key,n.data,lr.none());{const e=n.data,i=zo.empty();let r=new ci(cs.comparator);for(let o of t.fields)if(!r.has(o)){let d=e.field(o);null===d&&o.length>1&&(o=o.popLast(),d=e.field(o)),null===d?i.delete(o):i.set(o,d),r=r.add(o)}return new Nh(n.key,i,new bs(r.toArray()),lr.none())}}function H2(n,t,e){n instanceof N_?function(i,r,o){const d=i.value.clone(),m=UD(i.fieldTransforms,r,o.transformResults);d.setAll(m),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Nh?function(i,r,o){if(!LD(i.precondition,r))return void r.convertToUnknownDocument(o.version);const d=UD(i.fieldTransforms,r,o.transformResults),m=r.data;m.setAll(VD(i)),m.setAll(d),r.convertToFoundDocument(o.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function O_(n,t,e,i){return n instanceof N_?function(r,o,d,m){if(!LD(r.precondition,o))return d;const v=r.value.clone(),x=HD(r.fieldTransforms,m,o);return v.setAll(x),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null}(n,t,e,i):n instanceof Nh?function(r,o,d,m){if(!LD(r.precondition,o))return d;const v=HD(r.fieldTransforms,m,o),x=o.data;return x.setAll(VD(r)),x.setAll(v),o.convertToFoundDocument(o.version,x).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(T=>T.field))}(n,t,e,i):(d=e,LD(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):d);var o,d}function Q1(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=ck(i.transform,r||null);null!=o&&(null===e&&(e=zo.empty()),e.set(i.field,o))}return e||null}function uk(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Ef(e,i,(r,o)=>function ND(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Pf&&i instanceof Pf||e instanceof tm&&i instanceof tm?Ef(e.elements,i.elements,Zl):e instanceof Of&&i instanceof Of?Zl(e.gt,i.gt):e instanceof Oh&&i instanceof Oh);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class N_ extends BD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nh extends BD{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VD(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function UD(n,t,e){const i=new Map;Qt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],d=o.transform,m=t.data.field(o.field);i.set(o.field,U2(d,m,e[r]))}return i}function HD(n,t,e){const i=new Map;for(const r of n){const o=r.transform,d=e.data.field(r.field);i.set(r.field,V2(o,d,t))}return i}class F_ extends BD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jD extends BD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hk{constructor(t){this.count=t}}var ds,wi;function $D(n){switch(n){default:return Vt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function bx(n){if(void 0===n)return _s("GRPC error has no .code"),Ne.UNKNOWN;switch(n){case ds.OK:return Ne.OK;case ds.CANCELLED:return Ne.CANCELLED;case ds.UNKNOWN:return Ne.UNKNOWN;case ds.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case ds.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case ds.INTERNAL:return Ne.INTERNAL;case ds.UNAVAILABLE:return Ne.UNAVAILABLE;case ds.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case ds.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case ds.NOT_FOUND:return Ne.NOT_FOUND;case ds.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case ds.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case ds.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case ds.ABORTED:return Ne.ABORTED;case ds.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case ds.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case ds.DATA_LOSS:return Ne.DATA_LOSS;default:return Vt()}}(wi=ds||(ds={}))[wi.OK=0]="OK",wi[wi.CANCELLED=1]="CANCELLED",wi[wi.UNKNOWN=2]="UNKNOWN",wi[wi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wi[wi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wi[wi.NOT_FOUND=5]="NOT_FOUND",wi[wi.ALREADY_EXISTS=6]="ALREADY_EXISTS",wi[wi.PERMISSION_DENIED=7]="PERMISSION_DENIED",wi[wi.UNAUTHENTICATED=16]="UNAUTHENTICATED",wi[wi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wi[wi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wi[wi.ABORTED=10]="ABORTED",wi[wi.OUT_OF_RANGE=11]="OUT_OF_RANGE",wi[wi.UNIMPLEMENTED=12]="UNIMPLEMENTED",wi[wi.INTERNAL=13]="INTERNAL",wi[wi.UNAVAILABLE=14]="UNAVAILABLE",wi[wi.DATA_LOSS=15]="DATA_LOSS";class im{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Yp(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return ED(this.inner)}size(){return this.innerSize}}const X1=new Kr(Et.comparator);function Xl(){return X1}const J1=new Kr(Et.comparator);function yy(...n){let t=J1;for(const e of n)t=t.insert(e.key,e);return t}function pk(n){let t=J1;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ku(){return yx()}function eR(){return yx()}function yx(){return new im(n=>n.toString(),(n,t)=>n.isEqual(t))}const j2=new Kr(Et.comparator),$2=new ci(Et.comparator);function jn(...n){let t=$2;for(const e of n)t=t.add(e);return t}const tR=new ci(Fn);function zD(){return tR}class wx{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,xx.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new wx(ln.min(),r,zD(),Xl(),jn())}}class xx{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new xx(i,e,jn(),jn(),jn())}}class GD{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class nR{constructor(t,e){this.targetId=t,this.Et=e}}class iR{constructor(t,e,i=Do.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class l{constructor(){this.At=0,this.Rt=g(),this.bt=Do.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=jn(),e=jn(),i=jn();return this.Rt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Vt()}}),new xx(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=g()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class c{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=Xl(),this.qt=h(),this.Ut=new ci(Fn)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:Vt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const o=r.target;if(AD(o))if(0===i){const d=new Et(o.path);this.Qt(e,d,Dr.newNoDocument(d,ln.min()))}else Qt(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((o,d)=>{const m=this.Yt(d);if(m){if(o.current&&AD(m.target)){const v=new Et(m.target.path);null!==this.Lt.get(v)||this.te(d,v)||this.Qt(d,v,Dr.newNoDocument(v,t))}o.St&&(e.set(d,o.Ct()),o.xt())}});let i=jn();this.qt.forEach((o,d)=>{let m=!0;d.forEachWhile(v=>{const x=this.Yt(v);return!x||2===x.purpose||(m=!1,!1)}),m&&(i=i.add(o))}),this.Lt.forEach((o,d)=>d.setReadTime(t));const r=new wx(t,e,this.Ut,this.Lt,i);return this.Lt=Xl(),this.qt=h(),this.Ut=new ci(Fn),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new l,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new ci(Fn),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||ut("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new l),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function h(){return new Kr(Et.comparator)}function g(){return new Kr(Et.comparator)}const _={asc:"ASCENDING",desc:"DESCENDING"},y={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D={and:"AND",or:"OR"};class k{constructor(t,e){this.databaseId=t,this.wt=e}}function R(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function L(n,t){return n.wt?t.toBase64():t.toUint8Array()}function $(n,t){return R(n,t.toTimestamp())}function Q(n){return Qt(!!n),ln.fromTimestamp(function(t){const e=If(t);return new Ji(e.seconds,e.nanos)}(n))}function de(n,t){return(e=n,new gi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Se(n){const t=gi.fromString(n);return Qt(Z2(t)),t}function $e(n,t){return de(n.databaseId,t.path)}function lt(n,t){const e=Se(t);if(e.get(1)!==n.databaseId.projectId)throw new tt(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new tt(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(rt(e))}function Dt(n,t){return de(n.databaseId,t)}function $t(n){const t=Se(n);return 4===t.length?gi.emptyPath():rt(t)}function fn(n){return new gi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rt(n){return Qt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Mn(n,t,e){return{name:$e(n,t),fields:e.value.mapValue.fields}}function Tr(n,t,e){const i=lt(n,t.name),r=Q(t.updateTime),o=t.createTime?Q(t.createTime):ln.min(),d=new zo({mapValue:{fields:t.fields}}),m=Dr.newFoundDocument(i,r,o,d);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function qD(n,t){let e;if(t instanceof N_)e={update:Mn(n,t.key,t.value)};else if(t instanceof F_)e={delete:$e(n,t.key)};else if(t instanceof Nh)e={update:Mn(n,t.key,t.data),updateMask:h4(t.fieldMask)};else{if(!(t instanceof jD))return Vt();e={verify:$e(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const d=o.transform;if(d instanceof Oh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof tm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Of)return{fieldPath:o.field.canonicalString(),increment:d.gt};throw Vt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:$(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Vt()),e;var r}function rR(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?lr.updateTime(Q(r.updateTime)):void 0!==r.exists?lr.exists(r.exists):lr.none():lr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,d){let m=null;"setToServerValue"in d?(Qt("REQUEST_TIME"===d.setToServerValue),m=new Oh):"appendMissingElements"in d?m=new Pf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new tm(d.removeAllFromArray.values||[]):"increment"in d?m=new Of(o,d.increment):Vt();const v=cs.fromServerFormat(d.fieldPath);return new by(v,m)}(n,r)):[];var r;if(t.update){const r=lt(n,t.update.name),o=new zo({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new bs((t.updateMask.fieldPaths||[]).map(x=>cs.fromServerFormat(x)));return new Nh(r,o,d,e,i)}return new N_(r,o,e,i)}if(t.delete){const r=lt(n,t.delete);return new F_(r,e)}if(t.verify){const r=lt(n,t.verify);return new jD(r,e)}return Vt()}function G2(n,t){return{documents:[Dt(n,t.path)]}}function sR(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Dt(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Dt(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0!==v.length)return Y2(Vi.create(v,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(v){if(0!==v.length)return v.map(x=>{return{field:Cx((T=x).field),direction:c4(T.dir)};var T})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const d=(x=t.limit,n.wt||py(x)?x:{value:x});var x,m,v;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(e.structuredQuery.endAt={before:!(v=t.endAt).inclusive,values:v.position}),e}function q2(n){let t=$t(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(1===i);const T=e.from[0];T.allDescendants?r=T.collectionId:t=t.child(T.collectionId)}let o=[];e.where&&(o=function(T){const P=W2(T);return P instanceof Vi&&JI(P)?P.getFilters():[P]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(T=>{return new Af(Ex((P=T).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;e.limit&&(m=function(T){let P;return P="object"==typeof T?T.value:T,py(P)?null:P}(e.limit));let v=null;var T;e.startAt&&(v=new Xp((T=e.startAt).values||[],!!T.before));let x=null;return e.endAt&&(x=function(T){return new Xp(T.values||[],!T.before)}(e.endAt)),hx(t,r,d,o,m,"F",v,x)}function W2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ex(t.unaryFilter.field);return Qn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Ex(t.unaryFilter.field);return Qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ex(t.unaryFilter.field);return Qn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ex(t.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(n):void 0!==n.fieldFilter?Qn.create(Ex((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Vi.create(t.compositeFilter.filters.map(e=>W2(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Vt()}}(t.compositeFilter.op))}(n):Vt();var t}function c4(n){return _[n]}function d4(n){return y[n]}function u4(n){return D[n]}function Cx(n){return{fieldPath:n.canonicalString()}}function Ex(n){return cs.fromServerFormat(n.fieldPath)}function Y2(n){return n instanceof Qn?function(t){if("=="===t.op){if(YI(t.value))return{unaryFilter:{field:Cx(t.field),op:"IS_NAN"}};if(WI(t.value))return{unaryFilter:{field:Cx(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(YI(t.value))return{unaryFilter:{field:Cx(t.field),op:"IS_NOT_NAN"}};if(WI(t.value))return{unaryFilter:{field:Cx(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cx(t.field),op:d4(t.op),value:t.value}}}(n):n instanceof Vi?function(t){const e=t.getFilters().map(i=>Y2(i));return 1===e.length?e[0]:{compositeFilter:{op:u4(t.op),filters:e}}}(n):Vt()}function h4(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Z2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Jl(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=K2(t)),t=p4(n.get(e),t);return K2(t)}function p4(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function K2(n){return n+"\x01\x01"}function rm(n){const t=n.length;if(Qt(t>=2),2===t)return Qt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gi.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const d=n.indexOf("\x01",o);switch((d<0||d>e)&&Vt(),n.charAt(d+1)){case"\x01":const m=n.substring(o,d);let v;0===r.length?v=m:(r+=m,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(o,d),r+="\0";break;case"\x11":r+=n.substring(o,d+1);break;default:Vt()}o=d+2}return new gi(i)}const Q2=["userId","batchId"];function mk(n,t){return[n,Jl(t)]}function X2(n,t,e){return[n,Jl(t),e]}const m4={},f4=["prefixPath","collectionGroup","readTime","documentId"],g4=["prefixPath","collectionGroup","documentId"],_4=["collectionGroup","readTime","prefixPath","documentId"],v4=["canonicalId","targetId"],b4=["targetId","path"],y4=["path","targetId"],w4=["collectionId","parent"],x4=["indexId","uid"],C4=["uid","sequenceNumber"],E4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],D4=["indexId","uid","orderedDocumentKey"],T4=["userId","collectionPath","documentId"],S4=["userId","collectionPath","largestBatchId"],I4=["userId","collectionGroup","largestBatchId"],J2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k4=[...J2,"documentOverlays"],eL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tL=eL,A4=[...tL,"indexConfiguration","indexState","indexEntries"];class oR extends yD{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function sa(n,t){const e=Tt(n);return Dd.M(e.se,t)}class aR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&H2(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=O_(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=O_(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=eR();return this.mutations.forEach(r=>{const o=t.get(r.key),d=o.overlayedDocument;let m=this.applyToLocalView(d,o.mutatedFields);m=e.has(r.key)?null:m;const v=K1(d,m);null!==v&&i.set(r.key,v),d.isValidDocument()||d.convertToNoDocument(ln.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jn())}isEqual(t){return this.batchId===t.batchId&&Ef(this.mutations,t.mutations,(e,i)=>uk(e,i))&&Ef(this.baseMutations,t.baseMutations,(e,i)=>uk(e,i))}}class lR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length);let r=j2;const o=t.mutations;for(let d=0;d<o.length;d++)r=r.insert(o[d].key,i[d].version);return new lR(t,e,i,r)}}class cR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class L_{constructor(t,e,i,r,o=ln.min(),d=ln.min(),m=Do.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(t){return new L_(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new L_(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new L_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class nL{constructor(t){this.ie=t}}function iL(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:fk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:$e(r=n.ie,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:R(r,o.version.toTimestamp()),createTime:R(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:wy(t.version)};else{if(!t.isUnknownDocument())return Vt();i.unknownDocument={path:e.path.toArray(),version:wy(t.version)}}var r,o;return i}function fk(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function wy(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function xy(n){const t=new Ji(n.seconds,n.nanoseconds);return ln.fromTimestamp(t)}function Cy(n,t){const e=(t.baseMutations||[]).map(o=>rR(n.ie,o));for(let o=0;o<t.mutations.length-1;++o){const d=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(d.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>rR(n.ie,o)),r=Ji.fromMillis(t.localWriteTimeMs);return new aR(t.batchId,r,e,i)}function WD(n){const t=xy(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?xy(n.lastLimboFreeSnapshotVersion):ln.min();let i;var r;return void 0!==n.query.documents?(Qt(1===(r=n.query).documents.length),i=To(Rf($t(r.documents[0])))):i=To(q2(n.query)),new L_(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Do.fromBase64String(n.resumeToken))}function rL(n,t){const e=wy(t.snapshotVersion),i=wy(t.lastLimboFreeSnapshotVersion);let r;r=AD(t.target)?G2(n.ie,t.target):sR(n.ie,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Mf(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function dR(n){const t=q2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gx(t,t.limit,"L"):t}function uR(n,t){return new cR(t.largestBatchId,rR(n.ie,t.overlayMutation))}function sL(n,t){const e=t.path.lastSegment();return[n,Jl(t.path.popLast()),e]}function oL(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:wy(i.readTime),documentKey:Jl(i.documentKey.path),largestBatchId:i.largestBatchId}}class R4{getBundleMetadata(t,e){return aL(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:xy(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return aL(t).put({bundleId:(i=e).id,createTime:wy(Q(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return lL(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:dR(r.bundledQuery),readTime:xy(r.readTime)};var r})}saveNamedQuery(t,e){return lL(t).put({name:(i=e).name,readTime:wy(Q(i.readTime)),bundledQuery:i.bundledQuery});var i}}function aL(n){return sa(n,"bundles")}function lL(n){return sa(n,"namedQueries")}class gk{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new gk(t,e.uid||"")}getOverlay(t,e){return YD(t).get(sL(this.userId,e)).next(i=>i?uR(this.yt,i):null)}getOverlays(t,e){const i=ku();return Re.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,d)=>{const m=new cR(e,d);r.push(this.oe(t,m))}),Re.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(d=>r.add(Jl(d.getCollectionPath())));const o=[];return r.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);o.push(YD(t).Y("collectionPathOverlayIndex",m))}),Re.waitFor(o)}getOverlaysForCollection(t,e,i){const r=ku(),o=Jl(e),d=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return YD(t).W("collectionPathOverlayIndex",d).next(m=>{for(const v of m){const x=uR(this.yt,v);r.set(x.getKey(),x)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=ku();let d;const m=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return YD(t).Z({index:"collectionGroupOverlayIndex",range:m},(v,x,T)=>{const P=uR(this.yt,x);o.size()<r||P.largestBatchId===d?(o.set(P.getKey(),P),d=P.largestBatchId):T.done()}).next(()=>o)}oe(t,e){return YD(t).put(function(i,r,o){const[d,m,v]=sL(r,o.mutation.key);return{userId:r,collectionPath:m,documentId:v,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:qD(i.ie,o.mutation)}}(this.yt,this.userId,e))}}function YD(n){return sa(n,"documentOverlays")}class Ey{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(vs(t.integerValue));else if("doubleValue"in t){const i=vs(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),my(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(M_(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?ZI(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):Vt()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),Et.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function P4(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function cL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=P4(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Ey.Ie=new Ey;class O4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=cL(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=cL(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class N4{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class F4{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class ZD{constructor(){this.$e=new O4,this.Be=new N4(this.$e),this.Le=new F4(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Dy{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Dy(this.indexId,this.documentKey,this.arrayValue,i)}}function B_(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=dL(n.arrayValue,t.arrayValue),0!==e?e:(e=dL(n.directionalValue,t.directionalValue),0!==e?e:Et.comparator(n.documentKey,t.documentKey)))}function dL(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class L4{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){Qt(t.collectionGroup===this.collectionId);const e=uy(t);if(void 0!==e&&!this.We(e))return!1;const i=qp(t);let r=0,o=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const d=i[r];if(!this.ze(this.Qe,d)||!this.He(this.Ke[o++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(o>=this.Ke.length||!this.He(this.Ke[o++],d))return!1}return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function uL(n){var t,e;if(Qt(n instanceof Qn||n instanceof Vi),n instanceof Qn){if(n instanceof SD){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Qn.create(n.field,"==",o)))||[];return Vi.create(r,"or")}return n}const i=n.filters.map(r=>uL(r));return Vi.create(i,n.op)}function B4(n){if(0===n.getFilters().length)return[];const t=mR(uL(n));return Qt(hL(t)),hR(t)||pR(t)?[t]:t.getFilters()}function hR(n){return n instanceof Qn}function pR(n){return n instanceof Vi&&JI(n)}function hL(n){return hR(n)||pR(n)||function(t){if(t instanceof Vi&&Kl(t)){for(const e of t.getFilters())if(!hR(e)&&!pR(e))return!1;return!0}return!1}(n)}function mR(n){if(Qt(n instanceof Qn||n instanceof Vi),n instanceof Qn)return n;if(1===n.filters.length)return mR(n.filters[0]);const t=n.filters.map(i=>mR(i));let e=Vi.create(t,n.op);return e=_k(e),hL(e)?e:(Qt(e instanceof Vi),Qt(fy(e)),Qt(e.filters.length>1),e.filters.reduce((i,r)=>fR(i,r)))}function fR(n,t){let e;return Qt(n instanceof Qn||n instanceof Vi),Qt(t instanceof Qn||t instanceof Vi),e=n instanceof Qn?t instanceof Qn?Vi.create([n,t],"and"):pL(n,t):t instanceof Qn?pL(t,n):function(i,r){if(Qt(i.filters.length>0&&r.filters.length>0),fy(i)&&fy(r))return Ql(i,r.getFilters());const o=Kl(i)?i:r,d=Kl(i)?r:i,m=o.filters.map(v=>fR(v,d));return Vi.create(m,"or")}(n,t),_k(e)}function pL(n,t){if(fy(t))return Ql(t,n.getFilters());{const e=t.filters.map(i=>fR(n,i));return Vi.create(e,"or")}}function _k(n){if(Qt(n instanceof Qn||n instanceof Vi),n instanceof Qn)return n;const t=n.getFilters();if(1===t.length)return _k(t[0]);if(cx(n))return n;const e=t.map(r=>_k(r)),i=[];return e.forEach(r=>{r instanceof Qn?i.push(r):r instanceof Vi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Vi.create(i,n.op)}class V4{constructor(){this.Je=new gR}addToCollectionParentIndex(t,e){return this.Je.add(e),Re.resolve()}getCollectionParents(t,e){return Re.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return Re.resolve()}deleteFieldIndex(t,e){return Re.resolve()}getDocumentsMatchingTarget(t,e){return Re.resolve(null)}getIndexType(t,e){return Re.resolve(0)}getFieldIndexes(t,e){return Re.resolve([])}getNextCollectionGroupToUpdate(t){return Re.resolve(null)}getMinOffset(t,e){return Re.resolve(vl.min())}getMinOffsetFromCollectionGroup(t,e){return Re.resolve(vl.min())}updateCollectionGroup(t,e,i){return Re.resolve()}updateIndexEntries(t,e){return Re.resolve()}}class gR{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ci(gi.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ci(gi.comparator)).toArray()}}const vk=new Uint8Array(0);class U4{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new gR,this.Xe=new im(i=>Mf(i),(i,r)=>P_(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const o={collectionId:i,parent:Jl(r)};return mL(t).put(o)}return Re.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[_D(e),""],!1,!0);return mL(t).W(r).next(o=>{for(const d of o){if(d.collectionId!==e)break;i.push(rm(d.parent))}return i})}addFieldIndex(t,e){const i=bk(t),r={indexId:(d=e).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete r.indexId;const o=i.add(r);if(e.indexState){const d=QD(t);return o.next(m=>{d.put(oL(m,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=bk(t),r=QD(t),o=KD(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=KD(t);let r=!0;const o=new Map;return Re.forEach(this.Ze(e),d=>this.tn(t,d).next(m=>{r&&(r=!!m),o.set(d,m)})).next(()=>{if(r){let d=jn();const m=[];return Re.forEach(o,(v,x)=>{var T;ut("IndexedDbIndexManager",`Using index ${T=v,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${Mf(e)}`);const P=function(vt,wt){const an=uy(wt);if(void 0===an)return null;for(const hn of gy(vt,an.fieldPath))switch(hn.op){case"array-contains-any":return hn.value.arrayValue.values||[];case"array-contains":return[hn.value]}return null}(x,v),B=function(vt,wt){const an=new Map;for(const hn of qp(wt))for(const ti of gy(vt,hn.fieldPath))switch(ti.op){case"==":case"in":an.set(hn.fieldPath.canonicalString(),ti.value);break;case"not-in":case"!=":return an.set(hn.fieldPath.canonicalString(),ti.value),Array.from(an.values())}return null}(x,v),G=function(vt,wt){const an=[];let hn=!0;for(const ti of qp(wt)){const ro=0===ti.kind?rk(vt,ti.fieldPath,vt.startAt):MD(vt,ti.fieldPath,vt.startAt);an.push(ro.value),hn&&(hn=ro.inclusive)}return new Xp(an,hn)}(x,v),Z=function(vt,wt){const an=[];let hn=!0;for(const ti of qp(wt)){const ro=0===ti.kind?MD(vt,ti.fieldPath,vt.endAt):rk(vt,ti.fieldPath,vt.endAt);an.push(ro.value),hn&&(hn=ro.inclusive)}return new Xp(an,hn)}(x,v),le=this.en(v,x,G),xe=this.en(v,x,Z),Xe=this.nn(v,x,B),_t=this.sn(v.indexId,P,le,G.inclusive,xe,Z.inclusive,Xe);return Re.forEach(_t,vt=>i.J(vt,e.limit).next(wt=>{wt.forEach(an=>{const hn=Et.fromSegments(an.documentKey);d.has(hn)||(d=d.add(hn),m.push(hn))})}))}).next(()=>m)}return Re.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:B4(Vi.create(t.filters,"and")).map(i=>kD(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,o,d,m){const v=(null!=e?e.length:1)*Math.max(i.length,o.length),x=v/(null!=e?e.length:1),T=[];for(let P=0;P<v;++P){const B=e?this.rn(e[P/x]):vk,G=this.on(t,B,i[P%x],r),Z=this.un(t,B,o[P%x],d),le=m.map(xe=>this.on(t,B,xe,!0));T.push(...this.createRange(G,Z,le))}return T}on(t,e,i,r){const o=new Dy(t,Et.empty(),e,i);return r?o:o.Ue()}un(t,e,i,r){const o=new Dy(t,Et.empty(),e,i);return r?o.Ue():o}tn(t,e){const i=new L4(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let d=null;for(const m of o)i.je(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(t,e){let i=2;const r=this.Ze(e);return Re.forEach(r,o=>this.tn(t,o).next(d=>{d?0!==i&&d.fields.length<function(m){let v=new ci(cs.comparator),x=!1;for(const T of m.filters)for(const P of T.getFlattenedFilters())P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?x=!0:v=v.add(P.field));for(const T of m.orderBy)T.field.isKeyField()||(v=v.add(T.field));return v.size+(x?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new ZD;for(const r of qp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const d=i.qe(r.kind);Ey.Ie.ue(o,d)}return i.Fe()}rn(t){const e=new ZD;return Ey.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new ZD;return Ey.Ie.ue(kf(this.databaseId,e),i.qe(function(r){const o=qp(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new ZD);let o=0;for(const d of qp(t)){const m=i[o++];for(const v of r)if(this.hn(e,d.fieldPath)&&ax(m))r=this.ln(r,d,m);else{const x=v.qe(d.kind);Ey.Ie.ue(m,x)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],o=[];for(const d of i.arrayValue.values||[])for(const m of r){const v=new ZD;v.seed(m.Fe()),Ey.Ie.ue(d,v.qe(e.kind)),o.push(v)}return o}hn(t,e){return!!t.filters.find(i=>i instanceof Qn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=bk(t),r=QD(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const d=[];return Re.forEach(o,m=>r.get([m.indexId,this.uid]).next(v=>{d.push(function(x,T){const P=T?new nx(T.sequenceNumber,new vl(xy(T.readTime),new Et(rm(T.documentKey)),T.largestBatchId)):nx.empty(),B=x.fields.map(([G,Z])=>new Tf(cs.fromServerFormat(G),Z));return new tx(x.indexId,x.collectionGroup,B,P)}(m,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Fn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=bk(t),o=QD(t);return this.dn(t).next(d=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(m=>Re.forEach(m,v=>o.put(oL(v.indexId,this.user,d,i)))))}updateIndexEntries(t,e){const i=new Map;return Re.forEach(e,(r,o)=>{const d=i.get(r.collectionGroup);return(d?Re.resolve(d):this.getFieldIndexes(t,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Re.forEach(m,v=>this._n(t,r,v).next(x=>{const T=this.wn(o,v);return x.isEqual(T)?Re.resolve():this.mn(t,o,v,x,T)}))))})}gn(t,e,i,r){return KD(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return KD(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=KD(t);let o=new ci(B_);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(d,m)=>{o=o.add(new Dy(i.indexId,e,m.arrayValue,m.directionalValue))}).next(()=>o)}wn(t,e){let i=new ci(B_);const r=this.cn(e,t);if(null==r)return i;const o=uy(e);if(null!=o){const d=t.data.field(o.fieldPath);if(ax(d))for(const m of d.arrayValue.values||[])i=i.add(new Dy(e.indexId,t.key,this.rn(m),r))}else i=i.add(new Dy(e.indexId,t.key,vk,r));return i}mn(t,e,i,r,o){ut("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const d=[];return function(m,v,x,T,P){const B=m.getIterator(),G=v.getIterator();let Z=Jp(B),le=Jp(G);for(;Z||le;){let xe=!1,Xe=!1;if(Z&&le){const _t=x(Z,le);_t<0?Xe=!0:_t>0&&(xe=!0)}else null!=Z?Xe=!0:xe=!0;xe?(T(le),le=Jp(G)):Xe?(P(Z),Z=Jp(B)):(Z=Jp(B),le=Jp(G))}}(r,o,B_,m=>{d.push(this.gn(t,e,i,m))},m=>{d.push(this.yn(t,e,i,m))}),Re.waitFor(d)}dn(t){let e=1;return QD(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((d,m)=>B_(d,m)).filter((d,m,v)=>!m||0!==B_(d,v[m-1]));const r=[];r.push(t);for(const d of i){const m=B_(d,t),v=B_(d,e);if(0===m)r[0]=t.Ue();else if(m>0&&v<0)r.push(d),r.push(d.Ue());else if(v>0)break}r.push(e);const o=[];for(let d=0;d<r.length;d+=2){if(this.pn(r[d],r[d+1]))return[];o.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,vk,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,vk,[]]))}return o}pn(t,e){return B_(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(fL)}getMinOffset(t,e){return Re.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||Vt())).next(fL)}}function mL(n){return sa(n,"collectionParents")}function KD(n){return sa(n,"indexEntries")}function bk(n){return sa(n,"indexConfiguration")}function QD(n){return sa(n,"indexState")}function fL(n){Qt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Wp(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new vl(t.readTime,t.documentKey,e)}const gL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $c{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new $c(t,$c.DEFAULT_COLLECTION_PERCENTILE,$c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _L(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],d=IDBKeyRange.only(e.batchId);let m=0;const v=i.Z({range:d},(T,P,B)=>(m++,B.delete()));o.push(v.next(()=>{Qt(1===m)}));const x=[];for(const T of e.mutations){const P=X2(t,T.key.path,e.batchId);o.push(r.delete(P)),x.push(T.key)}return Re.waitFor(o).next(()=>x)}function yk(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Vt();t=n.noDocument}return JSON.stringify(t).length}$c.DEFAULT_COLLECTION_PERCENTILE=10,$c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$c.DEFAULT=new $c(41943040,$c.DEFAULT_COLLECTION_PERCENTILE,$c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$c.DISABLED=new $c(-1,0,0);class wk{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){Qt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new wk(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return V_(t).Z({index:"userMutationsIndex",range:i},(r,o,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Dx(t),d=V_(t);return d.add({}).next(m=>{Qt("number"==typeof m);const v=new aR(m,e,i,r),x=function(B,G,Z){const le=Z.baseMutations.map(Xe=>qD(B.ie,Xe)),xe=Z.mutations.map(Xe=>qD(B.ie,Xe));return{userId:G,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:le,mutations:xe}}(this.yt,this.userId,v),T=[];let P=new ci((B,G)=>Fn(B.canonicalString(),G.canonicalString()));for(const B of r){const G=X2(this.userId,B.key.path,m);P=P.add(B.key.path.popLast()),T.push(d.put(x)),T.push(o.put(G,m4))}return P.forEach(B=>{T.push(this.indexManager.addToCollectionParentIndex(t,B))}),t.addOnCommittedListener(()=>{this.In[m]=v.keys()}),Re.waitFor(T).next(()=>v)})}lookupMutationBatch(t,e){return V_(t).get(e).next(i=>i?(Qt(i.userId===this.userId),Cy(this.yt,i)):null)}Tn(t,e){return this.In[e]?Re.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return V_(t).Z({index:"userMutationsIndex",range:r},(d,m,v)=>{m.userId===this.userId&&(Qt(m.batchId>=i),o=Cy(this.yt,m)),v.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return V_(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,d)=>{i=o.batchId,d.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return V_(t).W("userMutationsIndex",e).next(i=>i.map(r=>Cy(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=mk(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Dx(t).Z({range:r},(d,m,v)=>{const[x,T,P]=d,B=rm(T);if(x===this.userId&&e.path.isEqual(B))return V_(t).get(P).next(G=>{if(!G)throw Vt();Qt(G.userId===this.userId),o.push(Cy(this.yt,G))});v.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ci(Fn);const r=[];return e.forEach(o=>{const d=mk(this.userId,o.path),m=IDBKeyRange.lowerBound(d),v=Dx(t).Z({range:m},(x,T,P)=>{const[B,G,Z]=x,le=rm(G);B===this.userId&&o.path.isEqual(le)?i=i.add(Z):P.done()});r.push(v)}),Re.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=mk(this.userId,i),d=IDBKeyRange.lowerBound(o);let m=new ci(Fn);return Dx(t).Z({range:d},(v,x,T)=>{const[P,B,G]=v,Z=rm(B);P===this.userId&&i.isPrefixOf(Z)?Z.length===r&&(m=m.add(G)):T.done()}).next(()=>this.En(t,m))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(V_(t).get(o).next(d=>{if(null===d)throw Vt();Qt(d.userId===this.userId),i.push(Cy(this.yt,d))}))}),Re.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return _L(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),Re.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Re.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Dx(t).Z({range:i},(o,d,m)=>{if(o[0]===this.userId){const v=rm(o[1]);r.push(v)}else m.done()}).next(()=>{Qt(0===r.length)})})}containsKey(t,e){return vL(t,this.userId,e)}Rn(t){return bL(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function vL(n,t,e){const i=mk(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let d=!1;return Dx(n).Z({range:o,X:!0},(m,v,x)=>{const[T,P,B]=m;T===t&&P===r&&(d=!0),x.done()}).next(()=>d)}function V_(n){return sa(n,"mutations")}function Dx(n){return sa(n,"documentMutations")}function bL(n){return sa(n,"mutationQueues")}class Ty{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Ty(0)}static vn(){return new Ty(-1)}}class H4{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Ty(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>ln.fromTimestamp(new Ji(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Tx(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Qt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Tx(t).Z((d,m)=>{const v=WD(m);v.sequenceNumber<=e&&null===i.get(v.targetId)&&(r++,o.push(this.removeTargetData(t,v)))}).next(()=>Re.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Tx(t).Z((i,r)=>{const o=WD(r);e(o)})}Vn(t){return yL(t).get("targetGlobalKey").next(e=>(Qt(null!==e),e))}Sn(t,e){return yL(t).put("targetGlobalKey",e)}Dn(t,e){return Tx(t).put(rL(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Mf(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Tx(t).Z({range:r,index:"queryTargetsIndex"},(d,m,v)=>{const x=WD(m);P_(e,x.target)&&(o=x,v.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=U_(t);return e.forEach(d=>{const m=Jl(d.path);r.push(o.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(t,i,d))}),Re.waitFor(r)}removeMatchingKeys(t,e,i){const r=U_(t);return Re.forEach(e,o=>{const d=Jl(o.path);return Re.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=U_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=U_(t);let o=jn();return r.Z({range:i,X:!0},(d,m,v)=>{const x=rm(d[1]),T=new Et(x);o=o.add(T)}).next(()=>o)}containsKey(t,e){const i=Jl(e.path),r=IDBKeyRange.bound([i],[_D(i)],!1,!0);let o=0;return U_(t).Z({index:"documentTargetsIndex",X:!0,range:r},([d,m],v,x)=>{0!==d&&(o++,x.done())}).next(()=>o>0)}ne(t,e){return Tx(t).get(e).next(i=>i?WD(i):null)}}function Tx(n){return sa(n,"targets")}function yL(n){return sa(n,"targetGlobal")}function U_(n){return sa(n,"targetDocuments")}function wL([n,t],[e,i]){const r=Fn(n,e);return 0===r?Fn(t,i):r}class j4{constructor(t){this.xn=t,this.buffer=new ci(wL),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();wL(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $4{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;ut("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Be.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Mh(i)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Su(i)}yield e.Fn(3e5)}))}}class z4{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Re.resolve(bl.at);const i=new j4(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(gL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gL):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,o,d,m,v,x;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),r=this.params.maximumSequenceNumbersToCollect):r=P,d=Date.now(),this.nthSequenceNumber(t,r))).next(P=>(i=P,m=Date.now(),this.removeTargets(t,i,e))).next(P=>(o=P,v=Date.now(),this.removeOrphanedDocuments(t,i))).next(P=>(x=Date.now(),ex()<=xd.in.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${r} in `+(m-d)+`ms\n\tRemoved ${o} targets in `+(v-m)+`ms\n\tRemoved ${P} documents in `+(x-v)+`ms\nTotal Duration: ${x-T}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:P})))}}class G4{constructor(t,e){this.db=t,this.garbageCollector=new z4(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return xk(t,i)}removeReference(t,e,i){return xk(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return xk(t,e)}Gn(t,e){return function(i,r){let o=!1;return bL(i).tt(d=>vL(i,d,r).next(m=>(m&&(o=!0),Re.resolve(!m)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(d,m)=>{if(m<=e){const v=this.Gn(t,d).next(x=>{if(!x)return o++,i.getEntry(t,d).next(()=>(i.removeEntry(d,ln.min()),U_(t).delete([0,Jl(d.path)])))});r.push(v)}}).next(()=>Re.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return xk(t,e)}Kn(t,e){const i=U_(t);let r,o=bl.at;return i.Z({index:"documentTargetsIndex"},([d,m],{path:v,sequenceNumber:x})=>{0===d?(o!==bl.at&&e(new Et(rm(r)),o),o=x,r=v):o=bl.at}).next(()=>{o!==bl.at&&e(new Et(rm(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function xk(n,t){return U_(n).put((i=n.currentSequenceNumber,{targetId:0,path:Jl(t.path),sequenceNumber:i}));var i}class xL{constructor(){this.changes=new im(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Dr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Re.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class q4{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Sy(t).put(i)}removeEntry(t,e,i){return Sy(t).delete(function(r,o){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],fk(o),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Dr.newInvalidDocument(e);return Sy(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(XD(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:Dr.newInvalidDocument(e)};return Sy(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(XD(e))},(r,o)=>{i={document:this.jn(e,o),size:yk(o)}}).next(()=>i)}getEntries(t,e){let i=Xl();return this.zn(t,e,(r,o)=>{const d=this.jn(r,o);i=i.insert(r,d)}).next(()=>i)}Hn(t,e){let i=Xl(),r=new Kr(Et.comparator);return this.zn(t,e,(o,d)=>{const m=this.jn(o,d);i=i.insert(o,m),r=r.insert(o,yk(d))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return Re.resolve();let r=new ci(TL);e.forEach(v=>r=r.add(v));const o=IDBKeyRange.bound(XD(r.first()),XD(r.last())),d=r.getIterator();let m=d.getNext();return Sy(t).Z({index:"documentKeyIndex",range:o},(v,x,T)=>{const P=Et.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;m&&TL(m,P)<0;)i(m,null),m=d.getNext();m&&m.isEqual(P)&&(i(m,x),m=d.hasNext()?d.getNext():null),m?T.j(XD(m)):T.done()}).next(()=>{for(;m;)i(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),fk(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sy(t).W(IDBKeyRange.bound(r,o,!0)).next(d=>{let m=Xl();for(const v of d){const x=this.jn(Et.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(x.key,x)}return m})}getAllFromCollectionGroup(t,e,i,r){let o=Xl();const d=DL(e,i),m=DL(e,vl.max());return Sy(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(v,x,T)=>{const P=this.jn(Et.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);o=o.insert(P.key,P),o.size===r&&T.done()}).next(()=>o)}newChangeBuffer(t){return new W4(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return EL(t).get("remoteDocumentGlobalKey").next(e=>(Qt(!!e),e))}Qn(t,e){return EL(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function M4(n,t){let e;if(t.document)e=Tr(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Et.fromSegments(t.noDocument.path),r=xy(t.noDocument.readTime);e=Dr.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Vt();{const i=Et.fromSegments(t.unknownDocument.path),r=xy(t.unknownDocument.version);e=Dr.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ji(i[0],i[1]);return ln.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(ln.min()))return i}return Dr.newInvalidDocument(t)}}function CL(n){return new q4(n)}class W4 extends xL{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new im(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ci((o,d)=>Fn(o.canonicalString(),d.canonicalString()));return this.changes.forEach((o,d)=>{const m=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,m.readTime)),d.isValidDocument()){const v=iL(this.Yn.yt,d);r=r.add(o.path.popLast());const x=yk(v);i+=x-m.size,e.push(this.Yn.addEntry(t,o,v))}else if(i-=m.size,this.trackRemovals){const v=iL(this.Yn.yt,d.convertToNoDocument(ln.min()));e.push(this.Yn.addEntry(t,o,v))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),Re.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,d)=>{this.Xn.set(o,{size:d,readTime:i.get(o).readTime})}),i))}}function EL(n){return sa(n,"remoteDocumentGlobal")}function Sy(n){return sa(n,"remoteDocumentsV14")}function XD(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function DL(n,t){const e=t.documentKey.path.toArray();return[n,fk(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function TL(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Fn(e[o],i[o]),r)return r;return r=Fn(e.length,i.length),r||(r=Fn(e[e.length-2],i[i.length-2]),r||Fn(e[e.length-1],i[i.length-1]))}class Y4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class SL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&O_(i.mutation,r,bs.empty(),Ji.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,jn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=jn()){const r=ku();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let d=yy();return o.forEach((m,v)=>{d=d.insert(m,v.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=ku();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,jn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((d,m)=>{e.set(d,m)})})}computeViews(t,e,i,r){let o=Xl();const d=yx(),m=yx();return e.forEach((v,x)=>{const T=i.get(x.key);r.has(x.key)&&(void 0===T||T.mutation instanceof Nh)?o=o.insert(x.key,x):void 0!==T&&(d.set(x.key,T.mutation.getFieldMask()),O_(T.mutation,x,T.mutation.getFieldMask(),Ji.now()))}),this.recalculateAndSaveOverlays(t,o).next(v=>(v.forEach((x,T)=>d.set(x,T)),e.forEach((x,T)=>{var P;return m.set(x,new Y4(T,null!==(P=d.get(x))&&void 0!==P?P:null))}),m))}recalculateAndSaveOverlays(t,e){const i=yx();let r=new Kr((d,m)=>d-m),o=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const m of d)m.keys().forEach(v=>{const x=e.get(v);if(null===x)return;let T=i.get(v)||bs.empty();T=m.applyToLocalView(x,T),i.set(v,T);const P=(r.get(m.batchId)||jn()).add(v);r=r.insert(m.batchId,P)})}).next(()=>{const d=[],m=r.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),x=v.key,T=v.value,P=eR();T.forEach(B=>{if(!o.has(B)){const G=K1(e.get(B),i.get(B));null!==G&&P.set(B,G),o=o.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(t,x,P))}return Re.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Et.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):mx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const d=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Re.resolve(ku());let m=-1,v=o;return d.next(x=>Re.forEach(x,(T,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),o.get(T)?Re.resolve():this.remoteDocumentCache.getEntry(t,T).next(B=>{v=v.insert(T,B)}))).next(()=>this.populateOverlays(t,x,o)).next(()=>this.computeViews(t,v,x,jn())).next(T=>({batchId:m,changes:pk(T)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next(i=>{let r=yy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=yy();return this.indexManager.getCollectionParents(t,r).next(d=>Re.forEach(d,m=>{const v=(x=e,T=m.child(r),new em(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,T;return this.getDocumentsMatchingCollectionQuery(t,v,i).next(x=>{x.forEach((T,P)=>{o=o.insert(T,P)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((m,v)=>{const x=v.getKey();null===r.get(x)&&(r=r.insert(x,Dr.newInvalidDocument(x)))});let d=yy();return r.forEach((m,v)=>{const x=o.get(m);void 0!==x&&O_(x.mutation,v,bs.empty(),Ji.now()),ok(e,v)&&(d=d.insert(m,v))}),d})}}class Z4{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Re.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Q(i.createTime)}),Re.resolve()}getNamedQuery(t,e){return Re.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:dR(i.bundledQuery),readTime:Q(i.readTime)}),Re.resolve();var i}}class K4{constructor(){this.overlays=new Kr(Et.comparator),this.es=new Map}getOverlay(t,e){return Re.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ku();return Re.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.oe(t,e,o)}),Re.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),Re.resolve()}getOverlaysForCollection(t,e,i){const r=ku(),o=e.length+1,d=new Et(e.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,x=v.getKey();if(!e.isPrefixOf(x.path))break;x.path.length===o&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Re.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Kr((x,T)=>x-T);const d=this.overlays.getIterator();for(;d.hasNext();){const x=d.getNext().value;if(x.getKey().getCollectionGroup()===e&&x.largestBatchId>i){let T=o.get(x.largestBatchId);null===T&&(T=ku(),o=o.insert(x.largestBatchId,T)),T.set(x.getKey(),x)}}const m=ku(),v=o.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((x,T)=>m.set(x,T)),!(m.size()>=r)););return Re.resolve(m)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new cR(e,i));let o=this.es.get(e);void 0===o&&(o=jn(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class _R{constructor(){this.ns=new ci(oa.ss),this.rs=new ci(oa.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new oa(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new oa(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Et(new gi([])),i=new oa(e,t),r=new oa(e,t+1),o=[];return this.rs.forEachInRange([i,r],d=>{this.cs(d),o.push(d.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Et(new gi([])),i=new oa(e,t),r=new oa(e,t+1);let o=jn();return this.rs.forEachInRange([i,r],d=>{o=o.add(d.key)}),o}containsKey(t){const e=new oa(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class oa{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Et.comparator(t.key,e.key)||Fn(t._s,e._s)}static os(t,e){return Fn(t._s,e._s)||Et.comparator(t.key,e.key)}}class Q4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new ci(oa.ss)}checkEmpty(t){return Re.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const d=new aR(o,e,i,r);this.mutationQueue.push(d);for(const m of r)this.gs=this.gs.add(new oa(m.key,o)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Re.resolve(d)}lookupMutationBatch(t,e){return Re.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return Re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new oa(e,0),r=new oa(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],d=>{const m=this.ys(d._s);o.push(m)}),Re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ci(Fn);return e.forEach(r=>{const o=new oa(r,0),d=new oa(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,d],m=>{i=i.add(m._s)})}),Re.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const d=new oa(new Et(o),0);let m=new ci(Fn);return this.gs.forEachWhile(v=>{const x=v.key.path;return!!i.isPrefixOf(x)&&(x.length===r&&(m=m.add(v._s)),!0)},d),Re.resolve(this.Is(m))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Qt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Re.forEach(e.mutations,r=>{const o=new oa(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new oa(e,0),r=this.gs.firstAfterOrEqual(i);return Re.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Re.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class X4{constructor(t){this.Es=t,this.docs=new Kr(Et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,d=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Re.resolve(i?i.document.mutableCopy():Dr.newInvalidDocument(e))}getEntries(t,e){let i=Xl();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Dr.newInvalidDocument(r))}),Re.resolve(i)}getAllFromCollection(t,e,i){let r=Xl();const o=new Et(e.child("")),d=this.docs.getIteratorFrom(o);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!e.isPrefixOf(m.path))break;m.path.length>e.length+1||Wp(HI(v),i)<=0||(r=r.insert(v.key,v.mutableCopy()))}return Re.resolve(r)}getAllFromCollectionGroup(t,e,i,r){Vt()}As(t,e){return Re.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new J4(this)}getSize(t){return Re.resolve(this.size)}}class J4 extends xL{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),Re.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class ez{constructor(t){this.persistence=t,this.Rs=new im(e=>Mf(e),P_),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _R,this.targetCount=0,this.vs=Ty.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),Re.resolve()}getLastRemoteSnapshotVersion(t){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Re.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),Re.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Ty(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Re.resolve()}updateTargetData(t,e){return this.Dn(e),Re.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Re.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=e&&null===i.get(m.targetId)&&(this.Rs.delete(d),o.push(this.removeMatchingKeysForTargetId(t,m.targetId)),r++)}),Re.waitFor(o).next(()=>r)}getTargetCount(t){return Re.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return Re.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),Re.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(d=>{o.push(r.markPotentiallyOrphaned(t,d))}),Re.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Re.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return Re.resolve(i)}containsKey(t,e){return Re.resolve(this.Ps.containsKey(e))}}class IL{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new bl(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new ez(this),this.indexManager=new V4,this.remoteDocumentCache=new X4(i=>this.referenceDelegate.xs(i)),this.yt=new nL(e),this.Ns=new Z4(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new K4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new Q4(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){ut("MemoryPersistence","Starting transaction:",t);const r=new tz(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(t,e){return Re.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class tz extends yD{constructor(t){super(),this.currentSequenceNumber=t}}class Ck{constructor(t){this.persistence=t,this.Fs=new _R,this.$s=null}static Bs(t){return new Ck(t)}get Ls(){if(this.$s)return this.$s;throw Vt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),Re.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),Re.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Re.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.Ls,i=>{const r=Et.fromPath(i);return this.qs(t,r).next(o=>{o||e.removeEntry(r,ln.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return Re.or([()=>Re.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class nz{constructor(t){this.yt=t}$(t,e,i,r){const o=new wD("createOrUpgrade",e);var m;i<1&&r>=1&&(t.createObjectStore("owner"),(m=t).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Q2,{unique:!0}),m.createObjectStore("documentMutations"),kL(t),function(m){m.createObjectStore("remoteDocuments")}(t));let d=Re.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(t),kL(t)),d=d.next(()=>function(m){const v=m.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ln.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",x)}(o))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(m,v){return v.store("mutations").W().next(x=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Q2,{unique:!0});const T=v.store("mutations"),P=x.map(B=>T.put(B));return Re.waitFor(P)})}(t,o))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(d=d.next(()=>this.Us(o))),i<6&&r>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(d=d.next(()=>this.Gs(o))),i<8&&r>=8&&(d=d.next(()=>this.Qs(t,o))),i<9&&r>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(d=d.next(()=>this.js(o))),i<11&&r>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(d=d.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:T4});v.createIndex("collectionPathOverlayIndex",S4,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",I4,{unique:!1})}(t)})),i<13&&r>=13&&(d=d.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:f4});v.createIndex("documentKeyIndex",g4),v.createIndex("collectionGroupIndex",_4)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>this.zs(t,o))),i<15&&r>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:x4}).createIndex("sequenceNumberIndex",C4,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:E4}).createIndex("documentKeyIndex",D4,{unique:!1})}(t))),d}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=yk(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Re.forEach(r,o=>{const d=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",d).next(m=>Re.forEach(m,v=>{Qt(v.userId===o.userId);const x=Cy(this.yt,v);return _L(t,o.userId,x).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((d,m)=>{const v=new gi(d),x=[0,Jl(v)];o.push(e.get(x).next(T=>T?Re.resolve():e.put({targetId:0,path:Jl(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Re.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:w4});const i=e.store("collectionParents"),r=new gR,o=d=>{if(r.add(d)){const m=d.lastSegment(),v=d.popLast();return i.put({collectionId:m,parent:Jl(v)})}};return e.store("remoteDocuments").Z({X:!0},(d,m)=>{const v=new gi(d);return o(v.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([d,m,v],x)=>{const T=rm(m);return o(T.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=WD(r),d=rL(this.yt,o);return e.put(d)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,d)=>{const m=e.store("remoteDocumentsV14"),v=(x=d,x.document?new Et(gi.fromString(x.document.name).popFirst(5)):x.noDocument?Et.fromSegments(x.noDocument.path):x.unknownDocument?Et.fromSegments(x.unknownDocument.path):Vt()).path.toArray();var x;const T={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(m.put(T))}).next(()=>Re.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=CL(this.yt),o=new IL(Ck.Bs,this.yt.ie);return i.W().next(d=>{const m=new Map;return d.forEach(v=>{var x;let T=null!==(x=m.get(v.userId))&&void 0!==x?x:jn();Cy(this.yt,v).keys().forEach(P=>T=T.add(P)),m.set(v.userId,T)}),Re.forEach(m,(v,x)=>{const T=new Js(x),P=gk.re(this.yt,T),B=o.getIndexManager(T),G=wk.re(T,this.yt,B,o.referenceDelegate);return new SL(r,G,P,B).recalculateAndSaveOverlaysForDocumentKeys(new oR(e,bl.at),v).next()})})}}function kL(n){n.createObjectStore("targetDocuments",{keyPath:b4}).createIndex("documentTargetsIndex",y4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",v4,{unique:!0}),n.createObjectStore("targetGlobal")}const vR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bR{constructor(t,e,i,r,o,d,m,v,x,T,P=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=d,this.document=m,this.Js=x,this.Ys=T,this.Xs=P,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=B=>Promise.resolve(),!bR.C())throw new tt(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new G4(this,r),this.ii=e+"main",this.yt=new nL(v),this.ri=new Dd(this.ii,this.Xs,new nz(this.yt)),this.Cs=new H4(this.referenceDelegate,this.yt),this.remoteDocumentCache=CL(this.yt),this.Ns=new R4,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&_s("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Ne.FAILED_PRECONDITION,vR);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new bl(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Be.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Ek(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Mh(t))return ut("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return JD(t).get("owner").next(e=>Re.resolve(this.mi(e)))}gi(t){return Ek(t).delete(this.clientId)}yi(){var t=this;return(0,Be.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=sa(i,"clientMetadata");return r.W().next(o=>{const d=t.Ii(o,18e5),m=o.filter(v=>-1===d.indexOf(v));return Re.forEach(m,v=>r.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?Re.resolve(!0):JD(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new tt(Ne.FAILED_PRECONDITION,vR);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ek(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,m=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&m)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ut("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Be.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new oR(e,bl.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>Ek(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return wk.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new U4(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return gk.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){ut("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(d=this.Xs)?A4:14===d?tL:13===d?eL:12===d?k4:11===d?J2:void Vt();var d;let m;return this.ri.runTransaction(t,r,o,v=>(m=new oR(v,this.Ss?this.Ss.next():bl.at),"readwrite-primary"===e?this.fi(m).next(x=>!!x||this.di(m)).next(x=>{if(!x)throw _s(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new tt(Ne.FAILED_PRECONDITION,jI);return i(m)}).next(x=>this.wi(m).next(()=>x)):this.Vi(m).next(()=>i(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Vi(t){return JD(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new tt(Ne.FAILED_PRECONDITION,vR)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return JD(t).put("owner",e)}static C(){return Dd.C()}_i(t){const e=JD(t);return e.get("owner").next(i=>this.mi(i)?(ut("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Re.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(_s(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Y.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return ut("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return _s("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){_s("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function JD(n){return sa(n,"owner")}function Ek(n){return sa(n,"clientMetadata")}function yR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class wR{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=jn(),r=jn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new wR(t,e.fromCache,i,r)}}class AL{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Oi(t,e,r,i)).next(o=>o||this.Mi(t,e))}ki(t,e){if(RD(e))return Re.resolve(null);let i=To(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=gx(e,null,"F"),i=To(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const d=jn(...o);return this.Ni.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,i).next(v=>{const x=this.Fi(e,m);return this.$i(e,x,d,v.readTime)?this.ki(t,gx(e,null,"F")):this.Bi(t,x,e,v)}))})))}Oi(t,e,i,r){return RD(e)||r.isEqual(ln.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(o=>{const d=this.Fi(e,o);return this.$i(e,d,i,r)?this.Mi(t,e):(ex()<=xd.in.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sk(e)),this.Bi(t,d,e,bD(r,-1)))})}Fi(t,e){let i=new ci(ak(t));return e.forEach((r,o)=>{ok(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(t,e){return ex()<=xd.in.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",sk(e)),this.Ni.getDocumentsMatchingQuery(t,e,vl.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(d=>{o=o.insert(d.key,d)}),o))}}class iz{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new Kr(Fn),this.Ui=new im(o=>Mf(o),P_),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function ML(n,t,e,i){return new iz(n,t,e,i)}function RL(n,t){return xR.apply(this,arguments)}function xR(){return xR=(0,Be.Z)(function*(n,t){const e=Tt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const d=[],m=[];let v=jn();for(const x of r){d.push(x.batchId);for(const T of x.mutations)v=v.add(T.key)}for(const x of o){m.push(x.batchId);for(const T of x.mutations)v=v.add(T.key)}return e.localDocuments.getDocuments(i,v).next(x=>({ji:x,removedBatchIds:d,addedBatchIds:m}))})})}),xR.apply(this,arguments)}function rz(n,t){const e=Tt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,v,x){const T=v.batch,P=T.keys();let B=Re.resolve();return P.forEach(G=>{B=B.next(()=>x.getEntry(m,G)).next(Z=>{const le=v.docVersions.get(G);Qt(null!==le),Z.version.compareTo(le)<0&&(T.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),x.addEntry(Z)))})}),B.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=jn();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(m=m.add(d.batch.mutations[v].key));return m}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function PL(n){const t=Tt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function sz(n,t){const e=Tt(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const d=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const m=[];t.targetChanges.forEach((T,P)=>{const B=r.get(P);if(!B)return;m.push(e.Cs.removeMatchingKeys(o,T.removedDocuments,P).next(()=>e.Cs.addMatchingKeys(o,T.addedDocuments,P)));let G=B.withSequenceNumber(o.currentSequenceNumber);var Z,le,xe;t.targetMismatches.has(P)?G=G.withResumeToken(Do.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,i)),r=r.insert(P,G),le=G,xe=T,(0===(Z=B).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&m.push(e.Cs.updateTargetData(o,G))});let v=Xl(),x=jn();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(o,T))}),m.push(OL(o,d,t.documentUpdates).next(T=>{v=T.Wi,x=T.zi})),!i.isEqual(ln.min())){const T=e.Cs.getLastRemoteSnapshotVersion(o).next(P=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));m.push(T)}return Re.waitFor(m).next(()=>d.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,v,x)).next(()=>v)}).then(o=>(e.qi=r,o))}function OL(n,t,e){let i=jn(),r=jn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let d=Xl();return e.forEach((m,v)=>{const x=o.get(m);v.isFoundDocument()!==x.isFoundDocument()&&(r=r.add(m)),v.isNoDocument()&&v.version.isEqual(ln.min())?(t.removeEntry(m,v.readTime),d=d.insert(m,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||0===v.version.compareTo(x.version)&&x.hasPendingWrites?(t.addEntry(v),d=d.insert(m,v)):ut("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",v.version)}),{Wi:d,zi:r}})}function oz(n,t){const e=Tt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Sx(n,t){const e=Tt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,Re.resolve(r)):e.Cs.allocateTargetId(i).next(d=>(r=new L_(t,d,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function Ix(n,t,e){return CR.apply(this,arguments)}function CR(){return CR=(0,Be.Z)(function*(n,t,e){const i=Tt(n),r=i.qi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!Mh(d))throw d;ut("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),CR.apply(this,arguments)}function Dk(n,t,e){const i=Tt(n);let r=ln.min(),o=jn();return i.persistence.runTransaction("Execute query","readonly",d=>function(m,v,x){const T=Tt(m),P=T.Ui.get(x);return void 0!==P?Re.resolve(T.qi.get(P)):T.Cs.getTargetData(v,x)}(i,d,To(t)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(d,m.targetId).next(v=>{o=v})}).next(()=>i.Li.getDocumentsMatchingQuery(d,t,e?r:ln.min(),e?o:jn())).next(m=>(LL(i,PD(t),m),{documents:m,Hi:o})))}function NL(n,t){const e=Tt(n),i=Tt(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ne(o,t).next(d=>d?d.target:null))}function FL(n,t){const e=Tt(n),i=e.Ki.get(t)||ln.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,bD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(LL(e,t,r),r))}function LL(n,t,e){let i=n.Ki.get(t)||ln.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function ER(){return ER=(0,Be.Z)(function*(n,t,e,i){const r=Tt(n);let o=jn(),d=Xl();for(const x of e){const T=t.Ji(x.metadata.name);x.document&&(o=o.add(T));const P=t.Yi(x);P.setReadTime(t.Xi(x.metadata.readTime)),d=d.insert(T,P)}const m=r.Gi.newChangeBuffer({trackRemovals:!0}),v=yield Sx(r,(x=i,To(Rf(gi.fromString(`__bundle__/docs/${x}`)))));var x;return r.persistence.runTransaction("Apply bundle documents","readwrite",x=>OL(x,m,d).next(T=>(m.apply(x),T)).next(T=>r.Cs.removeMatchingKeysForTargetId(x,v.targetId).next(()=>r.Cs.addMatchingKeys(x,o,v.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(x,T.Wi,T.zi)).next(()=>T.Wi)))}),ER.apply(this,arguments)}function lz(n,t){return DR.apply(this,arguments)}function DR(){return DR=(0,Be.Z)(function*(n,t,e=jn()){const i=yield Sx(n,To(dR(t.bundledQuery))),r=Tt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const d=Q(t.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.Ns.saveNamedQuery(o,t);const m=i.withResumeToken(Do.EMPTY_BYTE_STRING,d);return r.qi=r.qi.insert(m.targetId,m),r.Cs.updateTargetData(o,m).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),DR.apply(this,arguments)}function BL(n,t){return`firestore_clients_${n}_${t}`}function VL(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function TR(n,t){return`firestore_targets_${n}_${t}`}class Tk{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(o=new tt(r.error.code,r.error.message))),d?new Tk(t,e,r.state,o):(_s("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class eT{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new tt(i.error.code,i.error.message))),o?new eT(t,i.state,r):(_s("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Sk{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=zD();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=O1(i.activeTargetIds[d]),o=o.add(i.activeTargetIds[d]);return r?new Sk(t,o):(_s("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class SR{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new SR(e.clientId,e.onlineState):(_s("SharedClientState",`Failed to parse online state: ${t}`),null)}}class IR{constructor(){this.activeTargetIds=zD()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kR{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Kr(Fn),this.started=!1,this.cr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=BL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new IR),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Be.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(BL(t.persistenceKey,r));if(o){const d=Sk.Zi(r,o);d&&(t.ur=t.ur.insert(d.clientId,d))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(TR(this.persistenceKey,t));if(i){const r=eT.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(TR(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ut("SharedClientState","READ",t,e),e}setItem(t,e){ut("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ut("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ut("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void _s("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Be.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let d=bl.at;if(null!=o)try{const m=JSON.parse(o);Qt("number"==typeof m),d=m}catch(m){_s("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(i.newValue);r!==bl.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Mr(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new Tk(this.currentUser,t,e,i),o=VL(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=VL(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=TR(this.persistenceKey,t),o=new eT(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return Sk.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return Tk.Zi(new Js(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return eT.Zi(r,e)}yr(t){return SR.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);ut("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),d=[],m=[];return o.forEach(v=>{r.has(v)||d.push(v)}),r.forEach(v=>{o.has(v)||m.push(v)}),this.syncEngine.Br(d,m).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=zD();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class UL{constructor(){this.Lr=new IR,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new IR,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class cz{Ur(t){}shutdown(){}}class HL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uz{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class hz extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,o){const d=this.ho(t,e);ut("RestConnection","Sending: ",d,i);const m={};return this.lo(m,r,o),this.fo(t,d,m,i).then(v=>(ut("RestConnection","Received: ",v),v),v=>{throw Cf("RestConnection",`${t} failed with error: `,v,"url: ",d,"request:",i),v})}_o(t,e,i,r,o,d){return this.ao(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.oo}/v1/${e}:${dz[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,d)=>{const m=new PI;m.setWithCredentials(!0),m.listenOnce(Qw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case pD.NO_ERROR:const x=m.getResponseJson();ut("Connection","XHR received:",JSON.stringify(x)),o(x);break;case pD.TIMEOUT:ut("Connection",'RPC "'+t+'" timed out'),d(new tt(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case pD.HTTP_ERROR:const T=m.getStatus();if(ut("Connection",'RPC "'+t+'" failed with status:',T,"response text:",m.getResponseText()),T>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const B=P?.error;if(B&&B.status&&B.message){const G=function(Z){const le=Z.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(le)>=0?le:Ne.UNKNOWN}(B.status);d(new tt(G,B.message))}else d(new tt(Ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new tt(Ne.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{ut("Connection",'RPC "'+t+'" completed.')}});const v=JSON.stringify(r);m.send(e,"POST",v,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=E1(),d=D1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new T1({})),this.lo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const v=r.join("");ut("Connection","Creating WebChannel: "+v,m);const x=o.createWebChannel(v,m);let T=!1,P=!1;const B=new uz({Hr:Z=>{P?ut("Connection","Not sending because WebChannel is closed:",Z):(T||(ut("Connection","Opening WebChannel transport."),x.open(),T=!0),ut("Connection","WebChannel sending:",Z),x.send(Z))},Jr:()=>x.close()}),G=(Z,le,xe)=>{Z.listen(le,Xe=>{try{xe(Xe)}catch(_t){setTimeout(()=>{throw _t},0)}})};return G(x,dy.EventType.OPEN,()=>{P||ut("Connection","WebChannel transport opened.")}),G(x,dy.EventType.CLOSE,()=>{P||(P=!0,ut("Connection","WebChannel transport closed"),B.io())}),G(x,dy.EventType.ERROR,Z=>{P||(P=!0,Cf("Connection","WebChannel transport errored:",Z),B.io(new tt(Ne.UNAVAILABLE,"The operation could not be completed")))}),G(x,dy.EventType.MESSAGE,Z=>{var le;if(!P){const xe=Z.data[0];Qt(!!xe);const Xe=xe,_t=Xe.error||(null===(le=Xe[0])||void 0===le?void 0:le.error);if(_t){ut("Connection","WebChannel received error:",_t);const vt=_t.status;let wt=function(hn){const ti=ds[hn];if(void 0!==ti)return bx(ti)}(vt),an=_t.message;void 0===wt&&(wt=Ne.INTERNAL,an="Unknown error status: "+vt+" with message "+_t.message),P=!0,B.io(new tt(wt,an)),x.close()}else ut("Connection","WebChannel received:",xe),B.ro(xe)}}),G(d,Xw.STAT_EVENT,Z=>{Z.stat===RI.PROXY?ut("Connection","Detected buffering proxy"):Z.stat===RI.NOPROXY&&ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{B.so()},0),B}}function jL(){return typeof window<"u"?window:null}function Ik(){return typeof document<"u"?document:null}function tT(n){return new k(n,!0)}class AR{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&ut("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class $L{constructor(t,e,i,r,o,d,m,v){this.Hs=t,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new AR(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Be.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Be.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,Be.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===Ne.RESOURCE_EXHAUSTED?(_s(e.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===Ne.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new tt(Ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,Be.Z)(function*(){t.state=0,t.start()}))}Qo(t){return ut("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pz extends $L{constructor(t,e,i,r,o,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.yt=o}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function z2(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(v=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Vt(),r=t.targetChange.targetIds||[],o=function(v,x){return v.wt?(Qt(void 0===x||"string"==typeof x),Do.fromBase64String(x||"")):(Qt(void 0===x||x instanceof Uint8Array),Do.fromUint8Array(x||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(v){const x=void 0===v.code?Ne.UNKNOWN:bx(v.code);return new tt(x,v.message||"")}(d);e=new iR(i,r,o,m||null)}else if("documentChange"in t){const i=t.documentChange,r=lt(n,i.document.name),o=Q(i.document.updateTime),d=i.document.createTime?Q(i.document.createTime):ln.min(),m=new zo({mapValue:{fields:i.document.fields}}),v=Dr.newFoundDocument(r,o,d,m);e=new GD(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in t){const i=t.documentDelete,r=lt(n,i.document),o=i.readTime?Q(i.readTime):ln.min(),d=Dr.newNoDocument(r,o);e=new GD([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=lt(n,i.document);e=new GD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Vt();{const i=t.filter,o=new hk(i.count||0);e=new nR(i.targetId,o)}}var v;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return ln.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ln.min():o.readTime?Q(o.readTime):ln.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=fn(this.yt),e.addTarget=function(r,o){let d;const m=o.target;return d=AD(m)?{documents:G2(r,m)}:{query:sR(r,m)},d.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?d.resumeToken=L(r,o.resumeToken):o.snapshotVersion.compareTo(ln.min())>0&&(d.readTime=R(r,o.snapshotVersion.toTimestamp())),d}(this.yt,t);const i=function l4(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=fn(this.yt),e.removeTarget=t,this.Bo(e)}}class mz extends $L{constructor(t,e,i,r,o,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Qt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function a4(n,t){return n&&n.length>0?(Qt(void 0!==t),n.map(e=>function(i,r){let o=Q(i.updateTime?i.updateTime:r);return o.isEqual(ln.min())&&(o=Q(r)),new FD(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Q(t.commitTime);return this.listener.Zo(i,e)}return Qt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=fn(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>qD(this.yt,i))};this.Bo(e)}}class fz extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new tt(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new tt(Ne.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,d])=>this.connection._o(t,e,i,o,d,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tt(Ne.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class _z{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(_s(e),this.ou=!1):ut("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class vz{constructor(t,e,i,r,o){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(m=>{i.enqueueAndForget((0,Be.Z)(function*(){var v;Nf(d)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Be.Z)(function*(x){const T=Tt(x);T._u.add(4),yield kx(T),T.gu.set("Unknown"),T._u.delete(4),yield nT(T)}),function(x){return v.apply(this,arguments)})(d))}))}),this.gu=new _z(i,r)}}function nT(n){return RR.apply(this,arguments)}function RR(){return RR=(0,Be.Z)(function*(n){if(Nf(n))for(const t of n.wu)yield t(!0)}),RR.apply(this,arguments)}function kx(n){return PR.apply(this,arguments)}function PR(){return PR=(0,Be.Z)(function*(n){for(const t of n.wu)yield t(!1)}),PR.apply(this,arguments)}function kk(n,t){const e=Tt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),FR(e)?NR(e):Mx(e).ko()&&OR(e,t))}function iT(n,t){const e=Tt(n),i=Mx(e);e.du.delete(t),i.ko()&&zL(e,t),0===e.du.size&&(i.ko()?i.Fo():Nf(e)&&e.gu.set("Unknown"))}function OR(n,t){n.yu.Ot(t.targetId),Mx(n).zo(t)}function zL(n,t){n.yu.Ot(t),Mx(n).Ho(t)}function NR(n){n.yu=new c({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),Mx(n).start(),n.gu.uu()}function FR(n){return Nf(n)&&!Mx(n).No()&&n.du.size>0}function Nf(n){return 0===Tt(n)._u.size}function GL(n){n.yu=void 0}function bz(n){return LR.apply(this,arguments)}function LR(){return LR=(0,Be.Z)(function*(n){n.du.forEach((t,e)=>{OR(n,t)})}),LR.apply(this,arguments)}function yz(n,t){return BR.apply(this,arguments)}function BR(){return BR=(0,Be.Z)(function*(n,t){GL(n),FR(n)?(n.gu.hu(t),NR(n)):n.gu.set("Unknown")}),BR.apply(this,arguments)}function wz(n,t,e){return VR.apply(this,arguments)}function VR(){return VR=(0,Be.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof iR&&2===t.state&&t.cause)try{yield(i=(0,Be.Z)(function*(r,o){const d=o.cause;for(const m of o.targetIds)r.du.has(m)&&(yield r.remoteSyncer.rejectListen(m,d),r.du.delete(m),r.yu.removeTarget(m))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){ut("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Ak(n,i)}else if(t instanceof GD?n.yu.Kt(t):t instanceof nR?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(ln.min()))try{const i=yield PL(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const d=r.yu.Zt(o);return d.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const x=r.du.get(v);x&&r.du.set(v,x.withResumeToken(m.resumeToken,o))}}),d.targetMismatches.forEach(m=>{const v=r.du.get(m);if(!v)return;r.du.set(m,v.withResumeToken(Do.EMPTY_BYTE_STRING,v.snapshotVersion)),zL(r,m);const x=new L_(v.target,m,1,v.sequenceNumber);OR(r,x)}),r.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(i){ut("RemoteStore","Failed to raise snapshot:",i),yield Ak(n,i)}var i}),VR.apply(this,arguments)}function Ak(n,t,e){return UR.apply(this,arguments)}function UR(){return UR=(0,Be.Z)(function*(n,t,e){if(!Mh(t))throw t;n._u.add(1),yield kx(n),n.gu.set("Offline"),e||(e=()=>PL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield nT(n)}))}),UR.apply(this,arguments)}function qL(n,t){return t().catch(e=>Ak(n,e,t))}function Ax(n){return HR.apply(this,arguments)}function HR(){return HR=(0,Be.Z)(function*(n){const t=Tt(n),e=H_(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;xz(t);)try{const r=yield oz(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,Cz(t,r)}catch(r){yield Ak(t,r)}WL(t)&&YL(t)}),HR.apply(this,arguments)}function xz(n){return Nf(n)&&n.fu.length<10}function Cz(n,t){n.fu.push(t);const e=H_(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function WL(n){return Nf(n)&&!H_(n).No()&&n.fu.length>0}function YL(n){H_(n).start()}function Ez(n){return jR.apply(this,arguments)}function jR(){return jR=(0,Be.Z)(function*(n){H_(n).eu()}),jR.apply(this,arguments)}function Dz(n){return $R.apply(this,arguments)}function $R(){return $R=(0,Be.Z)(function*(n){const t=H_(n);for(const e of n.fu)t.Xo(e.mutations)}),$R.apply(this,arguments)}function Tz(n,t,e){return zR.apply(this,arguments)}function zR(){return zR=(0,Be.Z)(function*(n,t,e){const i=n.fu.shift(),r=lR.from(i,t,e);yield qL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ax(n)}),zR.apply(this,arguments)}function Sz(n,t){return GR.apply(this,arguments)}function GR(){return GR=(0,Be.Z)(function*(n,t){var e;t&&H_(n).Yo&&(yield(e=(0,Be.Z)(function*(i,r){if($D(o=r.code)&&o!==Ne.ABORTED){const d=i.fu.shift();H_(i).Mo(),yield qL(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield Ax(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),WL(n)&&YL(n)}),GR.apply(this,arguments)}function ZL(n,t){return qR.apply(this,arguments)}function qR(){return qR=(0,Be.Z)(function*(n,t){const e=Tt(n);e.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const i=Nf(e);e._u.add(3),yield kx(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield nT(e)}),qR.apply(this,arguments)}function WR(n,t){return YR.apply(this,arguments)}function YR(){return YR=(0,Be.Z)(function*(n,t){const e=Tt(n);t?(e._u.delete(2),yield nT(e)):t||(e._u.add(2),yield kx(e),e.gu.set("Unknown"))}),YR.apply(this,arguments)}function Mx(n){return n.pu||(n.pu=function(t,e,i){const r=Tt(t);return r.su(),new pz(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:bz.bind(null,n),Zr:yz.bind(null,n),Wo:wz.bind(null,n)}),n.wu.push(function(){var t=(0,Be.Z)(function*(e){e?(n.pu.Mo(),FR(n)?NR(n):n.gu.set("Unknown")):(yield n.pu.stop(),GL(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function H_(n){return n.Iu||(n.Iu=function(t,e,i){const r=Tt(t);return r.su(),new mz(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:Ez.bind(null,n),Zr:Sz.bind(null,n),tu:Dz.bind(null,n),Zo:Tz.bind(null,n)}),n.wu.push(function(){var t=(0,Be.Z)(function*(e){e?(n.Iu.Mo(),yield Ax(n)):(yield n.Iu.stop(),n.fu.length>0&&(ut("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class ZR{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,i,r,o){const d=Date.now()+i,m=new ZR(t,e,d,r,o);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Ne.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rx(n,t){if(_s("AsyncQueue",`${t}: ${n}`),Mh(n))return new tt(Ne.UNAVAILABLE,`${t}: ${n}`);throw n}class Px{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=yy(),this.sortedSet=new Kr(this.comparator)}static emptySet(t){return new Px(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Px)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Px;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class KL{constructor(){this.Tu=new Kr(Et.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):Vt():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ox{constructor(t,e,i,r,o,d,m,v,x){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(t,e,i,r,o){const d=[];return e.forEach(m=>{d.push({type:0,doc:m})}),new Ox(t,e,Px.emptySet(e),d,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Iz{constructor(){this.Au=void 0,this.listeners=[]}}class kz{constructor(){this.queries=new im(t=>q1(t),vy),this.onlineState="Unknown",this.Ru=new Set}}function KR(n,t){return QR.apply(this,arguments)}function QR(){return QR=(0,Be.Z)(function*(n,t){const e=Tt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new Iz),r)try{o.Au=yield e.onListen(i)}catch(d){const m=Rx(d,`Initialization of query '${sk(t.query)}' failed`);return void t.onError(m)}e.queries.set(i,o),o.listeners.push(t),t.bu(e.onlineState),o.Au&&t.Pu(o.Au)&&eP(e)}),QR.apply(this,arguments)}function XR(n,t){return JR.apply(this,arguments)}function JR(){return JR=(0,Be.Z)(function*(n,t){const e=Tt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const d=o.listeners.indexOf(t);d>=0&&(o.listeners.splice(d,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),JR.apply(this,arguments)}function Az(n,t){const e=Tt(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const m of d.listeners)m.Pu(r)&&(i=!0);d.Au=r}}i&&eP(e)}function Mz(n,t,e){const i=Tt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function eP(n){n.Ru.forEach(t=>{t.next()})}class tP{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Ox(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Ox.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class Rz{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class QL{constructor(t){this.yt=t}Ji(t){return lt(this.yt,t)}Yi(t){return t.metadata.exists?Tr(this.yt,t.document,!1):Dr.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Q(t)}}class Pz{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=XL(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=gi.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new QL(this.yt);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const d of r.metadata.queries){const m=(e.get(d)||jn()).add(o);e.set(d,m)}}return e}complete(){var t=this;return(0,Be.Z)(function*(){const e=yield function az(n,t,e,i){return ER.apply(this,arguments)}(t.localStore,new QL(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield lz(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function XL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class JL{constructor(t){this.key=t}}class eB{constructor(t){this.key=t}}class tB{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=jn(),this.mutatedKeys=jn(),this.Gu=ak(t),this.Qu=new Px(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new KL,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,d=r,m=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,x="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((T,P)=>{const B=r.get(T),G=ok(this.query,P)?P:null,Z=!!B&&this.mutatedKeys.has(B.key),le=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let xe=!1;B&&G?B.data.isEqual(G.data)?Z!==le&&(i.track({type:3,doc:G}),xe=!0):this.Hu(B,G)||(i.track({type:2,doc:G}),xe=!0,(v&&this.Gu(G,v)>0||x&&this.Gu(G,x)<0)&&(m=!0)):!B&&G?(i.track({type:0,doc:G}),xe=!0):B&&!G&&(i.track({type:1,doc:B}),xe=!0,(v||x)&&(m=!0)),xe&&(G?(d=d.add(G),o=le?o.add(T):o.delete(T)):(d=d.delete(T),o=o.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),o=o.delete(T.key),i.track({type:1,doc:T})}return{Qu:d,zu:i,$i:m,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Eu();o.sort((x,T)=>function(P,B){const G=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return G(P)-G(B)}(x.type,T.type)||this.Gu(x.doc,T.doc)),this.Ju(i);const d=e?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,v=m!==this.Uu;return this.Uu=m,0!==o.length||v?{snapshot:new Ox(this.query,t.Qu,r,o,t.mutatedKeys,0===m,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new KL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=jn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new eB(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new JL(i))}),e}tc(t){this.qu=t.Hi,this.Ku=jn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Ox.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Oz{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Nz{constructor(t){this.key=t,this.nc=!1}}class Fz{constructor(t,e,i,r,o,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new im(m=>q1(m),vy),this.rc=new Map,this.oc=new Set,this.uc=new Kr(Et.comparator),this.cc=new Map,this.ac=new _R,this.hc={},this.lc=new Map,this.fc=Ty.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Lz(n,t){return nP.apply(this,arguments)}function nP(){return nP=(0,Be.Z)(function*(n,t){const e=DP(n);let i,r;const o=e.ic.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const d=yield Sx(e.localStore,To(t));e.isPrimaryClient&&kk(e.remoteStore,d);const m=e.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield iP(e,t,i,"current"===m,d.resumeToken)}return r}),nP.apply(this,arguments)}function iP(n,t,e,i,r){return rP.apply(this,arguments)}function rP(){return rP=(0,Be.Z)(function*(n,t,e,i,r){n._c=(P,B,G)=>{return(Z=(0,Be.Z)(function*(le,xe,Xe,_t){let vt=xe.view.Wu(Xe);vt.$i&&(vt=yield Dk(le.localStore,xe.query,!1).then(({documents:hn})=>xe.view.Wu(hn,vt)));const wt=_t&&_t.targetChanges.get(xe.targetId),an=xe.view.applyChanges(vt,le.isPrimaryClient,wt);return mP(le,xe.targetId,an.Xu),an.snapshot}),function(le,xe,Xe,_t){return Z.apply(this,arguments)})(n,P,B,G);var Z};const o=yield Dk(n.localStore,t,!0),d=new tB(t,o.Hi),m=d.Wu(o.documents),v=xx.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),x=d.applyChanges(m,n.isPrimaryClient,v);mP(n,e,x.Xu);const T=new Oz(t,e,d);return n.ic.set(t,T),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),x.snapshot}),rP.apply(this,arguments)}function Bz(n,t){return sP.apply(this,arguments)}function sP(){return sP=(0,Be.Z)(function*(n,t){const e=Tt(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(o=>!vy(o,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ix(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),iT(e.remoteStore,i.targetId),Nx(e,i.targetId)}).catch(Su))):(Nx(e,i.targetId),yield Ix(e.localStore,i.targetId,!0))}),sP.apply(this,arguments)}function oP(){return oP=(0,Be.Z)(function*(n,t,e){const i=TP(n);try{const r=yield function(o,d){const m=Tt(o),v=Ji.now(),x=d.reduce((B,G)=>B.add(G.key),jn());let T,P;return m.persistence.runTransaction("Locally write mutations","readwrite",B=>{let G=Xl(),Z=jn();return m.Gi.getEntries(B,x).next(le=>{G=le,G.forEach((xe,Xe)=>{Xe.isValidDocument()||(Z=Z.add(xe))})}).next(()=>m.localDocuments.getOverlayedDocuments(B,G)).next(le=>{T=le;const xe=[];for(const Xe of d){const _t=Q1(Xe,T.get(Xe.key).overlayedDocument);null!=_t&&xe.push(new Nh(Xe.key,_t,z1(_t.value.mapValue),lr.exists(!0)))}return m.mutationQueue.addMutationBatch(B,v,xe,d)}).next(le=>{P=le;const xe=le.applyToLocalDocumentSet(T,Z);return m.documentOverlayCache.saveOverlays(B,le.batchId,xe)})}).then(()=>({batchId:P.batchId,changes:pk(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,d,m){let v=o.hc[o.currentUser.toKey()];v||(v=new Kr(Fn)),v=v.insert(d,m),o.hc[o.currentUser.toKey()]=v}(i,r.batchId,e),yield Ff(i,r.changes),yield Ax(i.remoteStore)}catch(r){const o=Rx(r,"Failed to persist write");e.reject(o)}}),oP.apply(this,arguments)}function nB(n,t){return aP.apply(this,arguments)}function aP(){return aP=(0,Be.Z)(function*(n,t){const e=Tt(n);try{const i=yield sz(e.localStore,t);t.targetChanges.forEach((r,o)=>{const d=e.cc.get(o);d&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.nc=!0:r.modifiedDocuments.size>0?Qt(d.nc):r.removedDocuments.size>0&&(Qt(d.nc),d.nc=!1))}),yield Ff(e,i,t)}catch(i){yield Su(i)}}),aP.apply(this,arguments)}function iB(n,t,e){const i=Tt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((o,d)=>{const m=d.view.bu(t);m.snapshot&&r.push(m.snapshot)}),function(o,d){const m=Tt(o);m.onlineState=d;let v=!1;m.queries.forEach((x,T)=>{for(const P of T.listeners)P.bu(d)&&(v=!0)}),v&&eP(m)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Uz(n,t,e){return lP.apply(this,arguments)}function lP(){return lP=(0,Be.Z)(function*(n,t,e){const i=Tt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),o=r&&r.key;if(o){let d=new Kr(Et.comparator);d=d.insert(o,Dr.newNoDocument(o,ln.min()));const m=jn().add(o),v=new wx(ln.min(),new Map,new ci(Fn),d,m);yield nB(i,v),i.uc=i.uc.remove(o),i.cc.delete(t),fP(i)}else yield Ix(i.localStore,t,!1).then(()=>Nx(i,t,e)).catch(Su)}),lP.apply(this,arguments)}function Hz(n,t){return cP.apply(this,arguments)}function cP(){return cP=(0,Be.Z)(function*(n,t){const e=Tt(n),i=t.batch.batchId;try{const r=yield rz(e.localStore,t);pP(e,i,null),hP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ff(e,r)}catch(r){yield Su(r)}}),cP.apply(this,arguments)}function jz(n,t,e){return dP.apply(this,arguments)}function dP(){return dP=(0,Be.Z)(function*(n,t,e){const i=Tt(n);try{const r=yield function(o,d){const m=Tt(o);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return m.mutationQueue.lookupMutationBatch(v,d).next(T=>(Qt(null!==T),x=T.keys(),m.mutationQueue.removeMutationBatch(v,T))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,x,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>m.localDocuments.getDocuments(v,x))})}(i.localStore,t);pP(i,t,e),hP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ff(i,r)}catch(r){yield Su(r)}}),dP.apply(this,arguments)}function uP(){return uP=(0,Be.Z)(function*(n,t){const e=Tt(n);Nf(e.remoteStore)||ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const d=Tt(o);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=Rx(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),uP.apply(this,arguments)}function hP(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function pP(n,t,e){const i=Tt(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function Nx(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||rB(n,i)})}function rB(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(iT(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),fP(n))}function mP(n,t,e){for(const i of e)i instanceof JL?(n.ac.addReference(i.key,t),zz(n,i)):i instanceof eB?(ut("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||rB(n,i.key)):Vt()}function zz(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(ut("SyncEngine","New document in limbo: "+e),n.oc.add(i),fP(n))}function fP(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Et(gi.fromString(t)),i=n.fc.next();n.cc.set(i,new Nz(e)),n.uc=n.uc.insert(e,i),kk(n.remoteStore,new L_(To(Rf(e.path)),i,2,bl.at))}}function Ff(n,t,e){return gP.apply(this,arguments)}function gP(){return gP=(0,Be.Z)(function*(n,t,e){const i=Tt(n),r=[],o=[],d=[];var m;i.ic.isEmpty()||(i.ic.forEach((m,v)=>{d.push(i._c(v,t,e).then(x=>{if((x||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,x?.fromCache?"not-current":"current"),x){r.push(x);const T=wR.Ci(v.targetId,x);o.push(T)}}))}),yield Promise.all(d),i.sc.Wo(r),yield(m=(0,Be.Z)(function*(v,x){const T=Tt(v);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Re.forEach(x,B=>Re.forEach(B.Si,G=>T.persistence.referenceDelegate.addReference(P,B.targetId,G)).next(()=>Re.forEach(B.Di,G=>T.persistence.referenceDelegate.removeReference(P,B.targetId,G)))))}catch(P){if(!Mh(P))throw P;ut("LocalStore","Failed to update sequence numbers: "+P)}for(const P of x){const B=P.targetId;if(!P.fromCache){const G=T.qi.get(B),le=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);T.qi=T.qi.insert(B,le)}}}),function(v,x){return m.apply(this,arguments)})(i.localStore,o))}),gP.apply(this,arguments)}function Gz(n,t){return _P.apply(this,arguments)}function _P(){return _P=(0,Be.Z)(function*(n,t){const e=Tt(n);if(!e.currentUser.isEqual(t)){ut("SyncEngine","User change. New user:",t.toKey());const i=yield RL(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(d=>{d.forEach(m=>{m.reject(new tt(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ff(e,i.ji)}var r}),_P.apply(this,arguments)}function qz(n,t){const e=Tt(n),i=e.cc.get(t);if(i&&i.nc)return jn().add(i.key);{let r=jn();const o=e.rc.get(t);if(!o)return r;for(const d of o){const m=e.ic.get(d);r=r.unionWith(m.view.ju)}return r}}function Wz(n,t){return vP.apply(this,arguments)}function vP(){return vP=(0,Be.Z)(function*(n,t){const e=Tt(n),i=yield Dk(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&mP(e,t.targetId,r.Xu),r}),vP.apply(this,arguments)}function Yz(n,t){return bP.apply(this,arguments)}function bP(){return bP=(0,Be.Z)(function*(n,t){const e=Tt(n);return FL(e.localStore,t).then(i=>Ff(e,i))}),bP.apply(this,arguments)}function Zz(n,t,e,i){return yP.apply(this,arguments)}function yP(){return yP=(0,Be.Z)(function*(n,t,e,i){const r=Tt(n),o=yield function(d,m){const v=Tt(d),x=Tt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",T=>x.Tn(T,m).next(P=>P?v.localDocuments.getDocuments(T,P):Re.resolve(null)))}(r.localStore,t);var m;null!==o?("pending"===e?yield Ax(r.remoteStore):"acknowledged"===e||"rejected"===e?(pP(r,t,i||null),hP(r,t),m=t,Tt(Tt(r.localStore).mutationQueue).An(m)):Vt(),yield Ff(r,o)):ut("SyncEngine","Cannot apply mutation batch with id: "+t)}),yP.apply(this,arguments)}function wP(){return wP=(0,Be.Z)(function*(n,t){const e=Tt(n);if(DP(e),TP(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield sB(e,i.toArray());e.dc=!0,yield WR(e.remoteStore,!0);for(const o of r)kk(e.remoteStore,o)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((o,d)=>{e.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(Nx(e,d),Ix(e.localStore,d,!0))),iT(e.remoteStore,d)}),yield r,yield sB(e,i),function(o){const d=Tt(o);d.cc.forEach((m,v)=>{iT(d.remoteStore,v)}),d.ac.fs(),d.cc=new Map,d.uc=new Kr(Et.comparator)}(e),e.dc=!1,yield WR(e.remoteStore,!1)}}),wP.apply(this,arguments)}function sB(n,t,e){return xP.apply(this,arguments)}function xP(){return xP=(0,Be.Z)(function*(n,t,e){const i=Tt(n),r=[],o=[];for(const d of t){let m;const v=i.rc.get(d);if(v&&0!==v.length){m=yield Sx(i.localStore,To(v[0]));for(const x of v){const T=i.ic.get(x),P=yield Wz(i,T);P.snapshot&&o.push(P.snapshot)}}else{const x=yield NL(i.localStore,d);m=yield Sx(i.localStore,x),yield iP(i,oB(x),d,!1,m.resumeToken)}r.push(m)}return i.sc.Wo(o),r}),xP.apply(this,arguments)}function oB(n){return hx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Qz(n){const t=Tt(n);return Tt(Tt(t.localStore).persistence).vi()}function Xz(n,t,e,i){return CP.apply(this,arguments)}function CP(){return CP=(0,Be.Z)(function*(n,t,e,i){const r=Tt(n);if(r.dc)return void ut("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const d=yield FL(r.localStore,PD(o[0])),m=wx.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Do.EMPTY_BYTE_STRING);yield Ff(r,d,m);break}case"rejected":yield Ix(r.localStore,t,!0),Nx(r,t,i);break;default:Vt()}}),CP.apply(this,arguments)}function Jz(n,t,e){return EP.apply(this,arguments)}function EP(){return EP=(0,Be.Z)(function*(n,t,e){const i=DP(n);if(i.dc){for(const r of t){if(i.rc.has(r)){ut("SyncEngine","Adding an already active target "+r);continue}const o=yield NL(i.localStore,r),d=yield Sx(i.localStore,o);yield iP(i,oB(o),d.targetId,!1,d.resumeToken),kk(i.remoteStore,d)}for(const r of e)i.rc.has(r)&&(yield Ix(i.localStore,r,!1).then(()=>{iT(i.remoteStore,r),Nx(i,r)}).catch(Su))}}),EP.apply(this,arguments)}function DP(n){const t=Tt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qz.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Uz.bind(null,t),t.sc.Wo=Az.bind(null,t.eventManager),t.sc.wc=Mz.bind(null,t.eventManager),t}function TP(n){const t=Tt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jz.bind(null,t),t}class aB{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Be.Z)(function*(){e.yt=tT(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return ML(this.persistence,new AL,t.initialUser,this.yt)}yc(t){return new IL(Ck.Bs,this.yt)}gc(t){return new UL}terminate(){var t=this;return(0,Be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class lB extends aB{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield TP(i.Ac.syncEngine),yield Ax(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return ML(this.persistence,new AL,t.initialUser,this.yt)}Tc(t,e){return new $4(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new R1(e,this.persistence);return new M1(t.asyncQueue,i)}yc(t){const e=yR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?$c.withCacheSize(this.cacheSizeBytes):$c.DEFAULT;return new bR(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,jL(),Ik(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new UL}}class t5 extends lB{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof kR&&(i.sharedClientState.syncEngine={Fr:Zz.bind(null,r),$r:Xz.bind(null,r),Br:Jz.bind(null,r),vi:Qz.bind(null,r),Mr:Yz.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,Be.Z)(function*(d){yield function Kz(n,t){return wP.apply(this,arguments)}(i.Ac.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return o.apply(this,arguments)}}())})()}gc(t){const e=jL();if(!kR.C(e))throw new tt(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=yR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new kR(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class SP{initialize(t,e){var i=this;return(0,Be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>iB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Gz.bind(null,i.syncEngine),yield WR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new kz}createDatastore(t){const e=tT(t.databaseInfo.databaseId),i=new hz(t.databaseInfo);return new fz(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=m=>iB(this.syncEngine,m,0),d=HL.C()?new HL:new cz,new vz(e,i,r,o,d);var e,i,r,o,d}createSyncEngine(t,e){return function(i,r,o,d,m,v,x){const T=new Fz(i,r,o,d,m,v);return x&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Be.Z)(function*(e){const i=Tt(e);ut("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield kx(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function IP(n,t,e){if(!e)throw new tt(Ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function cB(n,t,e,i){if(!0===t&&!0===i)throw new tt(Ne.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function dB(n){if(!Et.isDocumentKey(n))throw new tt(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uB(n){if(Et.isDocumentKey(n))throw new tt(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mk(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Vt()}function _i(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new tt(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Mk(n);throw new tt(Ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function hB(n,t){if(t<=0)throw new tt(Ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const pB=new Map;class mB{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new tt(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tt(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rT{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new tt(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mB(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new NI;switch(e.type){case"gapi":return new BI(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tt(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=pB.get(t);e&&(ut("ComponentProvider","Removing Datastore"),pB.delete(t),e.terminate())}(this),Promise.resolve()}}class Qr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qr(this.firestore,t,this._key)}}class Oa{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Oa(this.firestore,t,this._query)}}class sm extends Oa{constructor(t,e,i){super(t,e,Rf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qr(this.firestore,null,new Et(t))}withConverter(t){return new sm(this.firestore,t,this._path)}}function gB(n,t,...e){if(n=(0,Y.m9)(n),IP("collection","path",t),n instanceof rT){const i=gi.fromString(t,...e);return uB(i),new sm(n,null,i)}{if(!(n instanceof Qr||n instanceof sm))throw new tt(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gi.fromString(t,...e));return uB(i),new sm(n.firestore,null,i)}}function Rk(n,t,...e){if(n=(0,Y.m9)(n),1===arguments.length&&(t=k1.R()),IP("doc","path",t),n instanceof rT){const i=gi.fromString(t,...e);return dB(i),new Qr(n,null,new Et(i))}{if(!(n instanceof Qr||n instanceof sm))throw new tt(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gi.fromString(t,...e));return dB(i),new Qr(n.firestore,n instanceof sm?n.converter:null,new Et(i))}}function _B(n,t){return n=(0,Y.m9)(n),t=(0,Y.m9)(t),(n instanceof Qr||n instanceof sm)&&(t instanceof Qr||t instanceof sm)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function kP(n,t){return n=(0,Y.m9)(n),t=(0,Y.m9)(t),n instanceof Oa&&t instanceof Oa&&n.firestore===t.firestore&&vy(n._query,t._query)&&n.converter===t.converter}function vB(n,t=10240){let e=0;return{read:()=>(0,Be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Pk{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):_s("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class r5{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new Ls,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,Be.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,Be.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,Be.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const o=yield t.Cc(r);return new Rz(JSON.parse(o),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,Be.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,Be.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,Be.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class a5{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new tt(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Be.Z)(function*(o,d){const m=Tt(o),v=fn(m.yt)+"/documents",x={documents:d.map(G=>$e(m.yt,G))},T=yield m._o("BatchGetDocuments",v,x,d.length),P=new Map;T.forEach(G=>{const Z=function ys(n,t){return"found"in t?function(e,i){Qt(!!i.found);const r=lt(e,i.found.name),o=Q(i.found.updateTime),d=i.found.createTime?Q(i.found.createTime):ln.min(),m=new zo({mapValue:{fields:i.found.fields}});return Dr.newFoundDocument(r,o,d,m)}(n,t):"missing"in t?function(e,i){Qt(!!i.missing),Qt(!!i.readTime);const r=lt(e,i.missing),o=Q(i.readTime);return Dr.newNoDocument(r,o)}(n,t):Vt()}(m.yt,G);P.set(Z.key.toString(),Z)});const B=[];return d.forEach(G=>{const Z=P.get(G.toString());Qt(!!Z),B.push(Z)}),B}),function(o,d){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new F_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Et.fromPath(r);t.mutations.push(new jD(o,t.precondition(o)))}),yield(i=(0,Be.Z)(function*(r,o){const d=Tt(r),m=fn(d.yt)+"/documents",v={writes:o.map(x=>qD(d.yt,x))};yield d.ao("Commit",m,v)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Vt();e=ln.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new tt(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(ln.min())?lr.exists(!1):lr.updateTime(e):lr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ln.min()))throw new tt(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lr.updateTime(e)}return lr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class l5{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new AR(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,Be.Z)(function*(){const e=new a5(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Fc(o)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!py(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!$D(e)}return!1}}class c5{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Js.UNAUTHENTICATED,this.clientId=k1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Be.Z)(function*(m){ut("FirestoreClient","Received user=",m.uid),yield o.authCredentialListener(m),o.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(ut("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,Be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Rx(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function bB(n,t){return AP.apply(this,arguments)}function AP(){return AP=(0,Be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Be.Z)(function*(o){i.isEqual(o)||(yield RL(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),AP.apply(this,arguments)}function yB(n,t){return MP.apply(this,arguments)}function MP(){return MP=(0,Be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield RP(n);ut("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>ZL(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>ZL(t.remoteStore,o)),n.onlineComponents=t}),MP.apply(this,arguments)}function RP(n){return PP.apply(this,arguments)}function PP(){return PP=(0,Be.Z)(function*(n){return n.offlineComponents||(ut("FirestoreClient","Using default OfflineComponentProvider"),yield bB(n,new aB)),n.offlineComponents}),PP.apply(this,arguments)}function Ok(n){return OP.apply(this,arguments)}function OP(){return OP=(0,Be.Z)(function*(n){return n.onlineComponents||(ut("FirestoreClient","Using default OnlineComponentProvider"),yield yB(n,new SP)),n.onlineComponents}),OP.apply(this,arguments)}function wB(n){return RP(n).then(t=>t.persistence)}function Nk(n){return RP(n).then(t=>t.localStore)}function NP(n){return Ok(n).then(t=>t.remoteStore)}function FP(n){return Ok(n).then(t=>t.syncEngine)}function Fx(n){return LP.apply(this,arguments)}function LP(){return LP=(0,Be.Z)(function*(n){const t=yield Ok(n),e=t.eventManager;return e.onListen=Lz.bind(null,t.syncEngine),e.onUnlisten=Bz.bind(null,t.syncEngine),e}),LP.apply(this,arguments)}function CB(n,t,e={}){const i=new Ls;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,o,d,m,v){const x=new Pk({next:P=>{o.enqueueAndForget(()=>XR(r,T));const B=P.docs.has(d);!B&&P.fromCache?v.reject(new tt(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&P.fromCache&&m&&"server"===m.source?v.reject(new tt(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(P)},error:P=>v.reject(P)}),T=new tP(Rf(d.path),x,{includeMetadataChanges:!0,Nu:!0});return KR(r,T)}(yield Fx(n),n.asyncQueue,t,e,i)})),i.promise}function EB(n,t,e={}){const i=new Ls;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,o,d,m,v){const x=new Pk({next:P=>{o.enqueueAndForget(()=>XR(r,T)),P.fromCache&&"server"===m.source?v.reject(new tt(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(P)},error:P=>v.reject(P)}),T=new tP(d,x,{includeMetadataChanges:!0,Nu:!0});return KR(r,T)}(yield Fx(n),n.asyncQueue,t,e,i)})),i.promise}class _5{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new AR(this,"async_queue_retry"),this.Wc=()=>{const e=Ik();e&&ut("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=Ik();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=Ik();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new Ls;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,Be.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!Mh(e))throw e;ut("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,_s("INTERNAL UNHANDLED ERROR: ",function(o){let d=o.message||"";return o.stack&&(d=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),d}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=ZR.createAndSchedule(this,t,e,i,o=>this.Yc(o));return this.Uc.push(r),r}zc(){this.Kc&&Vt()}verifyOperationInProgress(){}Xc(){var t=this;return(0,Be.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function BP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class v5{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Xr extends rT{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new _5,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DB(this),this._firestoreClient.terminate()}}function to(n){return n._firestoreClient||DB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function DB(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new P1(n._databaseId,o,n._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var o,m;n._firestoreClient=new c5(n._authCredentials,n._appCheckCredentials,n._queue,i)}function TB(n,t,e){const i=new Ls;return n.asyncQueue.enqueue((0,Be.Z)(function*(){try{yield bB(n,e),yield yB(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(d=o).name?d.code===Ne.FAILED_PRECONDITION||d.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw o;Cf("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var d})).then(()=>i.promise)}function SB(n){if(n._initialized||n._terminated)throw new tt(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class om{constructor(t){this._byteString=t}static fromBase64String(t){try{return new om(Do.fromBase64String(t))}catch(e){throw new tt(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new om(Do.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Lf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new tt(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Iy{constructor(t){this._methodName=t}}class Fk{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new tt(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new tt(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Fn(this._lat,t._lat)||Fn(this._long,t._long)}}const I5=/^__.*__$/;class k5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Nh(t,this.data,this.fieldMask,e,this.fieldTransforms):new N_(t,this.data,e,this.fieldTransforms)}}class IB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Nh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function kB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class Lk{constructor(t,e,i,r,o,d){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new Lk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Uk(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(kB(this.sa)&&I5.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class A5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||tT(t)}da(t,e,i,r=!1){return new Lk({sa:t,methodName:e,fa:i,path:cs.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ky(n){const t=n._freezeSettings(),e=tT(n._databaseId);return new A5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Bk(n,t,e,i,r,o={}){const d=n.da(o.merge||o.mergeFields?2:0,t,e,r);jP("Data must be an object, but it was:",d,i);const m=RB(i,d);let v,x;if(o.merge)v=new bs(d.fieldMask),x=d.fieldTransforms;else if(o.mergeFields){const T=[];for(const P of o.mergeFields){const B=$P(t,P,e);if(!d.contains(B))throw new tt(Ne.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);OB(T,B)||T.push(B)}v=new bs(T),x=d.fieldTransforms.filter(P=>v.covers(P.field))}else v=null,x=d.fieldTransforms;return new k5(new zo(m),v,x)}class sT extends Iy{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sT}}function AB(n,t,e){return new Lk({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class VP extends Iy{_toFieldTransform(t){return new by(t.path,new Oh)}isEqual(t){return t instanceof VP}}class M5 extends Iy{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=AB(this,t,!0),i=this._a.map(o=>Ay(o,e)),r=new Pf(i);return new by(t.path,r)}isEqual(t){return this===t}}class R5 extends Iy{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=AB(this,t,!0),i=this._a.map(o=>Ay(o,e)),r=new tm(i);return new by(t.path,r)}isEqual(t){return this===t}}class P5 extends Iy{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Of(t.yt,Z1(t.yt,this.wa));return new by(t.path,e)}isEqual(t){return this===t}}function UP(n,t,e,i){const r=n.da(1,t,e);jP("Data must be an object, but it was:",r,i);const o=[],d=zo.empty();Yp(i,(v,x)=>{const T=Vk(t,v,e);x=(0,Y.m9)(x);const P=r.ca(T);if(x instanceof sT)o.push(T);else{const B=Ay(x,P);null!=B&&(o.push(T),d.set(T,B))}});const m=new bs(o);return new IB(d,m,r.fieldTransforms)}function HP(n,t,e,i,r,o){const d=n.da(1,t,e),m=[$P(t,i,e)],v=[r];if(o.length%2!=0)throw new tt(Ne.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<o.length;B+=2)m.push($P(t,o[B])),v.push(o[B+1]);const x=[],T=zo.empty();for(let B=m.length-1;B>=0;--B)if(!OB(x,m[B])){const G=m[B];let Z=v[B];Z=(0,Y.m9)(Z);const le=d.ca(G);if(Z instanceof sT)x.push(G);else{const xe=Ay(Z,le);null!=xe&&(x.push(G),T.set(G,xe))}}const P=new bs(x);return new IB(T,P,d.fieldTransforms)}function MB(n,t,e,i=!1){return Ay(e,n.da(i?4:3,t))}function Ay(n,t){if(PB(n=(0,Y.m9)(n)))return jP("Unsupported field value:",t,n),RB(n,t);if(n instanceof Iy)return function(e,i){if(!kB(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const d of e){let m=Ay(d,i.aa(o));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Y.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Z1(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ji.fromDate(e);return{timestampValue:R(i.yt,r)}}if(e instanceof Ji){const r=new Ji(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:R(i.yt,r)}}if(e instanceof Fk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof om)return{bytesValue:L(i.yt,e._byteString)};if(e instanceof Qr){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:de(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${Mk(e)}`)}(n,t)}function RB(n,t){const e={};return ED(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yp(n,(i,r)=>{const o=Ay(r,t.ra(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function PB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ji||n instanceof Fk||n instanceof om||n instanceof Qr||n instanceof Iy)}function jP(n,t,e){if(!PB(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Mk(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function $P(n,t,e){if((t=(0,Y.m9)(t))instanceof Lf)return t._internalPath;if("string"==typeof t)return Vk(n,t);throw Uk("Field path arguments must be of type string or ",n,!1,void 0,e)}const O5=new RegExp("[~\\*/\\[\\]]");function Vk(n,t,e){if(t.search(O5)>=0)throw Uk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Lf(...t.split("."))._internalPath}catch{throw Uk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Uk(n,t,e,i,r){const o=i&&!i.isEmpty(),d=void 0!==r;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(o||d)&&(v+=" (found",o&&(v+=` in field ${i}`),d&&(v+=` in document ${r}`),v+=")"),new tt(Ne.INVALID_ARGUMENT,m+n+v)}function OB(n,t){return n.some(e=>e.isEqual(t))}class oT{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new N5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Hk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class N5 extends oT{data(){return super.data()}}function Hk(n,t){return"string"==typeof t?Vk(n,t):t instanceof Lf?t._internalPath:t._delegate._internalPath}function NB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tt(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zP{}class aT extends zP{}function j_(n,t,...e){let i=[];t instanceof zP&&i.push(t),i=i.concat(e),function(r){const o=r.filter(m=>m instanceof Lx).length,d=r.filter(m=>m instanceof lT).length;if(o>1||o>0&&d>0)throw new tt(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class lT extends aT{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new lT(t,e,i)}_apply(t){const e=this._parse(t);return VB(t._query,e),new Oa(t.firestore,t.converter,fx(t._query,e))}_parse(t){const e=ky(t.firestore);return function(r,o,d,m,v,x,T){let P;if(v.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new tt(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){BB(T,x);const B=[];for(const G of T)B.push(LB(m,r,G));P={arrayValue:{values:B}}}else P=LB(m,r,T)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||BB(T,x),P=MB(d,"where",T,"in"===x||"not-in"===x);return Qn.create(v,x,P)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Lx extends zP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Lx(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Vi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const d=r.getFlattenedFilters();for(const m of d)VB(o,m),o=fx(o,m)}(t._query,e),new Oa(t.firestore,t.converter,fx(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class GP extends aT{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new GP(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new tt(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new tt(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Af(r,o);return function(m,v){if(null===px(m)){const x=_y(m);null!==x&&UB(0,x,v.field)}}(i,d),d}(t._query,this._field,this._direction);return new Oa(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new em(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class jk extends aT{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new jk(t,e,i)}_apply(t){return new Oa(t.firestore,t.converter,gx(t._query,this._limit,this._limitType))}}class $k extends aT{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new $k(t,e,i)}_apply(t){const e=FB(t,this.type,this._docOrFields,this._inclusive);return new Oa(t.firestore,t.converter,(r=e,new em((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class zk extends aT{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new zk(t,e,i)}_apply(t){const e=FB(t,this.type,this._docOrFields,this._inclusive);return new Oa(t.firestore,t.converter,(r=e,new em((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function FB(n,t,e,i){if(e[0]=(0,Y.m9)(e[0]),e[0]instanceof oT)return function(r,o,d,m,v){if(!m)throw new tt(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const x=[];for(const T of Iu(r))if(T.field.isKeyField())x.push(kf(o,m.key));else{const P=m.data.field(T.field);if(qI(P))throw new tt(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const B=T.field.canonicalString();throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}x.push(P)}return new Xp(x,v)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=ky(n.firestore);return function(o,d,m,v,x,T){const P=o.explicitOrderBy;if(x.length>P.length)throw new tt(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let G=0;G<x.length;G++){const Z=x[G];if(P[G].field.isKeyField()){if("string"!=typeof Z)throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Z}`);if(!mx(o)&&-1!==Z.indexOf("/"))throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Z}' contains a slash.`);const le=o.path.child(gi.fromString(Z));if(!Et.isDocumentKey(le))throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const xe=new Et(le);B.push(kf(d,xe))}else{const le=MB(m,v,Z);B.push(le)}}return new Xp(B,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function LB(n,t,e){if("string"==typeof(e=(0,Y.m9)(e))){if(""===e)throw new tt(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mx(t)&&-1!==e.indexOf("/"))throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(gi.fromString(e));if(!Et.isDocumentKey(i))throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kf(n,new Et(i))}if(e instanceof Qr)return kf(n,e._key);throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mk(e)}.`)}function BB(n,t){if(!Array.isArray(n)||0===n.length)throw new tt(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new tt(Ne.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function VB(n,t){if(t.isInequality()){const i=_y(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=px(n);null!==o&&UB(0,r,o)}const e=function(i,r){for(const o of i)for(const d of o.getFlattenedFilters())if(r.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new tt(Ne.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function UB(n,t,e){if(!e.isEqual(t))throw new tt(Ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class qP{convertValue(t,e="none"){switch(Zp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(M_(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Vt()}}convertObject(t,e){const i={};return Yp(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new Fk(vs(t.latitude),vs(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=N1(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(rx(t));default:return null}}convertTimestamp(t){const e=If(t);return new Ji(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=gi.fromString(t);Qt(Z2(i));const r=new Rh(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return r.isEqual(e)||_s(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Gk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class z5 extends qP{constructor(t){super(),this.firestore=t}convertBytes(t){return new om(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qr(this.firestore,null,e)}}class My{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bf extends oT{constructor(t,e,i,r,o,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new cT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Hk("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class cT extends Bf{data(t={}){return super.data(t)}}class $_{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new My(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new cT(this._firestore,this._userDataWriter,i.key,i,new My(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tt(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new cT(i._firestore,i._userDataWriter,d.doc.key,d.doc,new My(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const m=new cT(i._firestore,i._userDataWriter,d.doc.key,d.doc,new My(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,x=-1;return 0!==d.type&&(v=o.indexOf(d.doc.key),o=o.delete(d.doc.key)),1!==d.type&&(o=o.add(d.doc),x=o.indexOf(d.doc.key)),{type:G5(d.type),doc:m,oldIndex:v,newIndex:x}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function G5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}function jB(n,t){return n instanceof Bf&&t instanceof Bf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof $_&&t instanceof $_&&n._firestore===t._firestore&&kP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class z_ extends qP{constructor(t){super(),this.firestore=t}convertBytes(t){return new om(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qr(this.firestore,null,e)}}function $B(n,t,e){n=_i(n,Qr);const i=_i(n.firestore,Xr),r=Gk(n.converter,t,e);return Bx(i,[Bk(ky(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,lr.none())])}function zB(n,t,e,...i){n=_i(n,Qr);const r=_i(n.firestore,Xr),o=ky(r);let d;return d="string"==typeof(t=(0,Y.m9)(t))||t instanceof Lf?HP(o,"updateDoc",n._key,t,e,i):UP(o,"updateDoc",n._key,t),Bx(r,[d.toMutation(n._key,lr.exists(!0))])}function GB(n,...t){var e,i,r;n=(0,Y.m9)(n);let o={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||BP(t[d])||(o=t[d],d++);const m={includeMetadataChanges:o.includeMetadataChanges};if(BP(t[d])){const P=t[d];t[d]=null===(e=P.next)||void 0===e?void 0:e.bind(P),t[d+1]=null===(i=P.error)||void 0===i?void 0:i.bind(P),t[d+2]=null===(r=P.complete)||void 0===r?void 0:r.bind(P)}let v,x,T;if(n instanceof Qr)x=_i(n.firestore,Xr),T=Rf(n._key.path),v={next:P=>{t[d]&&t[d](WP(x,n,P))},error:t[d+1],complete:t[d+2]};else{const P=_i(n,Oa);x=_i(P.firestore,Xr),T=P._query;const B=new z_(x);v={next:G=>{t[d]&&t[d](new $_(x,B,P,G))},error:t[d+1],complete:t[d+2]},NB(n._query)}return function(P,B,G,Z){const le=new Pk(Z),xe=new tP(B,le,G);return P.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return KR(yield Fx(P),xe)})),()=>{le.bc(),P.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return XR(yield Fx(P),xe)}))}}(to(x),T,m,v)}function Bx(n,t){return function(e,i){const r=new Ls;return e.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function Vz(n,t,e){return oP.apply(this,arguments)}(yield FP(e),i,r)})),r.promise}(to(n),t)}function WP(n,t,e){const i=e.docs.get(t._key),r=new z_(n);return new Bf(n,r,t._key,i,new My(e.hasPendingWrites,e.fromCache),t.converter)}const tG={maxAttempts:5};class qB{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ky(t)}set(t,e,i){this._verifyNotCommitted();const r=G_(t,this._firestore),o=Gk(r.converter,e,i),d=Bk(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,lr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=G_(t,this._firestore);let d;return d="string"==typeof(e=(0,Y.m9)(e))||e instanceof Lf?HP(this._dataReader,"WriteBatch.update",o._key,e,i,r):UP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(d.toMutation(o._key,lr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=G_(t,this._firestore);return this._mutations=this._mutations.concat(new F_(e._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function G_(n,t){if((n=(0,Y.m9)(n)).firestore!==t)throw new tt(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class nG extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=ky(t)}get(t){const e=G_(t,this._firestore),i=new z5(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Vt();const o=r[0];if(o.isFoundDocument())return new oT(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new oT(this._firestore,i,e._key,null,e.converter);throw Vt()})}set(t,e,i){const r=G_(t,this._firestore),o=Gk(r.converter,e,i),d=Bk(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(t,e,i,...r){const o=G_(t,this._firestore);let d;return d="string"==typeof(e=(0,Y.m9)(e))||e instanceof Lf?HP(this._dataReader,"Transaction.update",o._key,e,i,r):UP(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,d),this}delete(t){const e=G_(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=G_(t,this._firestore),i=new z_(this._firestore);return super.get(t).then(r=>new Bf(this._firestore,i,e._key,r._document,new My(!1,!1),e.converter))}}function YP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function YB(){if(typeof Uint8Array>"u")throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function ZB(){if(!function GI(){return typeof atob<"u"}())throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Gp=Co.SDK_VERSION,(0,Co._registerComponent)(new ml.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),d=new Xr(new S1(e.getProvider("auth-internal")),new A_(e.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new tt(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(m.options.projectId,v)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),d._setSettings(r),d},"PUBLIC").setMultipleInstances(!0)),(0,Co.registerVersion)(Jw,"3.8.0",n),(0,Co.registerVersion)(Jw,"3.8.0","esm2017")}();class dT{constructor(t){this._delegate=t}static fromBase64String(t){return ZB(),new dT(om.fromBase64String(t))}static fromUint8Array(t){return YB(),new dT(om.fromUint8Array(t))}toBase64(){return ZB(),this._delegate.toBase64()}toUint8Array(){return YB(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ZP(n){return function uG(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class hG{enableIndexedDbPersistence(t,e){return function y5(n,t){SB(n=_i(n,Xr));const e=to(n),i=n._freezeSettings(),r=new SP;return TB(e,r,new lB(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function w5(n){SB(n=_i(n,Xr));const t=to(n),e=n._freezeSettings(),i=new SP;return TB(t,i,new t5(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function x5(n){if(n._initialized&&!n._terminated)throw new tt(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ls;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{yield(e=(0,Be.Z)(function*(i){if(!Dd.C())return Promise.resolve();const r=i+"main";yield Dd.delete(r)}),function(i){return e.apply(this,arguments)})(yR(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class KB{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Rh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Cf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function fB(n,t,e,i={}){var r;const o=(n=_i(n,rT))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Cf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let d,m;if("string"==typeof i.mockUserToken)d=i.mockUserToken,m=Js.MOCK_USER;else{d=(0,Y.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new tt(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Js(v)}n._authCredentials=new FI(new OI(d,m))}}(this._delegate,t,e,i)}enableNetwork(){return function E5(n){return function d5(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const t=yield wB(n),e=yield NP(n);return t.setNetworkEnabled(!0),function(i){const r=Tt(i);return r._u.delete(0),nT(r)}(e)}))}(to(n=_i(n,Xr)))}(this._delegate)}disableNetwork(){return function D5(n){return function u5(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const t=yield wB(n),e=yield NP(n);return t.setNetworkEnabled(!1),(i=(0,Be.Z)(function*(r){const o=Tt(r);o._u.add(0),yield kx(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(to(n=_i(n,Xr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,cB("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function C5(n){return function(t){const e=new Ls;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function $z(n,t){return uP.apply(this,arguments)}(yield FP(t),e)})),e.promise}(to(n=_i(n,Xr)))}(this._delegate)}onSnapshotsInSync(t){return function eG(n,t){return function m5(n,t){const e=new Pk(t);return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield Fx(n),r=e,Tt(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield Fx(n),r=e,void Tt(i).Ru.delete(r);var i,r}))}}(to(n=_i(n,Xr)),BP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Vx(this,gB(this._delegate,t))}catch(e){throw ec(e,"collection()","Firestore.collection()")}}doc(t){try{return new Au(this,Rk(this._delegate,t))}catch(e){throw ec(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new tc(this,function n5(n,t){if(n=_i(n,rT),IP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tt(Ne.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oa(n,null,(e=t,new em(gi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ec(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function iG(n,t,e){n=_i(n,Xr);const i=Object.assign(Object.assign({},tG),e);return function(r){if(r.maxAttempts<1)throw new tt(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,d){const m=new Ls;return r.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){const v=yield function xB(n){return Ok(n).then(t=>t.datastore)}(r);new l5(r.asyncQueue,v,d,o,m).run()})),m.promise}(to(n),r=>t(new nG(n,r)),i)}(this._delegate,e=>t(new QB(this,e)))}batch(){return to(this._delegate),new XB(new qB(this._delegate,t=>Bx(this._delegate,t)))}loadBundle(t){return function T5(n,t){const e=to(n=_i(n,Xr)),i=new v5;return function f5(n,t,e,i){const r=function(o,d){let m;return m="string"==typeof o?(new TextEncoder).encode(o):o,v=function(v,x){if(v instanceof Uint8Array)return vB(v,x);if(v instanceof ArrayBuffer)return vB(new Uint8Array(v),x);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new r5(v,d);var v}(e,tT(t));n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){!function e5(n,t,e){const i=Tt(n);var r;(r=(0,Be.Z)(function*(o,d,m){try{const v=yield d.getMetadata();if(yield function(B,G){const Z=Tt(B),le=Q(G.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",xe=>Z.Ns.getBundleMetadata(xe,G.id)).then(xe=>!!xe&&xe.createTime.compareTo(le)>=0)}(o.localStore,v))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(B=v).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);m._updateProgress(XL(v));const x=new Pz(v,o.localStore,d.yt);let T=yield d.mc();for(;T;){const B=yield x.Fu(T);B&&m._updateProgress(B),T=yield d.mc()}const P=yield x.complete();return yield Ff(o,P.Lu,void 0),yield function(B,G){const Z=Tt(B);return Z.persistence.runTransaction("Save bundle","readwrite",le=>Z.Ns.saveBundleMetadata(le,G))}(o.localStore,v),m._completeWith(P.progress),Promise.resolve(P.Bu)}catch(v){return Cf("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var B}),function(o,d,m){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield FP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function S5(n,t){return function g5(n,t){return n.asyncQueue.enqueue((0,Be.Z)(function*(){return function(e,i){const r=Tt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield Nk(n),t)}))}(to(n=_i(n,Xr)),t).then(e=>e?new Oa(n,null,e.query):null)}(this._delegate,t).then(e=>e?new tc(this,e):null)}}class qk extends qP{constructor(t){super(),this.firestore=t}convertBytes(t){return new dT(new om(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Au.forKey(e,this.firestore,null)}}class QB{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new qk(t)}get(t){const e=Py(t);return this._delegate.get(e).then(i=>new uT(this._firestore,new Bf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Py(t);return i?(YP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Py(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Py(t);return this._delegate.delete(e),this}}class XB{constructor(t){this._delegate=t}set(t,e,i){const r=Py(t);return i?(YP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Py(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Py(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ry{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new cT(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new hT(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ry.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Ry(t,new qk(t),e),r.set(e,o)),o}}Ry.INSTANCES=new WeakMap;class Au{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qk(t)}static forPath(t,e,i){if(t.length%2!=0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Au(e,new Qr(e._delegate,i,new Et(t)))}static forKey(t,e,i){return new Au(e,new Qr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Vx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Vx(this.firestore,gB(this._delegate,t))}catch(e){throw ec(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Y.m9)(t))instanceof Qr&&_B(this._delegate,t)}set(t,e){e=YP("DocumentReference.set",e);try{return e?$B(this._delegate,t,e):$B(this._delegate,t)}catch(i){throw ec(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?zB(this._delegate,t):zB(this._delegate,t,e,...i)}catch(r){throw ec(r,"updateDoc()","DocumentReference.update()")}}delete(){return function X5(n){return Bx(_i(n.firestore,Xr),[new F_(n._key,lr.none())])}(this._delegate)}onSnapshot(...t){const e=JB(t),i=eV(t,r=>new uT(this.firestore,new Bf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return GB(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function W5(n){n=_i(n,Qr);const t=_i(n.firestore,Xr),e=to(t),i=new z_(t);return function h5(n,t){const e=new Ls;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,o,d){try{const m=yield function(v,x){const T=Tt(v);return T.persistence.runTransaction("read document","readonly",P=>T.localDocuments.getDocument(P,x))}(r,o);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new tt(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Rx(m,`Failed to get document '${o} from cache`);d.reject(v)}}),function(r,o,d){return i.apply(this,arguments)})(yield Nk(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Bf(t,i,n._key,r,new My(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Y5(n){n=_i(n,Qr);const t=_i(n.firestore,Xr);return CB(to(t),n._key,{source:"server"}).then(e=>WP(t,n,e))}(this._delegate):function q5(n){n=_i(n,Qr);const t=_i(n.firestore,Xr);return CB(to(t),n._key).then(e=>WP(t,n,e))}(this._delegate),e.then(i=>new uT(this.firestore,new Bf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Au(this.firestore,this._delegate.withConverter(t?Ry.getInstance(this.firestore,t):null))}}function ec(n,t,e){return n.message=n.message.replace(t,e),n}function JB(n){for(const t of n)if("object"==typeof t&&!ZP(t))return t;return{}}function eV(n,t){var e,i;let r;return r=ZP(n[0])?n[0]:ZP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class uT{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Au(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return jB(this._delegate,t._delegate)}}class hT extends uT{data(t){const e=this._delegate.data(t);return function gD(n,t){n||Vt()}(void 0!==e),e}}class tc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qk(t)}where(t,e,i){try{return new tc(this.firestore,j_(this._delegate,function F5(n,t,e){const i=t,r=Hk("where",n);return lT._create(r,i,e)}(t,e,i)))}catch(r){throw ec(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new tc(this.firestore,j_(this._delegate,function L5(n,t="asc"){const e=t,i=Hk("orderBy",n);return GP._create(i,e)}(t,e)))}catch(i){throw ec(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new tc(this.firestore,j_(this._delegate,function B5(n){return hB("limit",n),jk._create("limit",n,"F")}(t)))}catch(e){throw ec(e,"limit()","Query.limit()")}}limitToLast(t){try{return new tc(this.firestore,j_(this._delegate,function V5(n){return hB("limitToLast",n),jk._create("limitToLast",n,"L")}(t)))}catch(e){throw ec(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new tc(this.firestore,j_(this._delegate,function U5(...n){return $k._create("startAt",n,!0)}(...t)))}catch(e){throw ec(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new tc(this.firestore,j_(this._delegate,function H5(...n){return $k._create("startAfter",n,!1)}(...t)))}catch(e){throw ec(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new tc(this.firestore,j_(this._delegate,function j5(...n){return zk._create("endBefore",n,!1)}(...t)))}catch(e){throw ec(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new tc(this.firestore,j_(this._delegate,function $5(...n){return zk._create("endAt",n,!0)}(...t)))}catch(e){throw ec(e,"endAt()","Query.endAt()")}}isEqual(t){return kP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function K5(n){n=_i(n,Oa);const t=_i(n.firestore,Xr),e=to(t),i=new z_(t);return function p5(n,t){const e=new Ls;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,o,d){try{const m=yield Dk(r,o,!0),v=new tB(o,m.Hi),x=v.Wu(m.documents),T=v.applyChanges(x,!1);d.resolve(T.snapshot)}catch(m){const v=Rx(m,`Failed to execute query '${o} against cache`);d.reject(v)}}),function(r,o,d){return i.apply(this,arguments)})(yield Nk(n),t,e);var i})),e.promise}(e,n._query).then(r=>new $_(t,i,n,r))}(this._delegate):"server"===t?.source?function Q5(n){n=_i(n,Oa);const t=_i(n.firestore,Xr),e=to(t),i=new z_(t);return EB(e,n._query,{source:"server"}).then(r=>new $_(t,i,n,r))}(this._delegate):function Z5(n){n=_i(n,Oa);const t=_i(n.firestore,Xr),e=to(t),i=new z_(t);return NB(n._query),EB(e,n._query).then(r=>new $_(t,i,n,r))}(this._delegate),e.then(i=>new KP(this.firestore,new $_(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=JB(t),i=eV(t,r=>new KP(this.firestore,new $_(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return GB(this._delegate,e,i)}withConverter(t){return new tc(this.firestore,this._delegate.withConverter(t?Ry.getInstance(this.firestore,t):null))}}class mG{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new hT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new tc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new hT(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new mG(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new hT(this._firestore,i))})}isEqual(t){return jB(this._delegate,t._delegate)}}class Vx extends tc{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Au(this.firestore,t):null}doc(t){try{return new Au(this.firestore,void 0===t?Rk(this._delegate):Rk(this._delegate,t))}catch(e){throw ec(e,"doc()","CollectionReference.doc()")}}add(t){return function J5(n,t){const e=_i(n.firestore,Xr),i=Rk(n),r=Gk(n.converter,t);return Bx(e,[Bk(ky(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,lr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Au(this.firestore,e))}isEqual(t){return _B(this._delegate,t._delegate)}withConverter(t){return new Vx(this.firestore,this._delegate.withConverter(t?Ry.getInstance(this.firestore,t):null))}}function Py(n){return _i(n,Qr)}class QP{constructor(...t){this._delegate=new Lf(...t)}static documentId(){return new QP(cs.keyField().canonicalString())}isEqual(t){return(t=(0,Y.m9)(t))instanceof Lf&&this._delegate._internalPath.isEqual(t._internalPath)}}class Oy{constructor(t){this._delegate=t}static serverTimestamp(){const t=function sG(){return new VP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Oy(t)}static delete(){const t=function rG(){return new sT("deleteField")}();return t._methodName="FieldValue.delete",new Oy(t)}static arrayUnion(...t){const e=function oG(...n){return new M5("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Oy(e)}static arrayRemove(...t){const e=function aG(...n){return new R5("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Oy(e)}static increment(t){const e=function lG(n){return new P5("increment",n)}(t);return e._methodName="FieldValue.increment",new Oy(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const fG={Firestore:KB,GeoPoint:Fk,Timestamp:Ji,Blob:dT,Transaction:QB,WriteBatch:XB,DocumentReference:Au,DocumentSnapshot:uT,Query:tc,QueryDocumentSnapshot:hT,QuerySnapshot:KP,CollectionReference:Vx,FieldPath:QP,FieldValue:Oy,setLogLevel:function pG(n){!function mD(n){Tu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function _G(n){(function gG(n,t){n.INTERNAL.registerComponent(new ml.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},fG)))})(n,(t,e)=>new KB(t,e,new hG)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(Bb.Z);var nc=K(6451),Wk=K(5363),vG=K(6063);class bG extends gt.x{constructor(t=1/0,e=1/0,i=vG.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:d}=this;e||(i.push(t),!r&&i.push(o.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let d=0;d<o.length&&!t.closed;d+=i?1:2)t.next(o[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const d=e.now();let m=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)m=v;m&&i.splice(0,m+1)}}}var XP=K(3099);function tV(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,XP.B)({connector:()=>new bG(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function nV(n,t){return(0,Ni.m)(t)?Di(()=>n,t):Di(()=>n)}var JP=K(9468);K(259);const tO=new Map,rV={activated:!1,tokenObservers:[]},EG={initialized:!1,enabled:!1};function Na(n){return tO.get(n)||Object.assign({},rV)}function Zk(){return EG}class AG{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Be.Z)(function*(){e.stop();try{e.pending=new Y.BH,yield function MG(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Y.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ic=new Y.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function oV(n){if(!Na(n).activated)throw ic.create("use-before-activation",{appName:n.name})}function rO(n,t){return sO.apply(this,arguments)}function sO(){return sO=(0,Be.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const P=yield r.getHeartbeatsHeader();P&&(i["X-Firebase-Client"]=P)}const o={method:"POST",body:JSON.stringify(t),headers:i};let d,m;try{d=yield fetch(n,o)}catch(P){throw ic.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==d.status)throw ic.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(P){throw ic.create("fetch-parse-error",{originalErrorMessage:P?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw ic.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const x=1e3*Number(v[1]),T=Date.now();return{token:m.token,expireTimeMillis:T+x,issuedAtTimeMillis:T}}),sO.apply(this,arguments)}function NG(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const pT="firebase-app-check-store";let Xk=null;function lV(){return Xk||(Xk=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ic.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(pT,{keyPath:"compositeKey"})}}catch(e){t(ic.create("storage-open",{originalErrorMessage:e?.message}))}}),Xk)}function oO(){return oO=(0,Be.Z)(function*(n,t){const i=(yield lV()).transaction(pT,"readwrite"),o=i.objectStore(pT).put({compositeKey:n,value:t});return new Promise((d,m)=>{o.onsuccess=v=>{d()},i.onerror=v=>{var x;m(ic.create("storage-set",{originalErrorMessage:null===(x=v.target.error)||void 0===x?void 0:x.message}))}})}),oO.apply(this,arguments)}const mT=new xd.Yd("@firebase/app-check");function cO(n,t){return(0,Y.hl)()?function VG(n,t){return function cV(n,t){return oO.apply(this,arguments)}(function uV(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{mT.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function hV(){return Zk().enabled}function pV(){return uO.apply(this,arguments)}function uO(){return uO=(0,Be.Z)(function*(){const n=Zk();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),uO.apply(this,arguments)}const GG={error:"UNKNOWN_ERROR"};function qG(n){return Y.US.encodeString(JSON.stringify(n),!1)}function Jk(n){return hO.apply(this,arguments)}function hO(){return hO=(0,Be.Z)(function*(n,t=!1){const e=n.app;oV(e);const i=Na(e);let o,r=i.token;if(r&&!Ux(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(Ux(v)?r=v:yield cO(e,void 0))}if(!t&&r&&Ux(r))return{token:r.token};let m,d=!1;if(hV()){i.exchangeTokenPromise||(i.exchangeTokenPromise=rO(NG(e,yield pV()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const v=yield i.exchangeTokenPromise;return yield cO(e,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield Na(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?mT.warn(v.message):mT.error(v),o=v}return r?o?m=Ux(r)?{token:r.token,internalError:o}:gV(o):(m={token:r.token},i.token=r,yield cO(e,r)):m=gV(o),d&&fV(e,m),m}),hO.apply(this,arguments)}function mO(n,t){const e=Na(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function mV(n){const{app:t}=n,e=Na(t);let i=e.tokenRefresher;i||(i=function WG(n){const{app:t}=n;return new AG((0,Be.Z)(function*(){let i;if(i=Na(t).token?yield Jk(n,!0):yield Jk(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Na(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function fV(n,t){const e=Na(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Ux(n){return n.expireTimeMillis-Date.now()>0}function gV(n){return{token:qG(GG),error:n}}class YG{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Na(this.app);for(const e of t)mO(this.app,e.next);return Promise.resolve()}}const EV="app-check-internal";!function lq(){(0,Co._registerComponent)(new ml.wA("app-check",n=>function ZG(n,t){return new YG(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(EV).initialize()})),(0,Co._registerComponent)(new ml.wA(EV,n=>function KG(n){return{getToken:t=>Jk(n,t),addTokenListener:t=>function pO(n,t,e,i){const{app:r}=n,o=Na(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&Ux(o.token)){const m=o.token;Promise.resolve().then(()=>{e({token:m.token}),mV(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mV(n))}(n,"INTERNAL",t),removeTokenListener:t=>mO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Co.registerVersion)("@firebase/app-check","0.6.0")}();class fT{constructor(){return(0,On.vb)("app-check")}}typeof window<"u"&&window;var tA=K(9260);const bO=new a.OlP("angularfire2.auth.use-emulator"),yO=new a.OlP("angularfire2.auth.settings"),wO=new a.OlP("angularfire2.auth.tenant-id"),xO=new a.OlP("angularfire2.auth.langugage-code"),CO=new a.OlP("angularfire2.auth.use-device-language"),EO=new a.OlP("angularfire.auth.persistence"),DO=(n,t,e,i,r,o,d,m)=>(0,Li.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=r,o&&v.useDeviceLanguage(),d)for(const[x,T]of Object.entries(d))v.settings[x]=T;return m&&v.setPersistence(m),v},[e,i,r,o,d,m]);let gT=(()=>{class n{constructor(e,i,r,o,d,m,v,x,T,P,B,G){const Z=new gt.x,le=bt(void 0).pipe((0,Wk.Q)(d.outsideAngular),Di(()=>o.runOutsideAngular(()=>Promise.resolve().then(K.bind(K,9568)))),(0,N.U)(()=>(0,Li.on)(e,o,i)),(0,N.U)(xe=>DO(xe,o,m,x,T,P,v,B)),tV({bufferSize:1,refCount:!1}));if(cc(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{le.pipe(il()).subscribe();const Xe=le.pipe(Di(wt=>wt.getRedirectResult().then(an=>an,()=>null)),On.iC,tV({bufferSize:1,refCount:!1})),_t=le.pipe(Di(wt=>new Ei.y(an=>({unsubscribe:o.runOutsideAngular(()=>wt.onAuthStateChanged(hn=>an.next(hn),hn=>an.error(hn),()=>an.complete()))})))),vt=le.pipe(Di(wt=>new Ei.y(an=>({unsubscribe:o.runOutsideAngular(()=>wt.onIdTokenChanged(hn=>an.next(hn),hn=>an.error(hn),()=>an.complete()))}))));this.authState=Xe.pipe(nV(_t),(0,JP.R)(d.outsideAngular),(0,Wk.Q)(d.insideAngular)),this.user=Xe.pipe(nV(vt),(0,JP.R)(d.outsideAngular),(0,Wk.Q)(d.insideAngular)),this.idToken=this.user.pipe(Di(wt=>wt?(0,Pn.D)(wt.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(Di(wt=>wt?(0,Pn.D)(wt.getIdTokenResult()):bt(null))),this.credential=(0,nc.T)(Xe,Z,this.authState.pipe(Wn(wt=>!wt))).pipe((0,N.U)(wt=>wt?.user?wt:null),(0,JP.R)(d.outsideAngular),(0,Wk.Q)(d.insideAngular))}return(0,Li.pX)(this,le,o,{spy:{apply:(xe,Xe,_t)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&_t.then(vt=>Z.next(vt))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Li.Dh),a.LFG(Li.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(On.HU),a.LFG(bO,8),a.LFG(yO,8),a.LFG(wO,8),a.LFG(xO,8),a.LFG(CO,8),a.LFG(EO,8),a.LFG(fT,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mq=(()=>{class n{constructor(){tA.Z.registerVersion("angularfire",On.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[gT]}),n})();function TV(n,t){return function fq(n,t=fl.z){return new Ei.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function TO(n,t){return TV(n,t).pipe((0,N.U)(e=>({payload:e,type:"query"})))}function nA(n,t){return TO(n,t).pipe(Wr(void 0),Pp(),(0,N.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,m)=>{const v=r.find(T=>T.doc.ref.isEqual(d.ref)),x=e?.payload.docs.find(T=>T.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&x&&JSON.stringify(x.metadata)===JSON.stringify(d.metadata)||o.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),o}))}function SV(n,t,e){return nA(n,e).pipe(cd((i,r)=>function _q(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function vq(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return SO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return SO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return SO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Op(),(0,N.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function SO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function IV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=nA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,N.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Wr(void 0),Pp(),Wn(([i,r])=>r.length>0||!i),(0,N.U)(([i,r])=>r),On.iC)}auditTrail(t){return this.stateChanges(t).pipe(cd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=IV(t);return SV(this.query,e,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(t={}){return TO(this.query,this.afs.schedulers.outsideAngular).pipe((0,N.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),On.iC)}get(t){return(0,Pn.D)(this.query.get(t)).pipe(On.iC)}add(t){return this.ref.add(t)}doc(t){return new AV(this.ref.doc(t),this.afs)}}class AV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=PV(i,e);return new kV(r,o,this.afs)}snapshotChanges(){return function gq(n,t){return TV(n,t).pipe(Wr(void 0),Pp(),(0,N.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,N.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Pn.D)(this.ref.get(t)).pipe(On.iC)}}class bq{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?nA(this.query,this.afs.schedulers.outsideAngular).pipe((0,N.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Wn(e=>e.length>0),On.iC):nA(this.query,this.afs.schedulers.outsideAngular).pipe(On.iC)}auditTrail(t){return this.stateChanges(t).pipe(cd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=IV(t);return SV(this.query,e,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(t={}){return TO(this.query,this.afs.schedulers.outsideAngular).pipe((0,N.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),On.iC)}get(t){return(0,Pn.D)(this.query.get(t)).pipe(On.iC)}}const MV=new a.OlP("angularfire2.enableFirestorePersistence"),RV=new a.OlP("angularfire2.firestore.persistenceSettings"),yq=new a.OlP("angularfire2.firestore.settings"),wq=new a.OlP("angularfire2.firestore.use-emulator");function PV(n,t=(e=>e)){return{query:t(n),ref:n}}let IO,OV=(()=>{class n{constructor(e,i,r,o,d,m,v,x,T,P,B,G,Z,le,xe,Xe,_t){this.schedulers=v;const vt=(0,Li.on)(e,m,i),wt=T;P&&DO(vt,m,B,Z,le,xe,G,Xe),[this.firestore,this.persistenceEnabled$]=(0,Li.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const an=m.runOutsideAngular(()=>vt.firestore());if(o&&an.settings(o),wt&&an.useEmulator(...wt),r&&!cc(d)){const hn=()=>{try{return(0,Pn.D)(an.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(ti){return typeof console<"u"&&console.warn(ti),bt(!1)}};return[an,m.runOutsideAngular(hn)]}return[an,bt(!1)]},[o,wt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:d}=PV(r,i),m=this.schedulers.ngZone.run(()=>o);return new kV(m,d,this)}collectionGroup(e,i){const r=i||(d=>d),o=this.firestore.collectionGroup(e);return new bq(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new AV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Li.Dh),a.LFG(Li.xv,8),a.LFG(MV,8),a.LFG(yq,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(On.HU),a.LFG(RV,8),a.LFG(wq,8),a.LFG(gT,8),a.LFG(bO,8),a.LFG(yO,8),a.LFG(wO,8),a.LFG(xO,8),a.LFG(CO,8),a.LFG(EO,8),a.LFG(fT,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xq=(()=>{class n{constructor(){tA.Z.registerVersion("angularfire",On.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:MV,useValue:!0},{provide:RV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[OV]}),n})();try{IO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{IO=!1}let Hx,us=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Qc(n){return n===zh}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!IO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function FV(){if(Hx)return Hx;if("object"!=typeof document||!document)return Hx=new Set(NV),Hx;let n=document.createElement("input");return Hx=new Set(NV.filter(t=>(n.setAttribute("type",t),n.type===t))),Hx}let _T,iA,Ny,kO;function q_(n){return function Cq(){if(null==_T&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_T=!0}))}finally{_T=_T||!1}return _T}()?n:!!n.capture}function LV(){if(null==Ny){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ny=!1,Ny;if("scrollBehavior"in document.documentElement.style)Ny=!0;else{const n=Element.prototype.scrollTo;Ny=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ny}function vT(){if("object"!=typeof document||!document)return 0;if(null==iA){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),iA=0,0===n.scrollLeft&&(n.scrollLeft=1,iA=0===n.scrollLeft?1:2),n.remove()}return iA}function rA(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Vf(n){return n.composedPath?n.composedPath()[0]:n.target}function AO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Fh(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function yT(n,t=fl.z){return(0,Or.e)((e,i)=>{let r=null,o=null,d=null;const m=()=>{if(r){r.unsubscribe(),r=null;const x=o;o=null,i.next(x)}};function v(){const x=d+n,T=t.now();if(T<x)return r=this.schedule(void 0,x-T),void i.add(r);m()}e.subscribe((0,Ue.x)(i,x=>{o=x,d=t.now(),r||(r=t.schedule(v,n),i.add(r))},()=>{m(),i.complete()},void 0,()=>{o=r=null}))})}function VV(n){return Wn((t,e)=>n<=e)}var OO=K(5032);function Xn(n){return(0,Or.e)((t,e)=>{(0,Ws.Xf)(n).subscribe((0,Ue.x)(e,()=>e.complete(),OO.Z)),!e.closed&&t.subscribe(e)})}function Gt(n){return null!=n&&"false"!=`${n}`}function Lh(n,t=0){return function Hq(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function aA(n){return Array.isArray(n)?n:[n]}function So(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Uf(n){return n instanceof a.SBq?n.nativeElement:n}let UV=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jq=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Uf(e);return new Ei.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new gt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(UV))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NO=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Gt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Lh(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(yT(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(jq),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),lA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[UV]}),n})();const HV=new Set;let jx,$q=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Gq}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function zq(n){if(!HV.has(n))try{jx||(jx=document.createElement("style"),jx.setAttribute("type","text/css"),document.head.appendChild(jx)),jx.sheet&&(jx.sheet.insertRule(`@media ${n} {body{ }}`,0),HV.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(us))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gq(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let FO=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new gt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return jV(aA(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Bt(jV(aA(e)).map(d=>this._registerQuery(d).observable));return o=Oi(o.pipe(li(1)),o.pipe(VV(1),yT(0))),o.pipe((0,N.U)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:v,query:x})=>{m.matches=m.matches||v,m.breakpoints[x]=v}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Ei.y(d=>{const m=v=>this._zone.run(()=>d.next(v));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(Wr(i),(0,N.U)(({matches:d})=>({query:e,matches:d})),Xn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($q),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jV(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class Zq{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new gt.x,this._typeaheadSubscription=Ys.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new gt.x,this.change=new gt.x,t instanceof a.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Kn.b)(e=>this._pressedLetters.push(e)),yT(t),Wn(()=>this._pressedLetters.length>0),(0,N.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,d=i[o];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(o<d?o:d-1,-1);break}return;default:return void((r||Fh(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class LO extends Zq{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let wT=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Qq(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Kq(n){try{return n.frameElement}catch{return null}}(function sW(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===qV(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=qV(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function iW(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function rW(n){return!function Jq(n){return function tW(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Xq(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function eW(n){return function nW(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||GV(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(us))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function qV(n){if(!GV(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class oW{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(li(1)).subscribe(t)}}let cA=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new oW(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(wT),a.LFG(a.R0b),a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function YV(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const aW=new a.OlP("cdk-input-modality-detector-options"),lW={ignoreKeys:[18,17,224,91,16]},$x=q_({passive:!0,capture:!0});let cW=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new $i(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(m=>m===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vf(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(WV(d)?"keyboard":"mouse"),this._mostRecentTarget=Vf(d))},this._onTouchstart=d=>{YV(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vf(d))},this._options={...lW,...o},this.modalityDetected=this._modality.pipe(VV(1)),this.modalityChanged=this.modalityDetected.pipe(Op()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,$x),r.addEventListener("mousedown",this._onMousedown,$x),r.addEventListener("touchstart",this._onTouchstart,$x)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$x),document.removeEventListener("mousedown",this._onMousedown,$x),document.removeEventListener("touchstart",this._onTouchstart,$x))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(us),a.LFG(a.R0b),a.LFG(_e),a.LFG(aW,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dW=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function uW(){return null}}),hW=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pW=0,KV=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[o,d]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==d&&r&&(d=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(m=>this._currentResolve=m)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+pW++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],d=o.getAttribute("aria-owns");d?-1===d.indexOf(e)&&o.setAttribute("aria-owns",d+" "+e):o.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(dW,8),a.LFG(a.R0b),a.LFG(_e),a.LFG(hW,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mW=new a.OlP("cdk-focus-monitor-default-options"),dA=q_({passive:!0,capture:!0});let Bh=(()=>{class n{constructor(e,i,r,o,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gt.x,this._rootNodeFocusAndBlurListener=m=>{for(let x=Vf(m);x;x=x.parentElement)"focus"===m.type?this._onFocus(m,x):this._onBlur(m,x)},this._document=o,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const r=Uf(e);if(!this._platform.isBrowser||1!==r.nodeType)return bt(null);const o=function Dq(n){if(function Eq(){if(null==kO){const n=typeof document<"u"?document.head:null;kO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return kO}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const m={checkChildren:i,subject:new gt.x,rootNode:o};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=Uf(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Uf(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([m,v])=>this._originChanged(m,i,v)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Vf(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,dA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,dA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Xn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let d=0;d<o.length;d++)if(o[d].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(us),a.LFG(cW),a.LFG(_e,8),a.LFG(mW,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QV="cdk-high-contrast-black-on-white",XV="cdk-high-contrast-white-on-black",BO="cdk-high-contrast-active";let JV=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.f3M)(FO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(BO,QV,XV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(BO,QV):2===i&&e.add(BO,XV)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(us),a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xT=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(JV))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lA]}),n})();const fW=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function gW(){return(0,a.f3M)(_e)}}),_W=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Sd=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function vW(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?_W.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fW,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const xW=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function wW(){return!0}});let cn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!AO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(JV),a.LFG(xW,8),a.LFG(_e))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[CT,CT]}),n})();function ET(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Gt(t)}}}function zx(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Gx(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Gt(t)}}}function W_(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Lh(e):this.defaultTabIndex}}}function n3(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}let VO=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,cn]}),n})();class EW{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const o3=q_({passive:!0,capture:!0});class DW{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Vf(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const d=o.get(i);d?d.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,o3)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);!o||(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,o3)))}}const a3={enterDuration:225,exitDuration:150},l3=q_({passive:!0,capture:!0}),c3=["mousedown","touchstart"],d3=["mouseup","mouseleave","touchend","touchcancel"];class qx{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Uf(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...a3,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function SW(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),m=t-r.left,v=e-r.top,x=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=m-d+"px",T.style.top=v-d+"px",T.style.height=2*d+"px",T.style.width=2*d+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(T);const P=window.getComputedStyle(T),G=P.transitionDuration,Z="none"===P.transitionProperty||"0s"===G||"0s, 0s"===G||0===r.width&&0===r.height,le=new EW(this,T,i,Z);T.style.transform="scale3d(1, 1, 1)",le.state=0,i.persistent||(this._mostRecentTransientRipple=le);let xe=null;return!Z&&(x||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Xe=()=>this._finishRippleTransition(le),_t=()=>this._destroyRipple(le);T.addEventListener("transitionend",Xe),T.addEventListener("transitioncancel",_t),xe={onTransitionEnd:Xe,onTransitionCancel:_t}}),this._activeRipples.set(le,xe),(Z||!x)&&this._finishRippleTransition(le),le}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...a3,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Uf(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,c3.forEach(i=>{qx._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{d3.forEach(e=>{this._triggerElement.addEventListener(e,this,l3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=WV(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!YV(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(c3.forEach(e=>qx._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&d3.forEach(e=>t.removeEventListener(e,this,l3)))}}qx._eventManager=new DW;const Wx=new a.OlP("mat-ripple-global-options");let Id=(()=>{class n{constructor(e,i,r,o,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new qx(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(us),a.Y36(Wx,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),kd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,cn]}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn]}),n})(),uA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[kd,yi,cn,u3]}),n})();const h3=["mat-button",""],p3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],m3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],PW=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],OW=zx(ET(Gx(class{constructor(n){this._elementRef=n}})));let f3=(()=>{class n extends OW{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,a.f3M)(Bh),this._isFab=!1;const d=e.nativeElement.classList;for(const m of PW)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(v=>{d.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(Id,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},features:[a.qOj]}),n})(),FW=(()=>{class n extends f3{constructor(e,i,r,o){super(e,i,r,o),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),Yx=(()=>{class n extends f3{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(us),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:h3,ngContentSelectors:m3,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(a.F$t(p3),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(a.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),a.xp6(6),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Id],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),g3=(()=>{class n extends FW{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(us),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:h3,ngContentSelectors:m3,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(a.F$t(p3),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(a.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),a.xp6(6),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Id],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),TT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,kd,cn]}),n})();class _3{}class BW{}const Hf="*";function no(n,t){return{type:7,name:n,definitions:t,options:{}}}function xi(n,t=null){return{type:4,styles:t,timings:n}}function v3(n,t=null){return{type:2,steps:n,options:t}}function tn(n){return{type:6,styles:n,offset:null}}function Si(n,t,e){return{type:0,name:n,styles:t,options:e}}function vi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function b3(n){Promise.resolve().then(n)}class ST{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){b3(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class y3{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?b3(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==o&&this._onFinish()}),d.onDestroy(()=>{++i==o&&this._onDestroy()}),d.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class IT extends jO{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class kT extends jO{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class VW extends jO{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class mA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof IT?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof kT?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof VW?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class UW extends mA{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const m=d.element,v=this._document.createComment("dom-portal");m.parentNode.insertBefore(v,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Kx=(()=>{class n extends mA{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=o=>{const d=o.element,m=this._document.createComment("dom-portal");o.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=o,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(_e))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),am=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var HW=K(1144);const jW=["addListener","removeListener"],$W=["addEventListener","removeEventListener"],zW=["on","off"];function Z_(n,t,e,i){if((0,Ni.m)(e)&&(i=e,e=void 0),i)return Z_(n,t,e).pipe(fe(i));const[r,o]=function WW(n){return(0,Ni.m)(n.addEventListener)&&(0,Ni.m)(n.removeEventListener)}(n)?$W.map(d=>m=>n[d](t,m,e)):function GW(n){return(0,Ni.m)(n.addListener)&&(0,Ni.m)(n.removeListener)}(n)?jW.map(w3(n,t)):function qW(n){return(0,Ni.m)(n.on)&&(0,Ni.m)(n.off)}(n)?zW.map(w3(n,t)):[];if(!r&&(0,HW.z)(n))return(0,Nr.z)(d=>Z_(d,t,e))((0,Ws.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ei.y(d=>{const m=(...v)=>d.next(1<v.length?v:v[0]);return r(m),()=>o(m)})}function w3(n,t){return e=>i=>n[e](t,i)}var x3=K(4408);const AT={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=AT;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Ys.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=AT;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=AT;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var C3=K(7565);const KW=new class ZW extends C3.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class YW extends x3.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=AT.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(AT.cancelAnimationFrame(e),t._scheduled=void 0)}});let $O,QW=1;const fA={};function E3(n){return n in fA&&(delete fA[n],!0)}const XW={setImmediate(n){const t=QW++;return fA[t]=!0,$O||($O=Promise.resolve()),$O.then(()=>E3(t)&&n()),t},clearImmediate(n){E3(n)}},{setImmediate:JW,clearImmediate:eY}=XW,gA={setImmediate(...n){const{delegate:t}=gA;return(t?.setImmediate||JW)(...n)},clearImmediate(n){const{delegate:t}=gA;return(t?.clearImmediate||eY)(n)},delegate:void 0},iY=new class nY extends C3.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class tY extends x3.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=gA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(gA.clearImmediate(e),t._scheduled=void 0)}});var sY=K(3532);function zO(n,t=fl.z){return function rY(n){return(0,Or.e)((t,e)=>{let i=!1,r=null,o=null,d=!1;const m=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const x=r;r=null,e.next(x)}d&&e.complete()},v=()=>{o=null,d&&e.complete()};t.subscribe((0,Ue.x)(e,x=>{i=!0,r=x,o||(0,Ws.Xf)(n(x)).subscribe(o=(0,Ue.x)(e,m,v))},()=>{d=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function D3(n=0,t,e=fl.P){let i=-1;return null!=t&&((0,sY.K)(t)?e=t:i=t),new Ei.y(r=>{let o=function oY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}const aY=["contentWrapper"],lY=["*"],cY=new a.OlP("VIRTUAL_SCROLL_STRATEGY");let Qx=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new gt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ei.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(zO(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Wn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Uf(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Z_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(us),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ly=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new gt.x,this._elementScrolled=new Ei.y(d=>this.ngZone.runOutsideAngular(()=>Z_(this.elementRef.nativeElement,"scroll").pipe(Xn(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=vT()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==vT()?e.left=e.right:1==vT()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;LV()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?r:i:"end"==e&&(e=d?i:r),d&&2==vT()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:d&&1==vT()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Qx),a.Y36(a.R0b),a.Y36(Sd,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Xx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new gt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(zO(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(us),a.LFG(a.R0b),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T3=new a.OlP("VIRTUAL_SCROLLABLE");let hY=(()=>{class n extends Ly{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Qx),a.Y36(a.R0b),a.Y36(Sd,8))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const mY=typeof requestAnimationFrame<"u"?KW:iY;let fY=(()=>{class n extends hY{constructor(e,i,r,o,d,m,v,x){super(e,m,r,d),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=x,this._platform=(0,a.f3M)(us),this._detachedSubject=new gt.x,this._renderedRangeSubject=new gt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ei.y(T=>this._scrollStrategy.scrolledIndexChange.subscribe(P=>Promise.resolve().then(()=>this.ngZone.run(()=>T.next(P))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ys.w0.EMPTY,this._viewportChanges=v.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Gt(e)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Wr(null),zO(0,mY)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Xn(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function pY(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,d=o?"X":"Y";let v=`translate${d}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(v+=` translate${d}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=v&&(this._renderedContentTransform=v,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",d="rtl"==this.dir?.value;i="start"==e?d?o:r:"end"==e?d?r:o:e||("horizontal"===this.orientation?"left":"top");const m=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-m}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(cY,8),a.Y36(Sd,8),a.Y36(Qx),a.Y36(Xx),a.Y36(T3,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&a.Gf(aY,7),2&e){let r;a.iGM(r=a.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[a._Bn([{provide:Ly,useFactory:(t,e)=>t||e,deps:[[new a.FiY,new a.tBr(T3)],n]}]),a.qOj,a.jDz],ngContentSelectors:lY,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&e&&(a.xp6(3),a.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),jf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[CT,jf,fY,CT,jf]}),n})();const S3=LV();class gY{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=So(-this._previousScrollPosition.left),t.style.top=So(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),S3&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),S3&&(i.scrollBehavior=o,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class _Y{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class I3{enable(){}disable(){}attach(){}}function qO(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function k3(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class vY{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();qO(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let bY=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new I3,this.close=d=>new _Y(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new gY(this._viewportRuler,this._document),this.reposition=d=>new vY(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Qx),a.LFG(Xx),a.LFG(a.R0b),a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _A{constructor(t){if(this.scrollStrategy=new I3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class yY{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let A3=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wY=(()=>{class n extends A3{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let d=o.length-1;d>-1;d--)if(o[d]._keydownEvents.observers.length>0){const m=o[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xY=(()=>{class n extends A3{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Vf(o)},this._clickListener=o=>{const d=Vf(o),m="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let x=v.length-1;x>-1;x--){const T=v[x];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(d)||T.overlayElement.contains(m))break;const P=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>P.next(o)):P.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e),a.LFG(us),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MT=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||AO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),AO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e),a.LFG(us))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RT{constructor(t,e,i,r,o,d,m,v,x,T=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=d,this._document=m,this._location=v,this._outsideClickDispatcher=x,this._animationsDisabled=T,this._backdropElement=null,this._backdropClick=new gt.x,this._attachments=new gt.x,this._detachments=new gt.x,this._locationChanges=Ys.w0.EMPTY,this._backdropClickHandler=P=>this._backdropClick.next(P),this._backdropTransitionendHandler=P=>{this._disposeBackdrop(P.target)},this._keydownEvents=new gt.x,this._outsidePointerEvents=new gt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(li(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=So(this._config.width),t.height=So(this._config.height),t.minWidth=So(this._config.minWidth),t.minHeight=So(this._config.minHeight),t.maxWidth=So(this._config.maxWidth),t.maxHeight=So(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=aA(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Xn((0,nc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const M3="cdk-overlay-connected-position-bounding-box",CY=/([A-Za-z%]+)$/;class EY{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gt.x,this._resizeSubscription=Ys.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(M3),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let d;for(let m of this._preferredPositions){let v=this._getOriginPoint(t,r,m),x=this._getOverlayPoint(v,e,m),T=this._getOverlayFit(x,e,i,m);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(T,x,i)?o.push({position:m,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!d||d.overlayFit.visibleArea<T.visibleArea)&&(d={overlayFit:T,overlayPoint:x,originPoint:v,position:m,overlayRect:e})}if(o.length){let m=null,v=-1;for(const x of o){const T=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);T>v&&(v=T,m=x)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&By(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(M3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;r="start"==i.originX?d:m}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=P3(e);let{x:d,y:m}=t,v=this._getOffset(r,"x"),x=this._getOffset(r,"y");v&&(d+=v),x&&(m+=x);let B=0-m,G=m+o.height-i.height,Z=this._subtractOverflows(o.width,0-d,d+o.width-i.width),le=this._subtractOverflows(o.height,B,G),xe=Z*le;return{visibleArea:xe,isCompletelyWithinViewport:o.width*o.height===xe,fitsInViewportVertically:le===o.height,fitsInViewportHorizontally:Z==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,d=R3(this._overlayRef.getConfig().minHeight),m=R3(this._overlayRef.getConfig().minWidth),x=t.fitsInViewportHorizontally||null!=m&&m<=o;return(t.fitsInViewportVertically||null!=d&&d<=r)&&x}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=P3(e),o=this._viewportRect,d=Math.max(t.x+r.width-o.width,0),m=Math.max(t.y+r.height-o.height,0),v=Math.max(o.top-i.top-t.y,0),x=Math.max(o.left-i.left-t.x,0);let T=0,P=0;return T=r.width<=o.width?x||-d:t.x<this._viewportMargin?o.left-i.left-t.x:0,P=r.height<=o.height?v||-m:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:T,y:P},{x:t.x+T,y:t.y+P}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new yY(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,d,m,T,P,B;if("top"===e.overlayY)d=t.y,o=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)m=i.height-t.y+2*this._viewportMargin,o=i.height-m+this._viewportMargin;else{const G=Math.min(i.bottom-t.y+i.top,t.y),Z=this._lastBoundingBoxSize.height;o=2*G,d=t.y-G,o>Z&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-Z/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)B=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)P=t.x,T=i.right-t.x;else{const G=Math.min(i.right-t.x+i.left,t.x),Z=this._lastBoundingBoxSize.width;T=2*G,P=t.x-G,T>Z&&!this._isInitialRender&&!this._growAfterOpen&&(P=t.x-Z/2)}return{top:d,left:P,bottom:m,right:B,width:T,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=So(i.height),r.top=So(i.top),r.bottom=So(i.bottom),r.width=So(i.width),r.left=So(i.left),r.right=So(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=So(o)),d&&(r.maxWidth=So(d))}this._lastBoundingBoxSize=i,By(this._boundingBox.style,r)}_resetBoundingBoxStyles(){By(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){By(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();By(i,this._getExactOverlayY(e,t,T)),By(i,this._getExactOverlayX(e,t,T))}else i.position="static";let m="",v=this._getOffset(e,"x"),x=this._getOffset(e,"y");v&&(m+=`translateX(${v}px) `),x&&(m+=`translateY(${x}px)`),i.transform=m.trim(),d.maxHeight&&(r?i.maxHeight=So(d.maxHeight):o&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=So(d.maxWidth):o&&(i.maxWidth="")),By(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=So(o.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=So(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:k3(t,i),isOriginOutsideView:qO(t,i),isOverlayClipped:k3(e,i),isOverlayOutsideView:qO(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&aA(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function By(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function R3(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(CY);return e&&"px"!==e?null:parseFloat(t)}return n||null}function P3(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const O3="cdk-global-overlay-wrapper";class DY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(O3),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:d,maxHeight:m}=i,v=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),x=!("100%"!==o&&"100vh"!==o||m&&"100%"!==m&&"100vh"!==m),T=this._xPosition,P=this._xOffset,B="rtl"===this._overlayRef.getConfig().direction;let G="",Z="",le="";v?le="flex-start":"center"===T?(le="center",B?Z=P:G=P):B?"left"===T||"end"===T?(le="flex-end",G=P):("right"===T||"start"===T)&&(le="flex-start",Z=P):"left"===T||"start"===T?(le="flex-start",G=P):("right"===T||"end"===T)&&(le="flex-end",Z=P),t.position=this._cssPosition,t.marginLeft=v?"0":G,t.marginTop=x?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=v?"0":Z,e.justifyContent=le,e.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(O3),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let TY=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new DY}flexibleConnectedTo(e){return new EY(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Xx),a.LFG(_e),a.LFG(us),a.LFG(MT))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SY=0,zc=(()=>{class n{constructor(e,i,r,o,d,m,v,x,T,P,B,G){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=d,this._injector=m,this._ngZone=v,this._document=x,this._directionality=T,this._location=P,this._outsideClickDispatcher=B,this._animationsModuleType=G}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),d=new _A(e);return d.direction=d.direction||this._directionality.value,new RT(o,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+SY++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new UW(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(bY),a.LFG(MT),a.LFG(a._Vd),a.LFG(TY),a.LFG(wY),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(_e),a.LFG(Sd),a.LFG(Oe),a.LFG(xY),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AY={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[zc],useFactory:function kY(n){return()=>n.scrollStrategies.reposition()}};let lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[zc,AY],imports:[CT,am,GO,GO]}),n})();function MY(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.action())}),a._uU(2),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(2),a.hij(" ",e.data.action," ")}}const RY=["label"];function PY(n,t){}const OY=Math.pow(2,31)-1;class WO{constructor(t,e){this._overlayRef=e,this._afterDismissed=new gt.x,this._afterOpened=new gt.x,this._onAction=new gt.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,OY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const N3=new a.OlP("MatSnackBarData");class vA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let NY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),FY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),LY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),BY=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(WO),a.Y36(N3))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a._uU(1),a.qZA(),a.YNc(2,MY,3,1,"div",1)),2&e&&(a.xp6(1),a.hij(" ",i.data.message,"\n"),a.xp6(1),a.Q6J("ngIf",i.hasAction))},dependencies:[un,Yx,NY,FY,LY],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const VY={snackBarState:no("state",[Si("void, hidden",tn({transform:"scale(0.8)",opacity:0})),Si("visible",tn({transform:"scale(1)",opacity:1})),vi("* => visible",xi("150ms cubic-bezier(0, 0, 0.2, 1)")),vi("* => void, * => hidden",xi("75ms cubic-bezier(0.4, 0.0, 1, 1)",tn({opacity:0})))])};let UY=(()=>{class n extends mA{constructor(e,i,r,o,d){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=d,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new gt.x,this._onExit=new gt.x,this._onEnter=new gt.x,this._animationState="void",this.attachDomPortal=m=>{this._assertNotAttached();const v=this._portalOutlet.attachDomPortal(m);return this._afterPortalAttached(),v},this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(li(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(us),a.Y36(vA))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(Kx,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),HY=(()=>{class n extends UY{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,i){if(1&e&&a.Gf(RY,7),2&e){let r;a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,i){1&e&&a.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&a.d8E("@state",i._animationState)},features:[a.qOj],decls:6,vars:2,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),a.YNc(4,PY,0,0,"ng-template",4),a.qZA(),a._UZ(5,"div"),a.qZA()()),2&e&&(a.xp6(5),a.uIk("aria-live",i._live)("role",i._role))},dependencies:[Kx],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[VY.snackBarState]}}),n})(),YO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lm,am,yi,TT,cn,cn]}),n})();const F3=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function jY(){return new vA}});let $Y=(()=>{class n{constructor(e,i,r,o,d,m){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=d,this._defaultConfig=m,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:vA,useValue:i}]}),d=new IT(this.snackBarContainerComponent,i.viewContainerRef,o),m=e.attach(d);return m.instance.snackBarConfig=i,m.instance}_attach(e,i){const r={...new vA,...this._defaultConfig,...i},o=this._createOverlay(r),d=this._attachSnackBarContainer(o,r),m=new WO(d,o);if(e instanceof a.Rgc){const v=new kT(e,null,{$implicit:r.data,snackBarRef:m});m.instance=d.attachTemplatePortal(v)}else{const v=this._createInjector(r,m),x=new IT(e,void 0,v),T=d.attachComponentPortal(x);m.instance=T.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Xn(o.detachments())).subscribe(v=>{o.overlayElement.classList.toggle(this.handsetCssClass,v.matches)}),r.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(m,r),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new _A;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,d="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,m=!d&&"center"!==e.horizontalPosition;return d?r.left("0"):m?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return a.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:WO,useValue:i},{provide:N3,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(zc),a.LFG(KV),a.LFG(a.zs3),a.LFG(FO),a.LFG(n,12),a.LFG(F3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),L3=(()=>{class n extends $Y{constructor(e,i,r,o,d,m){super(e,i,r,o,d,m),this.simpleSnackBarComponent=BY,this.snackBarContainerComponent=HY,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(zc),a.LFG(KV),a.LFG(a.zs3),a.LFG(FO),a.LFG(n,12),a.LFG(F3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:YO}),n})();class Gc{constructor(t,e,i,r,o){this.afs=t,this.afAuth=e,this.router=i,this.ngZone=r,this._snackBar=o,this.horizontalPosition="center",this.verticalPosition="top",this.durationInSeconds=2.5,this.afAuth.authState.subscribe(d=>{d?(this.userData=d,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,e){return this.afAuth.signInWithEmailAndPassword(t,e).then(i=>{this.SetUserData(i.user),this.afAuth.authState.subscribe(r=>{r&&(this.router.navigate(["dashboard"]),this._snackBar.open("You ale logged in \u2714\ufe0f","",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition}))})}).catch(i=>{this._snackBar.open("Email or password was wrong","",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})}SignUp(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e).then(i=>{this.SendVerificationMail(),this.SetUserData(i.user)}).catch(i=>{window.alert(i.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(e=>{window.alert(e)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}GoogleAuth(){return this.AuthLogin(new gw.Q).then(t=>{this.router.navigate(["dashboard"])})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(e=>{this.router.navigate(["dashboard"]),this.SetUserData(e.user)}).catch(e=>{window.alert(e)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified,roles:{subscriber:!0}},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"]),this._snackBar.open("You ale logged out \u26aa","",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})}canRead(t){return this.checkAuthorization(t,["admin","editor","subscriber"])}canEdit(t){return this.checkAuthorization(t,["admin","editor"])}canDelete(t){return this.checkAuthorization(t,["admin"])}checkAuthorization(t,e){if(!t)return!1;for(const i of e)if(t.roles[i])return!0;return!1}getRoles(t){var e="";return t.roles.admin&&(e+="Admin "),t.roles.editor&&(e+="Editor "),t.roles.subscriber&&(e+="Subscriber "),e}}Gc.\u0275fac=function(t){return new(t||Gc)(a.LFG(OV),a.LFG(gT),a.LFG(xo),a.LFG(a.R0b),a.LFG(L3))},Gc.\u0275prov=a.Yz7({token:Gc,factory:Gc.\u0275fac,providedIn:"root"});var Vy_OPEN="mdc-dialog--open",B3_DIALOG_ANIMATION_CLOSE_TIME_MS=(["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),75);function zY(n,t){}class bA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let V3=(()=>{class n extends mA{constructor(e,i,r,o,d,m,v,x){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=d,this._ngZone=m,this._overlayRef=v,this._focusMonitor=x,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>{this._portalOutlet.hasAttached();const P=this._portalOutlet.attachDomPortal(T);return this._contentAttached(),P},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=rA(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=rA();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=rA())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(cA),a.Y36(_e,8),a.Y36(bA),a.Y36(wT),a.Y36(a.R0b),a.Y36(RT),a.Y36(Bh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&a.Gf(Kx,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&a.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,zY,0,0,"ng-template",0)},dependencies:[Kx],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class ZO{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new gt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Fh(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const U3=new a.OlP("DialogScrollStrategy"),GY=new a.OlP("DialogData"),qY=new a.OlP("DefaultDialogConfig"),YY={provide:U3,deps:[zc],useFactory:function WY(n){return()=>n.scrollStrategies.block()}};let ZY=0,H3=(()=>{class n{constructor(e,i,r,o,d,m){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gt.x,this._afterOpenedAtThisLevel=new gt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Bo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Wr(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new bA,...i}).id=i.id||"cdk-dialog-"+ZY++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),d=this._overlay.create(o),m=new ZO(d,i),v=this._attachContainer(d,m,i);return m.containerInstance=v,this._attachDialogContent(e,m,v,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(m),m.closed.subscribe(()=>this._removeOpenDialog(m,!0)),this.afterOpened.next(m),m}closeAll(){KO(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){KO(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),KO(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new _A({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,d=[{provide:bA,useValue:r},{provide:ZO,useValue:i},{provide:RT,useValue:e}];let m;r.container?"function"==typeof r.container?m=r.container:(m=r.container.type,d.push(...r.container.providers(r))):m=V3;const v=new IT(m,r.viewContainerRef,a.zs3.create({parent:o||this._injector,providers:d}),r.componentFactoryResolver);return e.attach(v).instance}_attachDialogContent(e,i,r,o){if(e instanceof a.Rgc){const d=this._createInjector(o,i,r,void 0);let m={$implicit:o.data,dialogRef:i};o.templateContext&&(m={...m,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new kT(e,null,m,d))}else{const d=this._createInjector(o,i,r,this._injector),m=r.attachComponentPortal(new IT(e,o.viewContainerRef,d,o.componentFactoryResolver));i.componentInstance=m.instance}}_createInjector(e,i,r,o){const d=e.injector||e.viewContainerRef?.injector,m=[{provide:GY,useValue:e.data},{provide:ZO,useValue:i}];return e.providers&&("function"==typeof e.providers?m.push(...e.providers(i,e,r)):m.push(...e.providers)),e.direction&&(!d||!d.get(Sd,null,{optional:!0}))&&m.push({provide:Sd,useValue:{value:e.direction,change:bt()}}),a.zs3.create({parent:d||o,providers:m})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(zc),a.LFG(a.zs3),a.LFG(qY,8),a.LFG(n,12),a.LFG(MT),a.LFG(U3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function KO(n,t){let e=n.length;for(;e--;)t(n[e])}let KY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[H3,YY],imports:[lm,am,xT,am]}),n})();function QY(n,t){}class yA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}let XY=(()=>{class n extends V3{constructor(e,i,r,o,d,m,v,x){super(e,i,r,o,d,m,v,x),this._animationStateChanged=new a.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(cA),a.Y36(_e,8),a.Y36(yA),a.Y36(wT),a.Y36(a.R0b),a.Y36(RT),a.Y36(Bh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],features:[a.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const j3="--mat-dialog-transition-duration";function $3(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Lh(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Lh(n.substring(0,n.length-1)):"0"===n?0:null}let JY=(()=>{class n extends XY{constructor(e,i,r,o,d,m,v,x,T){super(e,i,r,o,d,m,v,T),this._animationMode=x,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?$3(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?$3(this._config.exitAnimationDuration)??B3_DIALOG_ANIMATION_CLOSE_TIME_MS:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(j3,`${this._openAnimationDuration}ms`),this._hostElement.classList.add("mdc-dialog--opening"),this._hostElement.classList.add(Vy_OPEN),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Vy_OPEN),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Vy_OPEN),this._animationsEnabled?(this._hostElement.style.setProperty(j3,`${this._openAnimationDuration}ms`),this._hostElement.classList.add("mdc-dialog--closing"),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove("mdc-dialog--opening"),this._hostElement.classList.remove("mdc-dialog--closing")}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(cA),a.Y36(_e,8),a.Y36(yA),a.Y36(wT),a.Y36(a.R0b),a.Y36(RT),a.Y36(a.QbO,8),a.Y36(Bh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(a.Ikx("id",i._config.id),a.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[a.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,QY,0,0,"ng-template",2),a.qZA()())},dependencies:[Kx],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class QO{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new gt.x,this._beforeClosed=new gt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Wn(r=>"opened"===r.state),li(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Wn(r=>"closed"===r.state),li(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,nc.T)(this.backdropClick(),this.keydownEvents().pipe(Wn(r=>27===r.keyCode&&!this.disableClose&&!Fh(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),z3(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Wn(e=>"closing"===e.state),li(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function z3(n,t,e){return n._closeInteractionType=t,n.close(e)}const e7=new a.OlP("MatMdcDialogData"),t7=new a.OlP("mat-mdc-dialog-default-options"),G3=new a.OlP("mat-mdc-dialog-scroll-strategy"),r7={provide:G3,deps:[zc],useFactory:function n7(n){return()=>n.scrollStrategies.block()}};let s7=0,o7=(()=>{class n{constructor(e,i,r,o,d,m,v,x,T,P){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=v,this._dialogContainerType=x,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gt.x,this._afterOpenedAtThisLevel=new gt.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=yA,this.afterAllClosed=Bo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Wr(void 0))),this._scrollStrategy=m,this._dialog=i.get(H3)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new yA,...i}).id=i.id||`${this._idPrefix}${s7++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:bA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(d,m,v)=>(r=new this._dialogRefConstructor(d,i,v),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:v},{provide:this._dialogDataToken,useValue:m.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(r);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),PT=(()=>{class n extends o7{constructor(e,i,r,o,d,m,v,x){super(e,i,o,m,v,d,QO,JY,e7,x),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(zc),a.LFG(a.zs3),a.LFG(Oe,8),a.LFG(t7,8),a.LFG(G3),a.LFG(n,12),a.LFG(MT),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),a7=0,l7=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=q3(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){z3(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(QO,8),a.Y36(a.SBq),a.Y36(PT))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&a.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.TTD]}),n})(),c7=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+a7++}ngOnInit(){this._dialogRef||(this._dialogRef=q3(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(QO,8),a.Y36(a.SBq),a.Y36(PT))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&a.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),d7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),u7=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function q3(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let h7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[PT,r7],imports:[KY,lm,am,cn,cn]}),n})();class Jx{constructor(t){this.authService=t}}Jx.\u0275fac=function(t){return new(t||Jx)(a.Y36(Gc))},Jx.\u0275cmp=a.Xpm({type:Jx,selectors:[["app-dialog-logout"]],decls:10,vars:0,consts:[[1,"dialogList"],["mat-dialog-title",""],[1,"dialog-buttons"],["mat-flat-button","","color","warn","mat-dialog-close","",1,"confirm-btn",3,"click"],["mat-flat-button","","color","link","mat-dialog-close",""]],template:function(t,e){1&t&&(a.TgZ(0,"div",0)(1,"h3",1),a._uU(2,"Confirm Logout"),a.qZA(),a.TgZ(3,"mat-dialog-content"),a._uU(4,"Do you want to logout?"),a.qZA(),a.TgZ(5,"mat-dialog-actions",2)(6,"button",3),a.NdJ("click",function(){return e.authService.SignOut()}),a._uU(7,"Log Out"),a.qZA(),a.TgZ(8,"button",4),a._uU(9,"Cancel"),a.qZA()()())},dependencies:[Yx,l7,c7,d7,u7],styles:[".confirm-btn[_ngcontent-%COMP%]{width:8rem}.dialogList[_ngcontent-%COMP%]{text-align:center;min-width:18rem}.dialog-buttons[_ngcontent-%COMP%]{justify-content:center!important}"]});let Y3=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Gt(e)}get inset(){return this._inset}set inset(e){this._inset=Gt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),a.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,cn]}),n})();class wA{}class JO{}class $f{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(d):this.headers.set(o,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $f?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $f;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $f?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let d=this.headers.get(e);if(!d)return;d=d.filter(m=>-1===o.indexOf(m)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class p7{encodeKey(t){return Z3(t)}encodeValue(t){return Z3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const f7=/%(\d[a-f0-9])/gi,g7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Z3(n){return encodeURIComponent(n).replace(f7,(t,e)=>g7[e]??t)}function xA(n){return`${n}`}class K_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p7,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function m7(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[d,m]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],v=e.get(d)||[];v.push(m),e.set(d,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(xA):[xA(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new K_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(xA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(xA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class _7{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function K3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Q3(n){return typeof Blob<"u"&&n instanceof Blob}function X3(n){return typeof FormData<"u"&&n instanceof FormData}class OT{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function v7(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new $f),this.context||(this.context=new _7),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+d}}else this.params=new K_,this.urlWithParams=e}serializeBody(){return null===this.body?null:K3(this.body)||Q3(this.body)||X3(this.body)||function b7(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof K_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X3(this.body)?null:Q3(this.body)?this.body.type||null:K3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof K_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,x=t.params||this.params;const T=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((P,B)=>P.set(B,t.setHeaders[B]),v)),t.setParams&&(x=Object.keys(t.setParams).reduce((P,B)=>P.set(B,t.setParams[B]),x)),new OT(e,i,o,{params:x,headers:v,context:T,reportProgress:m,responseType:r,withCredentials:d})}}var Io=(()=>((Io=Io||{})[Io.Sent=0]="Sent",Io[Io.UploadProgress=1]="UploadProgress",Io[Io.ResponseHeader=2]="ResponseHeader",Io[Io.DownloadProgress=3]="DownloadProgress",Io[Io.Response=4]="Response",Io[Io.User=5]="User",Io))();class eN{constructor(t,e=200,i="OK"){this.headers=t.headers||new $f,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class tN extends eN{constructor(t={}){super(t),this.type=Io.ResponseHeader}clone(t={}){return new tN({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class CA extends eN{constructor(t={}){super(t),this.type=Io.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new CA({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class J3 extends eN{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function nN(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iN=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof OT)o=e;else{let v,x;v=r.headers instanceof $f?r.headers:new $f(r.headers),r.params&&(x=r.params instanceof K_?r.params:new K_({fromObject:r.params})),o=new OT(e,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:x,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=bt(o).pipe(Xi(v=>this.handler.handle(v)));if(e instanceof OT||"events"===r.observe)return d;const m=d.pipe(Wn(v=>v instanceof CA));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return m.pipe((0,N.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,N.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,N.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,N.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new K_).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,nN(r,i))}post(e,i,r={}){return this.request("POST",e,nN(r,i))}put(e,i,r={}){return this.request("PUT",e,nN(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(wA))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function eU(n,t){return t(n)}function y7(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const x7=new a.OlP("HTTP_INTERCEPTORS"),NT=new a.OlP("HTTP_INTERCEPTOR_FNS");function C7(){let n=null;return(t,e)=>(null===n&&(n=((0,a.f3M)(x7,{optional:!0})??[]).reduceRight(y7,eU)),n(t,e))}let tU=(()=>{class n extends wA{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(NT)));this.chain=i.reduceRight((r,o)=>function w7(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),eU)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(JO),a.LFG(a.lqb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const S7=/^\)\]\}',?\n/;let iU=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ei.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((G,Z)=>r.setRequestHeader(G,Z.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const G=e.detectContentTypeHeader();null!==G&&r.setRequestHeader("Content-Type",G)}if(e.responseType){const G=e.responseType.toLowerCase();r.responseType="json"!==G?G:"text"}const o=e.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const G=r.statusText||"OK",Z=new $f(r.getAllResponseHeaders()),le=function I7(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return d=new tN({headers:Z,status:r.status,statusText:G,url:le}),d},v=()=>{let{headers:G,status:Z,statusText:le,url:xe}=m(),Xe=null;204!==Z&&(Xe=typeof r.response>"u"?r.responseText:r.response),0===Z&&(Z=Xe?200:0);let _t=Z>=200&&Z<300;if("json"===e.responseType&&"string"==typeof Xe){const vt=Xe;Xe=Xe.replace(S7,"");try{Xe=""!==Xe?JSON.parse(Xe):null}catch(wt){Xe=vt,_t&&(_t=!1,Xe={error:wt,text:Xe})}}_t?(i.next(new CA({body:Xe,headers:G,status:Z,statusText:le,url:xe||void 0})),i.complete()):i.error(new J3({error:Xe,headers:G,status:Z,statusText:le,url:xe||void 0}))},x=G=>{const{url:Z}=m(),le=new J3({error:G,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Z||void 0});i.error(le)};let T=!1;const P=G=>{T||(i.next(m()),T=!0);let Z={type:Io.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(Z.total=G.total),"text"===e.responseType&&!!r.responseText&&(Z.partialText=r.responseText),i.next(Z)},B=G=>{let Z={type:Io.UploadProgress,loaded:G.loaded};G.lengthComputable&&(Z.total=G.total),i.next(Z)};return r.addEventListener("load",v),r.addEventListener("error",x),r.addEventListener("timeout",x),r.addEventListener("abort",x),e.reportProgress&&(r.addEventListener("progress",P),null!==o&&r.upload&&r.upload.addEventListener("progress",B)),r.send(o),i.next({type:Io.Sent}),()=>{r.removeEventListener("error",x),r.removeEventListener("abort",x),r.removeEventListener("load",v),r.removeEventListener("timeout",x),e.reportProgress&&(r.removeEventListener("progress",P),null!==o&&r.upload&&r.upload.removeEventListener("progress",B)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Sl))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const rN=new a.OlP("XSRF_ENABLED"),rU="XSRF-TOKEN",sU=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>rU}),oU="X-XSRF-TOKEN",aU=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>oU});class lU{}let k7=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rr(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e),a.LFG(a.Lbi),a.LFG(sU))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function A7(n,t){const e=n.url.toLowerCase();if(!(0,a.f3M)(rN)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,a.f3M)(lU).getToken(),r=(0,a.f3M)(aU);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var io=(()=>((io=io||{})[io.Interceptors=0]="Interceptors",io[io.LegacyInterceptors=1]="LegacyInterceptors",io[io.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",io[io.NoXsrfProtection=3]="NoXsrfProtection",io[io.JsonpSupport=4]="JsonpSupport",io[io.RequestsMadeViaParent=5]="RequestsMadeViaParent",io))();function eC(n,t){return{\u0275kind:n,\u0275providers:t}}function M7(...n){const t=[iN,iU,tU,{provide:wA,useExisting:tU},{provide:JO,useExisting:iU},{provide:NT,useValue:A7,multi:!0},{provide:rN,useValue:!0},{provide:lU,useClass:k7}];for(const e of n)t.push(...e.\u0275providers);return(0,a.MR2)(t)}const cU=new a.OlP("LEGACY_INTERCEPTOR_FN");function P7({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:sU,useValue:n}),void 0!==t&&e.push({provide:aU,useValue:t}),eC(io.CustomXsrfConfiguration,e)}let O7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[M7(eC(io.LegacyInterceptors,[{provide:cU,useFactory:C7},{provide:NT,useExisting:cU,multi:!0}]),P7({cookieName:rU,headerName:oU}))]}),n})();const N7=["*"];let EA;function FT(n){return function F7(){if(void 0===EA&&(EA=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(EA=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return EA}()?.createHTML(n)||n}function dU(n){return Error(`Unable to find icon with the name "${n}"`)}function uU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function hU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Uy{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let DA=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Uy(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const d=this._sanitizer.sanitize(a.q3G.HTML,r);if(!d)throw hU(r);const m=FT(d);return this._addSvgIconConfig(e,i,new Uy("",m,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Uy(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(a.q3G.HTML,i);if(!o)throw hU(i);const d=FT(o);return this._addSvgIconSetConfig(e,new Uy("",d,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw uU(e);const r=this._cachedIconsByUrl.get(i);return r?bt(TA(r)):this._loadSvgIconFromConfig(new Uy(e,null)).pipe((0,Kn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,N.U)(o=>TA(o)))}getNamedSvgIcon(e,i=""){const r=pU(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Fi(dU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?bt(TA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,N.U)(i=>TA(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?bt(r):Bg(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(ea(m=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,d.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(x)),bt(null)})))).pipe((0,N.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw dU(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(o),m=this._extractSvgIconFromSet(d,e,o.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Kn.b)(i=>e.svgText=i),(0,N.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?bt(null):this._fetchIcon(e).pipe((0,Kn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const d=o.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const m=this._svgElementFromString(FT("<svg></svg>"));return m.appendChild(d),this._setSvgAttributes(m,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(FT("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:d,value:m}=r[o];"id"!==d&&i.setAttribute(d,m)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function L7(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!d)throw uU(i);const m=this._inProgressUrlFetches.get(d);if(m)return m;const v=this._httpClient.get(d,{responseType:"text",withCredentials:o}).pipe((0,N.U)(x=>FT(x)),Ul(()=>this._inProgressUrlFetches.delete(d)),(0,XP.B)());return this._inProgressUrlFetches.set(d,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(pU(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return V7(o)?new Uy(o.url,null,o.options):new Uy(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(iN,8),a.LFG(Dc),a.LFG(_e,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TA(n){return n.cloneNode(!0)}function pU(n,t){return n+":"+t}function V7(n){return!(!n.url||!n.options)}const U7=zx(class{constructor(n){this._elementRef=n}}),H7=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),j7=new a.OlP("mat-icon-location",{providedIn:"root",factory:function $7(){const n=(0,a.f3M)(_e),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),mU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],z7=mU.map(n=>`[${n}]`).join(", "),G7=/^url\(['"]?#(.*?)['"]?\)$/;let LT=(()=>{class n extends U7{constructor(e,i,r,o,d,m){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ys.w0.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Gt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(d=>{o.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(z7),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)mU.forEach(d=>{const m=i[o],v=m.getAttribute(d),x=v?v.match(G7):null;if(x){let T=r.get(m);T||(T=[],r.set(m,T)),T.push({name:d,value:x[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(li(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(DA),a.$8M("aria-hidden"),a.Y36(j7),a.Y36(a.qLn),a.Y36(H7,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:N7,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),fU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,cn]}),n})();class sN{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new gt.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let oN=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vU=["*"],bU='.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:24px;height:24px}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-image .mdc-list-item__start{width:56px;height:56px}.mdc-list-item--with-leading-video .mdc-list-item__start{width:100px;height:56px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-radio .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-switch .mdc-list-item__start{width:36px;height:20px}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:24px;height:24px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{width:40px;height:40px}.mdc-list-item--with-trailing-radio .mdc-list-item__end{width:40px;height:40px}.mdc-list-item--with-trailing-switch .mdc-list-item__end{width:36px;height:20px}.mdc-list-divider{height:1px}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',yU=["unscopedContent"],q7=["text"],W7=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Y7=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];function Z7(n,t){1&n&&a.Hsn(0,4)}function K7(n,t){if(1&n&&(a.TgZ(0,"div",9),a._UZ(1,"input",10),a.TgZ(2,"div",11),a.O4$(),a.TgZ(3,"svg",12),a._UZ(4,"path",13),a.qZA(),a.kcU(),a._UZ(5,"div",14),a.qZA()()),2&n){const e=a.oxw();a.ekj("mdc-checkbox--disabled",e.disabled),a.xp6(1),a.Q6J("checked",e.selected)("disabled",e.disabled)}}function Q7(n,t){}function X7(n,t){if(1&n&&(a.TgZ(0,"span",15),a.YNc(1,Q7,0,0,"ng-template",16),a.qZA()),2&n){a.oxw();const e=a.MAs(3);a.xp6(1),a.Q6J("ngTemplateOutlet",e)}}function J7(n,t){}function e9(n,t){if(1&n&&a.YNc(0,J7,0,0,"ng-template",16),2&n){a.oxw();const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function t9(n,t){}function n9(n,t){if(1&n&&(a.TgZ(0,"span",17),a.YNc(1,t9,0,0,"ng-template",16),a.qZA()),2&n){a.oxw();const e=a.MAs(3);a.xp6(1),a.Q6J("ngTemplateOutlet",e)}}function r9(n,t){}function s9(n,t){if(1&n&&a.YNc(0,r9,0,0,"ng-template",16),2&n){a.oxw();const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}const o9=[[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["mat-divider"]],[["","matListItemAvatar",""],["","matListItemIcon",""]]],a9=["[matListItemTitle]","[matListItemLine]","*","mat-divider","[matListItemAvatar],[matListItemIcon]"],wU=new a.OlP("ListOption");let aN=(()=>{class n{constructor(e){this._elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),xU=(()=>{class n{constructor(e){this._elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),l9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),CU=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getCheckboxPosition()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(wU,8))},n.\u0275dir=a.lG2({type:n,hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),c9=(()=>{class n extends CU{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[a.qOj]}),n})(),EU=(()=>{class n extends CU{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[a.qOj]}),n})(),tC=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Gt(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Gt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),lN=(()=>{class n{constructor(e,i,r,o,d,m){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Ys.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=d||{},this._hostElement=this._elementRef.nativeElement,this._noopAnimations="NoopAnimations"===m,r&&!r._isNonInteractive&&this._initInteractiveListItem(),"button"===this._hostElement.nodeName.toLowerCase()&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}set lines(e){this._explicitLines=Lh(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Gt(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Gt(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new qx(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,nc.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(tC,8),a.Y36(us),a.Y36(Wx,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,c9,4),a.Suo(r,EU,4)),2&e){let o;a.iGM(o=a.CRH())&&(i._avatars=o),a.iGM(o=a.CRH())&&(i._icons=o)}},hostVars:3,hostBindings:function(e,i){2&e&&(a.uIk("aria-disabled",i.disabled),a.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),d9=(()=>{class n extends lN{constructor(e,i,r,o,d,m){super(e,i,r,o,d,m),this._activated=!1}get activated(){return this._activated}set activated(e){this._activated=Gt(e)}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(tC,8),a.Y36(us),a.Y36(Wx,8),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,xU,5),a.Suo(r,aN,5),a.Suo(r,l9,5)),2&e){let o;a.iGM(o=a.CRH())&&(i._lines=o),a.iGM(o=a.CRH())&&(i._titles=o),a.iGM(o=a.CRH())&&(i._meta=o)}},viewQuery:function(e,i){if(1&e&&(a.Gf(yU,5),a.Gf(q7,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._unscopedContent=r.first),a.iGM(r=a.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(e,i){2&e&&(a.uIk("aria-current",i._getAriaCurrent()),a.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[a.qOj],ngContentSelectors:Y7,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(e,i){1&e&&(a.F$t(W7),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.Hsn(3,2),a.TgZ(4,"span",1,2),a.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),a.Hsn(6,3),a.qZA()(),a.Hsn(7,4),a.Hsn(8,5),a._UZ(9,"div",3))},dependencies:[NO],encapsulation:2,changeDetection:0}),n})();const DU=new a.OlP("SelectionList");let TU=(()=>{class n extends lN{constructor(e,i,r,o,d,m,v){super(e,i,r,o,m,v),this._selectionList=r,this._changeDetectorRef=d,this.selectedChange=new a.vpe,this.checkboxPosition="after",this._selected=!1,this._inputsInitialized=!1}get color(){return this._color||this._selectionList.color}set color(e){this._color=e}get value(){return this._value}set value(e){this.selected&&e!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=e}get selected(){return this._selectionList.selectedOptions.isSelected(this)}set selected(e){const i=Gt(e);i!==this._selected&&(this._setSelected(i),(i||this._selectionList.multiple)&&this._selectionList._reportValueChange())}ngOnInit(){const e=this._selectionList;e._value&&e._value.some(r=>e.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetectorRef.markForCheck())}),this._inputsInitialized=!0}ngOnDestroy(){super.ngOnDestroy(),this.selected&&Promise.resolve().then(()=>{this.selected=!1})}toggle(){this.selected=!this.selected}focus(){this._hostElement.focus()}getLabel(){return(this._titles?.get(0)?._elementRef.nativeElement||this._unscopedContent?.nativeElement)?.textContent||""}_hasCheckboxAt(e){return this._selectionList.multiple&&this._getCheckboxPosition()===e}_hasIconsOrAvatarsAt(e){return this._hasProjected("icons",e)||this._hasProjected("avatars",e)}_hasProjected(e,i){return this._getCheckboxPosition()!==i&&("avatars"===e?0!==this._avatars.length:0!==this._icons.length)}_handleBlur(){this._selectionList._onTouched()}_getCheckboxPosition(){return this.checkboxPosition||"after"}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this._selectionList.selectedOptions.select(this):this._selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetectorRef.markForCheck(),!0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_toggleOnInteraction(){this.disabled||(this._selectionList.multiple?(this.selected=!this.selected,this._selectionList._emitChangeEvent([this])):this.selected||(this.selected=!0,this._selectionList._emitChangeEvent([this])))}_setTabindex(e){this._hostElement.setAttribute("tabindex",e+"")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(DU),a.Y36(us),a.Y36(a.sBO),a.Y36(Wx,8),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-option"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,xU,5),a.Suo(r,aN,5)),2&e){let o;a.iGM(o=a.CRH())&&(i._lines=o),a.iGM(o=a.CRH())&&(i._titles=o)}},viewQuery:function(e,i){if(1&e&&a.Gf(yU,5),2&e){let r;a.iGM(r=a.CRH())&&(i._unscopedContent=r.first)}},hostAttrs:["role","option",1,"mat-mdc-list-item","mat-mdc-list-option","mdc-list-item"],hostVars:21,hostBindings:function(e,i){1&e&&a.NdJ("blur",function(){return i._handleBlur()})("click",function(){return i._toggleOnInteraction()}),2&e&&(a.uIk("aria-selected",i.selected),a.ekj("mdc-list-item--selected",i.selected&&!i._selectionList.multiple)("mdc-list-item--with-leading-avatar",i._hasProjected("avatars","before"))("mdc-list-item--with-leading-icon",i._hasProjected("icons","before"))("mdc-list-item--with-trailing-icon",i._hasProjected("icons","after"))("mat-mdc-list-option-with-trailing-avatar",i._hasProjected("avatars","after"))("mdc-list-item--with-leading-checkbox",i._hasCheckboxAt("before"))("mdc-list-item--with-trailing-checkbox",i._hasCheckboxAt("after"))("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("_mat-animation-noopable",i._noopAnimations))},inputs:{checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[a._Bn([{provide:lN,useExisting:n},{provide:wU,useExisting:n}]),a.qOj],ngContentSelectors:a9,decls:16,vars:4,consts:[["icons",""],["checkbox",""],["class","mdc-list-item__start mat-mdc-list-option-checkbox-before",4,"ngIf"],[3,"ngIf"],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],["class","mdc-list-item__end",4,"ngIf"],[1,"mat-mdc-focus-indicator"],[1,"mdc-checkbox"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled"],[1,"mdc-checkbox__background"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],[1,"mdc-list-item__start","mat-mdc-list-option-checkbox-before"],[3,"ngTemplateOutlet"],[1,"mdc-list-item__end"]],template:function(e,i){1&e&&(a.F$t(o9),a.YNc(0,Z7,1,0,"ng-template",null,0,a.W1O),a.YNc(2,K7,6,4,"ng-template",null,1,a.W1O),a.YNc(4,X7,2,1,"span",2),a.YNc(5,e9,1,1,"ng-template",3),a.TgZ(6,"span",4),a.Hsn(7),a.Hsn(8,1),a.TgZ(9,"span",5,6),a.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),a.Hsn(11,2),a.qZA()(),a.YNc(12,n9,2,1,"span",7),a.YNc(13,s9,1,1,"ng-template",3),a.Hsn(14,3),a._UZ(15,"div",8)),2&e&&(a.xp6(4),a.Q6J("ngIf",i._hasCheckboxAt("before")),a.xp6(1),a.Q6J("ngIf",i._hasIconsOrAvatarsAt("before")),a.xp6(7),a.Q6J("ngIf",i._hasCheckboxAt("after")),a.xp6(1),a.Q6J("ngIf",i._hasIconsOrAvatarsAt("after")))},dependencies:[NO,un,dr],styles:['.mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item,.mat-mdc-list-option-with-trailing-avatar.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end,.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-touch-target-wrapper{display:inline}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mat-mdc-list-option .mdc-checkbox[hidden]{display:none}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0}.mdc-checkbox--upgraded .mat-mdc-list-option .mdc-checkbox__checkmark{opacity:1}.mat-mdc-list-option .mdc-checkbox__checkmark-path{stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mat-mdc-list-option .mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-list-option .mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}@media all and (-ms-high-contrast: none){.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox .mdc-checkbox__focus-ring{display:none}}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__background{transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__mixedmark{transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mat-mdc-list-option .mdc-checkbox{padding:calc((40px - 18px) / 2);padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((40px - 40px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.38);border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0, 0, 0, 0.38);background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#018786;border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#018786;border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:#018786;border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__background{top:calc((40px - 18px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((40px - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{top:calc((40px - 40px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:40px;width:var(--mdc-checkbox-state-layer-size, 40px);height:40px;height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-list-option .mdc-checkbox__native-control{display:none}.cdk-high-contrast-active .mat-mdc-list-option.mdc-list-item--selected::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active .mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}'],encapsulation:2,changeDetection:0}),n})(),u9=(()=>{class n extends tC{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[a._Bn([{provide:tC,useExisting:n}]),a.qOj],ngContentSelectors:vU,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[bU],encapsulation:2,changeDetection:0}),n})();const h9={provide:Zr,useExisting:(0,a.Gpc)(()=>SU),multi:!0};class p9{constructor(t,e){this.source=t,this.options=e}}let SU=(()=>{class n extends tC{constructor(e,i){super(),this._element=e,this._ngZone=i,this._initialized=!1,this._destroyed=new gt.x,this._onChange=r=>{},this.selectionChange=new a.vpe,this.color="accent",this.compareWith=(r,o)=>r===o,this._multiple=!0,this.selectedOptions=new sN(this._multiple),this._onTouched=()=>{},this._selectionListDisabled=!1,this._handleFocusout=()=>{setTimeout(()=>{this._containsFocus()||this._resetActiveOption()})},this._handleFocusin=r=>{if(this.disabled)return;const o=this._items.toArray().findIndex(d=>d._elementRef.nativeElement.contains(r.target));o>-1?this._setActiveOption(o):this._resetActiveOption()},this._isNonInteractive=!1}get multiple(){return this._multiple}set multiple(e){const i=Gt(e);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new sN(this._multiple,this.selectedOptions.selected))}ngAfterViewInit(){this._initialized=!0,this._setupRovingTabindex(),this._ngZone.runOutsideAngular(()=>{this._element.nativeElement.addEventListener("focusin",this._handleFocusin),this._element.nativeElement.addEventListener("focusout",this._handleFocusout)}),this._value&&this._setOptionsFromValues(this._value),this._watchForSelectionChange()}ngOnChanges(e){const i=e.disabled,r=e.disableRipple;(r&&!r.firstChange||i&&!i.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._element.nativeElement.removeEventListener("focusin",this._handleFocusin),this._element.nativeElement.removeEventListener("focusout",this._handleFocusout),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new p9(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e}get disabled(){return this._selectionListDisabled}set disabled(e){this._selectionListDisabled=Gt(e),this._selectionListDisabled&&this._keyManager?.setActiveItem(-1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_watchForSelectionChange(){this.selectedOptions.changed.pipe(Xn(this._destroyed)).subscribe(e=>{for(let i of e.added)i.selected=!0;for(let i of e.removed)i.selected=!1;this._containsFocus()||this._resetActiveOption()})}_setOptionsFromValues(e){this.options.forEach(i=>i._setSelected(!1)),e.forEach(i=>{const r=this.options.find(o=>!o.selected&&this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_setAllOptionsSelected(e,i){const r=[];return this.options.forEach(o=>{(!i||!o.disabled)&&o._setSelected(e)&&r.push(o)}),r.length&&this._reportValueChange(),r}get options(){return this._items}_handleKeydown(e){const i=this._keyManager.activeItem;if(13!==e.keyCode&&32!==e.keyCode||this._keyManager.isTyping()||!i||i.disabled)if(65===e.keyCode&&this.multiple&&!this._keyManager.isTyping()&&Fh(e,"ctrlKey")){const r=this.options.some(o=>!o.disabled&&!o.selected);e.preventDefault(),this._emitChangeEvent(this._setAllOptionsSelected(r,!0))}else this._keyManager.onKeydown(e);else e.preventDefault(),i._toggleOnInteraction()}_setupRovingTabindex(){this._keyManager=new LO(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(()=>this.disabled),this._resetActiveOption(),this._keyManager.change.subscribe(e=>this._setActiveOption(e)),this._items.changes.pipe(Xn(this._destroyed)).subscribe(()=>{const e=this._keyManager.activeItem;(!e||!this._items.toArray().indexOf(e))&&this._resetActiveOption()})}_setActiveOption(e){this._items.forEach((i,r)=>i._setTabindex(r===e?0:-1)),this._keyManager.updateActiveItem(e)}_resetActiveOption(){if(this.disabled)return void this._setActiveOption(-1);const e=this._items.find(i=>i.selected&&!i.disabled)||this._items.first;this._setActiveOption(e?this._items.toArray().indexOf(e):-1)}_containsFocus(){const e=rA();return e&&this._element.nativeElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-selection-list"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,TU,5),2&e){let o;a.iGM(o=a.CRH())&&(i._items=o)}},hostAttrs:["role","listbox",1,"mat-mdc-selection-list","mat-mdc-list-base","mdc-list"],hostVars:1,hostBindings:function(e,i){1&e&&a.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&e&&a.uIk("aria-multiselectable",i.multiple)},inputs:{color:"color",compareWith:"compareWith",multiple:"multiple",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[a._Bn([h9,{provide:tC,useExisting:n},{provide:DU,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:vU,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[bU],encapsulation:2,changeDetection:0}),n})(),IU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lA,yi,cn,kd,u3,XO]}),n})();const IA=["*"],m9=["content"];function f9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r._onBackdropClicked())}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function g9(n,t){1&n&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const _9=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],v9=["mat-drawer","mat-drawer-content","*"];function b9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r._onBackdropClicked())}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function y9(n,t){1&n&&(a.TgZ(0,"mat-sidenav-content"),a.Hsn(1,2),a.qZA())}const w9=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],x9=["mat-sidenav","mat-sidenav-content","*"],kU={transformDrawer:no("transform",[Si("open, open-instant",tn({transform:"none",visibility:"visible"})),Si("void",tn({"box-shadow":"none",visibility:"hidden"})),vi("void => open-instant",xi("0ms")),vi("void <=> open, open-instant => void",xi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},E9=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function D9(){return!1}}),cN=new a.OlP("MAT_DRAWER_CONTAINER");let kA=(()=>{class n extends Ly{constructor(e,i,r,o,d){super(r,o,d),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>MU)),a.Y36(a.SBq),a.Y36(Qx),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&a.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[a._Bn([{provide:Ly,useExisting:n}]),a.qOj],ngContentSelectors:IA,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),AU=(()=>{class n{constructor(e,i,r,o,d,m,v,x){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=d,this._interactivityChecker=m,this._doc=v,this._container=x,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new gt.x,this._animationEnd=new gt.x,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(Wn(T=>T),(0,N.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Wn(T=>T.fromState!==T.toState&&0===T.toState.indexOf("open")),rh(void 0)),this._closedStream=this.openedChange.pipe(Wn(T=>!T),(0,N.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Wn(T=>T.fromState!==T.toState&&"void"===T.toState),rh(void 0)),this._destroyed=new gt.x,this.onPositionChanged=new a.vpe,this._modeChanged=new gt.x,this.openedChange.subscribe(T=>{T?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Z_(this._elementRef.nativeElement,"keydown").pipe(Wn(T=>27===T.keyCode&&!this.disableClose&&!Fh(T)),Xn(this._destroyed)).subscribe(T=>this._ngZone.run(()=>{this.close(),T.stopPropagation(),T.preventDefault()}))}),this._animationEnd.pipe(Op((T,P)=>T.fromState===P.fromState&&T.toState===P.toState)).subscribe(T=>{const{fromState:P,toState:B}=T;(0===B.indexOf("open")&&"void"===P||"void"===B&&0===P.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Gt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Gt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Gt(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(li(1)).subscribe(d=>o(d?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(cA),a.Y36(Bh),a.Y36(us),a.Y36(a.R0b),a.Y36(wT),a.Y36(_e,8),a.Y36(cN,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&a.Gf(m9,5),2&e){let r;a.iGM(r=a.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&a.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(a.uIk("align",null),a.d8E("@transform",i._animationState),a.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:IA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[Ly],encapsulation:2,data:{animation:[kU.transformDrawer]},changeDetection:0}),n})(),MU=(()=>{class n{constructor(e,i,r,o,d,m=!1,v){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=v,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new gt.x,this._doCheckSubject=new gt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new gt.x,e&&e.change.pipe(Xn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),d.change().pipe(Xn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=m}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Gt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Gt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Wr(this._allDrawers),Xn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Wr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(yT(10),Xn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Wn(i=>i.fromState!==i.toState),Xn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Xn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Xn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(li(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Xn((0,nc.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Sd,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(Xx),a.Y36(E9),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,kA,5),a.Suo(r,AU,5)),2&e){let o;a.iGM(o=a.CRH())&&(i._content=o.first),a.iGM(o=a.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&a.Gf(kA,5),2&e){let r;a.iGM(r=a.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:cN,useExisting:n}])],ngContentSelectors:v9,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(a.F$t(_9),a.YNc(0,f9,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,g9,2,0,"mat-drawer-content",1)),2&e&&(a.Q6J("ngIf",i.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!i._content))},dependencies:[un,kA],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),AA=(()=>{class n extends kA{constructor(e,i,r,o,d){super(e,i,r,o,d)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>dN)),a.Y36(a.SBq),a.Y36(Qx),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&a.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[a._Bn([{provide:Ly,useExisting:n}]),a.qOj],ngContentSelectors:IA,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),RU=(()=>{class n extends AU{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Gt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Lh(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Lh(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(a.uIk("align",null),a.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),a.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[a.qOj],ngContentSelectors:IA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[Ly],encapsulation:2,data:{animation:[kU.transformDrawer]},changeDetection:0}),n})(),dN=(()=>{class n extends MU{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,AA,5),a.Suo(r,RU,5)),2&e){let o;a.iGM(o=a.CRH())&&(i._content=o.first),a.iGM(o=a.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[a._Bn([{provide:cN,useExisting:n}]),a.qOj],ngContentSelectors:x9,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(a.F$t(w9),a.YNc(0,b9,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,y9,2,0,"mat-sidenav-content",1)),2&e&&(a.Q6J("ngIf",i.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!i._content))},dependencies:[un,AA],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),PU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[yi,cn,jf,jf,cn]}),n})();const T9=["*",[["mat-toolbar-row"]]],S9=["*","mat-toolbar-row"],I9=zx(class{constructor(n){this._elementRef=n}});let k9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),OU=(()=>{class n extends I9{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(us),a.Y36(_e))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,k9,5),2&e){let o;a.iGM(o=a.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:S9,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(T9),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),NU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,cn]}),n})();const A9=["switch"],M9=["*"],R9=new a.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),P9={provide:Zr,useExisting:(0,a.Gpc)(()=>LU),multi:!0};class FU{constructor(t,e){this.source=t,this.checked=e}}let O9=0;const N9=W_(zx(Gx(ET(class{constructor(n){this._elementRef=n}}))));let F9=(()=>{class n extends N9{constructor(e,i,r,o,d,m,v){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=d,this._onChange=x=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new a.vpe,this.toggleChange=new a.vpe,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=d.color||"accent",this._noopAnimations="NoopAnimations"===m,this.id=this._uniqueId=`${v}${++O9}`}get required(){return this._required}set required(e){this._required=Gt(e)}get checked(){return this._checked}set checked(e){this._checked=Gt(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[a.qOj]}),n})(),LU=(()=>{class n extends F9{constructor(e,i,r,o,d,m){super(e,i,r,o,d,m,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}get buttonId(){return`${this.id||this._uniqueId}-button`}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new FU(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(e){return new FU(this,e)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Bh),a.Y36(a.sBO),a.$8M("tabindex"),a.Y36(R9),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&a.Gf(A9,5),2&e){let r;a.iGM(r=a.CRH())&&(i._switchElement=r.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(e,i){2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),a.ekj("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[a._Bn([P9]),a.qOj],ngContentSelectors:M9,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(e,i){if(1&e&&(a.F$t(),a.TgZ(0,"div",0)(1,"button",1,2),a.NdJ("click",function(){return i._handleClick()}),a._UZ(3,"div",3),a.TgZ(4,"div",4)(5,"div",5)(6,"div",6),a._UZ(7,"div",7),a.qZA(),a.TgZ(8,"div",8),a._UZ(9,"div",9),a.qZA(),a.TgZ(10,"div",10),a.O4$(),a.TgZ(11,"svg",11),a._UZ(12,"path",12),a.qZA(),a.TgZ(13,"svg",13),a._UZ(14,"path",14),a.qZA()()()()(),a.kcU(),a.TgZ(15,"label",15),a.NdJ("click",function(o){return o.stopPropagation()}),a.Hsn(16),a.qZA()()),2&e){const r=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==i.labelPosition),a.xp6(1),a.ekj("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),a.Q6J("tabIndex",i.tabIndex)("disabled",i.disabled),a.uIk("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),a.xp6(8),a.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),a.xp6(6),a.Q6J("for",i.buttonId),a.uIk("id",i._labelId)}},dependencies:[Id],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),VU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[BU,cn,kd,yi,BU,cn]}),n})();const V9=["sidenav"],UU=function(){return["/home"]},U9=function(){return["/dashboard"]},H9=function(){return["/dashboard/user-profile"]},j9=function(){return["/dashboard/products"]},$9=function(){return["/dashboard/api"]};class VT{constructor(t,e,i){this.authService=t,this.overlay=e,this.dialog=i,this.className="",this.toggleControl=new _d(!1),this.opened=!0}ngOnInit(){this.toggleControl.valueChanges.subscribe(t=>{const e="darkMode";this.className=t?e:"",t?this.overlay.getContainerElement().classList.add(e):this.overlay.getContainerElement().classList.remove(e)}),console.log(window.innerWidth),window.innerWidth<768?(this.sidenav.fixedTopGap=55,this.opened=!1):(this.sidenav.fixedTopGap=55,this.opened=!0)}onResize(t){t.target.innerWidth<768?(this.sidenav.fixedTopGap=55,this.opened=!1):(this.sidenav.fixedTopGap=55,this.opened=!0)}isBiggerScreen(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768}ShowDialog(){this.dialog.open(Jx)}}function z9(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1," Key: "),a.TgZ(2,"b"),a._uU(3),a.qZA(),a._uU(4," and Value: "),a.TgZ(5,"b"),a._uU(6),a.qZA()()),2&n){const e=t.$implicit;a.xp6(3),a.Oqu(e.key),a.xp6(3),a.Oqu(e.value)}}function G9(n,t){if(1&n&&(a.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"p")(5,"strong"),a._uU(6,"User: "),a.qZA(),a._uU(7),a.qZA(),a.TgZ(8,"p")(9,"strong"),a._uU(10,"User role: "),a.qZA(),a._uU(11),a.qZA(),a.TgZ(12,"p")(13,"strong"),a._uU(14,"User ID: "),a.qZA(),a._uU(15),a.qZA(),a.TgZ(16,"p")(17,"strong"),a._uU(18,"Email: "),a.qZA(),a._uU(19),a.qZA(),a.TgZ(20,"p")(21,"strong"),a._uU(22,"Email Verified: "),a.qZA(),a._uU(23),a.qZA(),a.YNc(24,z9,7,2,"div",5),a.ALo(25,"keyvalue"),a.qZA()()()()),2&n){const e=t.ngIf,i=a.oxw();a.xp6(7),a.Oqu(e.displayName?e.displayName:"unknown"),a.xp6(4),a.Oqu(e.roles?e.roles:"unknown"),a.xp6(4),a.Oqu(e.uid),a.xp6(4),a.Oqu(e.email),a.xp6(4),a.Oqu(e.emailVerified),a.xp6(1),a.Q6J("ngForOf",a.lcZ(25,6,i.authService.userData.roles))}}VT.\u0275fac=function(t){return new(t||VT)(a.Y36(Gc),a.Y36(MT),a.Y36(PT))},VT.\u0275cmp=a.Xpm({type:VT,selectors:[["app-dashboard"]],viewQuery:function(t,e){if(1&t&&a.Gf(V9,7),2&t){let i;a.iGM(i=a.CRH())&&(e.sidenav=i.first)}},hostVars:2,hostBindings:function(t,e){1&t&&a.NdJ("resize",function(r){return e.onResize(r)},!1,a.Jf7),2&t&&a.Tol(e.className)},decls:46,vars:16,consts:[["color","primary",1,"header"],[3,"routerLink"],["src","assets/images/bran.png","alt","brand_logo",2,"height","2rem"],[2,"margin-left","3rem"],[1,"mr-8","nav-tool-items",3,"formControl"],[2,"flex","1 0 auto"],["mat-button","",3,"routerLink"],[1,"nav-tool-items",2,"margin-left","1rem","margin-right","1rem"],[1,"hamburger",3,"click"],[2,"min-height","calc(100% - 64px)"],["position","end",3,"mode","opened","fixedInViewport","openedChange"],["sidenav",""],["mat-list-item","",3,"routerLink"],["mat-list-item","",3,"click"],[2,"margin-bottom","10px"]],template:function(t,e){if(1&t){const i=a.EpF();a.TgZ(0,"mat-toolbar",0)(1,"span")(2,"a",1),a._UZ(3,"img",2),a.qZA()(),a.TgZ(4,"mat-icon",3),a._uU(5,"brightness_5"),a.qZA(),a._UZ(6,"mat-slide-toggle",4),a.TgZ(7,"mat-icon"),a._uU(8,"bedtime"),a.qZA(),a._UZ(9,"div",5),a.TgZ(10,"a",6)(11,"mat-icon"),a._uU(12,"navigate_before"),a.qZA(),a._uU(13,"Go back"),a.qZA(),a.TgZ(14,"span",7)(15,"mat-icon",8),a.NdJ("click",function(){a.CHM(i);const o=a.MAs(19);return a.KtG(o.toggle())}),a._uU(16,"menu"),a.qZA()()(),a.TgZ(17,"mat-sidenav-container",9)(18,"mat-sidenav",10,11),a.NdJ("openedChange",function(o){return e.opened=o}),a.TgZ(20,"mat-nav-list")(21,"a",12)(22,"mat-icon"),a._uU(23,"dashboard"),a.qZA(),a._uU(24," Dashboard "),a.qZA(),a.TgZ(25,"a",12)(26,"mat-icon"),a._uU(27,"person"),a.qZA(),a._uU(28," User Profile "),a.qZA(),a.TgZ(29,"a",12)(30,"mat-icon"),a._uU(31,"inventory_2"),a.qZA(),a._uU(32," Products "),a.qZA(),a.TgZ(33,"a",12)(34,"mat-icon"),a._uU(35,"api"),a.qZA(),a._uU(36," REST API "),a.qZA(),a.TgZ(37,"a",13),a.NdJ("click",function(){return e.ShowDialog()}),a.TgZ(38,"mat-icon"),a._uU(39,"logout"),a.qZA(),a._uU(40," Log out "),a.qZA()()(),a.TgZ(41,"mat-sidenav-content")(42,"h1"),a._uU(43,"Welcome in our shop!"),a.qZA(),a._UZ(44,"mat-divider",14)(45,"router-outlet"),a.qZA()()}2&t&&(a.xp6(2),a.Q6J("routerLink",a.DdM(10,UU)),a.xp6(4),a.Q6J("formControl",e.toggleControl),a.xp6(4),a.Q6J("routerLink",a.DdM(11,UU)),a.xp6(8),a.Q6J("mode",e.isBiggerScreen()?"over":"side")("opened",e.opened)("fixedInViewport",!0),a.xp6(3),a.Q6J("routerLink",a.DdM(12,U9)),a.xp6(4),a.Q6J("routerLink",a.DdM(13,H9)),a.xp6(4),a.Q6J("routerLink",a.DdM(14,j9)),a.xp6(4),a.Q6J("routerLink",a.DdM(15,$9)))},dependencies:[Sg,bh,Qm,Cb,g3,Y3,LT,u9,d9,RU,dN,AA,OU,LU],styles:[".header[_ngcontent-%COMP%]{justify-content:right;position:sticky;position:-webkit-sticky;top:0;z-index:1000}mat-toolbar[_ngcontent-%COMP%]{min-height:64px;max-height:64px}mat-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:10px}.mat-sidenav[_ngcontent-%COMP%], .mat-sidenav-content[_ngcontent-%COMP%]{padding:15px}.mat-sidenav-content[_ngcontent-%COMP%]{padding:25px 40px 0}.mat-sidenav[_ngcontent-%COMP%]{width:250px}mat-sidenav[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:12px}.hamburger[_ngcontent-%COMP%]{cursor:pointer;margin:5px 10px 0 20px!important}@media (max-width: 1024px){.mat-sidenav-content[_ngcontent-%COMP%]{padding:20px 20px 0}.mat-sidenav[_ngcontent-%COMP%]{width:230px}}@media (max-width: 767px){.nav-tool-items[_ngcontent-%COMP%]{margin-right:0}.hamburger[_ngcontent-%COMP%]{visibility:visible!important}}"]});class UT{constructor(t){this.authService=t}}UT.\u0275fac=function(t){return new(t||UT)(a.Y36(Gc))},UT.\u0275cmp=a.Xpm({type:UT,selectors:[["app-user-profile"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"media"],[1,"media-body"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&a.YNc(0,G9,26,8,"div",0),2&t&&a.Q6J("ngIf",e.authService.userData)},dependencies:[uo,un,Ba]});const HU="@firebase/database";let uN="";function $U(n){uN=n}class Y9{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Y.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Y.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Z9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Y.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const zU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Y9(t)}}catch{}return new Z9},Hy=zU("localStorage"),hN=zU("sessionStorage"),nC=new xd.Yd("@firebase/database"),GU=function(){let n=1;return function(){return n++}}(),qU=function(n){const t=(0,Y.dS)(n),e=new Y.gQ;e.update(t);const i=e.digest();return Y.US.encodeByteArray(i)},HT=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=HT.apply(null,i):t+="object"==typeof i?(0,Y.Wl)(i):i,t+=" "}return t};let jy=null,WU=!0;const YU=function(n,t){(0,Y.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(nC.logLevel=xd.in.VERBOSE,jy=nC.log.bind(nC),t&&hN.set("logging_enabled",!0)):"function"==typeof n?jy=n:(jy=null,hN.remove("logging_enabled"))},aa=function(...n){if(!0===WU&&(WU=!1,null===jy&&!0===hN.get("logging_enabled")&&YU(!0)),jy){const t=HT.apply(null,n);jy(t)}},jT=function(n){return function(...t){aa(n,...t)}},pN=function(...n){const t="FIREBASE INTERNAL ERROR: "+HT(...n);nC.error(t)},cm=function(...n){const t=`FIREBASE FATAL ERROR: ${HT(...n)}`;throw nC.error(t),new Error(t)},yl=function(...n){const t="FIREBASE WARNING: "+HT(...n);nC.warn(t)},MA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Q_="[MIN_NAME]",zf="[MAX_NAME]",$y=function(n,t){if(n===t)return 0;if(n===Q_||t===zf)return-1;if(t===Q_||n===zf)return 1;{const e=QU(n),i=QU(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},X9=function(n,t){return n===t?0:n<t?-1:1},$T=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Y.Wl)(t))},mN=function(n){if("object"!=typeof n||null===n)return(0,Y.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,Y.Wl)(t[i]),e+=":",e+=mN(n[t[i]]);return e+="}",e},ZU=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function la(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const KU=function(n){(0,Y.hu)(!MA(n),"Invalid JSON number");const i=1023;let r,o,d,m,v;0===n?(o=0,d=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=m+i,d=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(o=0,d=Math.round(n/Math.pow(2,-1074))));const x=[];for(v=52;v;v-=1)x.push(d%2?1:0),d=Math.floor(d/2);for(v=11;v;v-=1)x.push(o%2?1:0),o=Math.floor(o/2);x.push(r?1:0),x.reverse();const T=x.join("");let P="";for(v=0;v<64;v+=8){let B=parseInt(T.substr(v,8),2).toString(16);1===B.length&&(B="0"+B),P+=B}return P.toLowerCase()},nZ=new RegExp("^-?(0*)\\d{1,10}$"),QU=function(n){if(nZ.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},iC=function(n){try{n()}catch(t){setTimeout(()=>{throw yl("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},zT=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class oZ{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){yl(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aZ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(aa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yl(t)}}let GT=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const nH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sH="websocket",oH="long_polling";class gN{constructor(t,e,i,r,o=!1,d="",m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hy.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Hy.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function aH(n,t,e){let i;if((0,Y.hu)("string"==typeof t,"typeof type must == string"),(0,Y.hu)("object"==typeof e,"typeof params must == object"),t===sH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==oH)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function lZ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return la(e,(o,d)=>{r.push(o+"="+d)}),i+r.join("&")}class cZ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Y.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Y.p$)(this.counters_)}}const _N={},vN={};function bN(n){const t=n.toString();return _N[t]||(_N[t]=new cZ),_N[t]}class uZ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&iC(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class X_{constructor(t,e,i,r,o,d,m){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jT(t),this.stats_=bN(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),aH(e,oH,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new uZ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Y.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yN((...o)=>{const[d,m,v,x,T]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=m,this.password=v;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[d,m]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&nH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){X_.forceAllow_=!0}static forceDisallow(){X_.forceDisallow_=!0}static isAvailable(){return!((0,Y.Yr)()||!X_.forceAllow_&&(X_.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Y.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,Y.h$)(e),r=ZU(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Y.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Y.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class yN{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Y.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=GU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=yN.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){aa("frame writing exception"),m.stack&&aa(m.stack),aa(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||aa("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+r+"="+d.seg+"&ts"+r+"="+d.ts+"&d"+r+"="+d.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,Y.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{aa("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let PA=null;typeof MozWebSocket<"u"?PA=MozWebSocket:typeof WebSocket<"u"&&(PA=WebSocket);let rC=(()=>{class n{constructor(e,i,r,o,d,m,v){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jT(this.connId),this.stats_=bN(i),this.connURL=n.connectionURL_(i,m,v,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,d){const m={v:"5"};return!(0,Y.Yr)()&&typeof location<"u"&&location.hostname&&nH.test(location.hostname)&&(m.r="f"),i&&(m.s=i),r&&(m.ls=r),o&&(m.ac=o),d&&(m.p=d),aH(e,sH,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hy.set("previous_websocket_failure",!0);try{let r;if((0,Y.Yr)()){r={headers:{"User-Agent":`Firebase/5/${uN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,m=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;m&&(r.proxy={origin:m})}this.mySock=new PA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==PA&&!n.forceDisallow_}static previouslyFailed(){return Hy.isInMemoryStorage||!0===Hy.get("previous_websocket_failure")}markConnectionHealthy(){Hy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,Y.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Y.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,Y.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=ZU(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),mH=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[X_,rC]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=rC&&rC.isAvailable();let r=i&&!rC.previouslyFailed();if(e.webSocketOnly&&(i||yl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[rC];else{const o=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&o.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class wH{constructor(t,e,i,r,o,d,m,v,x,T){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=v,this.onKill_=x,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jT("c:"+this.id+":"),this.transportManager_=new mH(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=zT(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=$T("t",t),i=$T("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=$T("t",t),i=$T("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=$T("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?pN("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&yl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),zT(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zT(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xH{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class CH{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Y.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,Y.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class OA extends CH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Y.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OA}getInitialEvent(t){return(0,Y.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class er{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ui(){return new er("")}function Jn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function J_(n){return n.pieces_.length-n.pieceNum_}function Sr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new er(n.pieces_,t)}function xN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qT(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function TH(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new er(t,0)}function hs(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof er)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new er(e,0)}function ei(n){return n.pieceNum_>=n.pieces_.length}function rc(n,t){const e=Jn(n),i=Jn(t);if(null===e)return t;if(e===i)return rc(Sr(n),Sr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function PZ(n,t){const e=qT(n,0),i=qT(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=$y(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function CN(n,t){if(J_(n)!==J_(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Mu(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(J_(n)>J_(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class OZ{constructor(t,e){this.errorPrefix_=e,this.parts_=qT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,Y.ug)(this.parts_[i]);SH(this)}}function SH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zy(n))}function zy(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class EN extends CH{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new EN}getInitialEvent(t){return(0,Y.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const WT=1e3;let FA,Gy=(()=>{class n extends xH{constructor(e,i,r,o,d,m,v,x){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=d,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=x,this.id=n.nextPersistentConnectionId_++,this.log_=jT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=WT,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x&&!(0,Y.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");EN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&OA.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,d={r:o,a:e,b:i};this.log_((0,Y.Wl)(d)),(0,Y.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new Y.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;"ok"===m.s?i.resolve(v):i.reject(v)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const d=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+d),this.listens.has(m)||this.listens.set(m,new Map),(0,Y.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Y.hu)(!this.listens.get(m).has(d),"listen() called twice for same path/queryId.");const v={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(m).set(d,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const d={p:r};e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,v=>{const x=v.d,T=v.s;n.warnOnListenWarnings_(x,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",v),"ok"!==T&&this.removeListen_(r,o),e.onComplete&&e.onComplete(T,x))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,Y.r3)(e,"w")){const r=(0,Y.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();yl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Y.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,Y.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const d=o.s,m=o.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,Y.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const d={p:e};o&&(d.q=r,d.t=o),this.sendRequest("n",d)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const d={p:i,d:r};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,m=>{o&&setTimeout(()=>{o(m.s,m.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,d){this.initConnection_();const m={p:i,d:r};void 0!==d&&(m.h=d),this.outstandingPuts_.push({action:e,request:m,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Y.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):pN("Unrecognized action received from server: "+(0,Y.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Y.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=WT,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=WT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=WT),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Be.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let v=!1,x=null;const T=function(){x?x.close():(v=!0,o())};e.realtime_={close:T,sendRequest:function(G){(0,Y.hu)(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(G)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[G,Z]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);v?aa("getToken() completed but was canceled"):(aa("getToken() completed. Creating connection."),e.authToken_=G&&G.accessToken,e.appCheckToken_=Z&&Z.token,x=new wH(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,le=>{yl(le+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(G){e.log_("Failed to get token: "+G),v||(e.repoInfo_.nodeAdmin&&yl(G),T())}}})()}interrupt(e){aa("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){aa("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Y.xb)(this.interruptReasons_)&&(this.reconnectDelay_=WT,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(d=>mN(d)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new er(e).toString();let o;if(this.listens.has(r)){const d=this.listens.get(r);o=d.get(i),d.delete(i),0===d.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){aa("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){aa("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,Y.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+uN.replace(/\./g,"-")]=1,(0,Y.uI)()?e["framework.cordova"]=1:(0,Y.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=OA.getInstance().currentlyOnline();return(0,Y.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ri{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new ri(t,e)}}class NA{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new ri(Q_,t),r=new ri(Q_,e);return 0!==this.compare(i,r)}minPost(){return ri.MIN}}class AH extends NA{static get __EMPTY_NODE(){return FA}static set __EMPTY_NODE(t){FA=t}compare(t,e){return $y(t.name,e.name)}isDefinedOn(t){throw(0,Y.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ri.MIN}maxPost(){return new ri(zf,FA)}makePost(t,e){return(0,Y.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new ri(t,FA)}toString(){return".key"}}const dm=new AH;class LA{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(d=e?i(t.key,e):1,r&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let TN,Vh=(()=>{class n{constructor(e,i,r,o,d){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??qc.EMPTY_NODE,this.right=d??qc.EMPTY_NODE}copy(e,i,r,o,d){return new n(e??this.key,i??this.value,r??this.color,o??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const d=r(e,o.key);return o=d<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===d?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qc.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return qc.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class qc{constructor(t,e=qc.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new qc(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Vh.BLACK,null,null))}remove(t){return new qc(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Vh.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new LA(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new LA(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new LA(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new LA(this.root_,null,this.comparator_,!0,t)}}function jZ(n,t){return $y(n.name,t.name)}function DN(n,t){return $y(n,t)}qc.EMPTY_NODE=new class HZ{copy(t,e,i,r,o){return this}insert(t,e,i){return new Vh(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const MH=function(n){return"number"==typeof n?"number:"+KU(n):"string:"+n},RH=function(n){if(n.isLeafNode()){const t=n.val();(0,Y.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Y.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Y.hu)(n===TN||n.isEmpty(),"priority of unexpected type.");(0,Y.hu)(n===TN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let PH,OH,NH,sC=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,Y.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),RH(this.priorityNode_)}static set __childrenNodeConstructor(e){PH=e}static get __childrenNodeConstructor(){return PH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ei(e)?this:".priority"===Jn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Jn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,Y.hu)(".priority"!==r||1===J_(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sr(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+MH(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?KU(this.value_):this.value_,this.lazyHash_=qU(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Y.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(r);return(0,Y.hu)(o>=0,"Unknown leaf type: "+i),(0,Y.hu)(d>=0,"Unknown leaf type: "+r),o===d?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Vr=new class qZ extends NA{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?$y(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ri.MIN}maxPost(){return new ri(zf,new sC("[PRIORITY-POST]",NH))}makePost(t,e){const i=OH(t);return new ri(e,new sC("[PRIORITY-POST]",i))}toString(){return".priority"}},WZ=Math.log(2);class YZ{constructor(t){this.count=parseInt(Math.log(t+1)/WZ,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const BA=function(n,t,e,i){n.sort(t);const r=function(v,x){const T=x-v;let P,B;if(0===T)return null;if(1===T)return P=n[v],B=e?e(P):P,new Vh(B,P.node,Vh.BLACK,null,null);{const G=parseInt(T/2,10)+v,Z=r(v,G),le=r(G+1,x);return P=n[G],B=e?e(P):P,new Vh(B,P.node,Vh.BLACK,Z,le)}},m=function(v){let x=null,T=null,P=n.length;const B=function(Z,le){const xe=P-Z,Xe=P;P-=Z;const _t=r(xe+1,Xe),vt=n[xe],wt=e?e(vt):vt;G(new Vh(wt,vt.node,le,null,_t))},G=function(Z){x?(x.left=Z,x=Z):(T=Z,x=Z)};for(let Z=0;Z<v.count;++Z){const le=v.nextBitIsOne(),xe=Math.pow(2,v.count-(Z+1));le?B(xe,Vh.BLACK):(B(xe,Vh.BLACK),B(xe,Vh.RED))}return T}(new YZ(n.length));return new qc(i||t,m)};let SN;const oC={};class Gf{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Y.hu)(oC&&Vr,"ChildrenNode.ts has not been loaded"),SN=SN||new Gf({".priority":oC},{".priority":Vr}),SN}get(t){const e=(0,Y.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof qc?e:null}hasIndex(t){return(0,Y.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Y.hu)(t!==dm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(ri.Wrap);let m,d=o.getNext();for(;d;)r=r||t.isDefinedOn(d.node),i.push(d),d=o.getNext();m=r?BA(i,t.getCompare()):oC;const v=t.toString(),x=Object.assign({},this.indexSet_);x[v]=t;const T=Object.assign({},this.indexes_);return T[v]=m,new Gf(T,x)}addToIndexes(t,e){const i=(0,Y.UI)(this.indexes_,(r,o)=>{const d=(0,Y.DV)(this.indexSet_,o);if((0,Y.hu)(d,"Missing index implementation for "+o),r===oC){if(d.isDefinedOn(t.node)){const m=[],v=e.getIterator(ri.Wrap);let x=v.getNext();for(;x;)x.name!==t.name&&m.push(x),x=v.getNext();return m.push(t),BA(m,d.getCompare())}return oC}{const m=e.get(t.name);let v=r;return m&&(v=v.remove(new ri(t.name,m))),v.insert(t,t.node)}});return new Gf(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,Y.UI)(this.indexes_,r=>{if(r===oC)return r;{const o=e.get(t.name);return o?r.remove(new ri(t.name,o)):r}});return new Gf(i,this.indexSet_)}}let YT,$n=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RH(this.priorityNode_),this.children_.isEmpty()&&(0,Y.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return YT||(YT=new n(new qc(DN),null,Gf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||YT}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?YT:i}}getChild(e){const i=Jn(e);return null===i?this:this.getImmediateChild(i).getChild(Sr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,Y.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new ri(e,i);let o,d;i.isEmpty()?(o=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(r,this.children_));const m=o.isEmpty()?YT:this.priorityNode_;return new n(o,m,d)}}updateChild(e,i){const r=Jn(e);if(null===r)return i;{(0,Y.hu)(".priority"!==Jn(e)||1===J_(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Sr(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,d=!0;if(this.forEachChild(Vr,(m,v)=>{i[m]=v.val(e),r++,d&&n.INTEGER_REGEXP_.test(m)?o=Math.max(o,Number(m)):d=!1}),!e&&d&&o<2*r){const m=[];for(const v in i)m[v]=i[v];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+MH(this.getPriority().val())+":"),this.forEachChild(Vr,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":qU(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const d=o.getPredecessorKey(new ri(e,i));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ri(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ri(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ri.Wrap);let d=o.peek();for(;null!=d&&i.compare(d,e)<0;)o.getNext(),d=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ri.Wrap);let d=o.peek();for(;null!=d&&i.compare(d,e)>0;)o.getNext(),d=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ZT?-1:0}withIndex(e){if(e===dm||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===dm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Vr),o=i.getIterator(Vr);let d=r.getNext(),m=o.getNext();for(;d&&m;){if(d.name!==m.name||!d.node.equals(m.node))return!1;d=r.getNext(),m=o.getNext()}return null===d&&null===m}return!1}return!1}}resolveIndex_(e){return e===dm?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ZT=new class ZZ extends $n{constructor(){super(new qc(DN),$n.EMPTY_NODE,Gf.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return $n.EMPTY_NODE}isEmpty(){return!1}};function ws(n,t=null){if(null===n)return $n.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Y.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new sC(n,ws(t));if(n instanceof Array){let e=$n.EMPTY_NODE;return la(n,(i,r)=>{if((0,Y.r3)(n,i)&&"."!==i.substring(0,1)){const o=ws(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(ws(t))}{const e=[];let i=!1;if(la(n,(d,m)=>{if("."!==d.substring(0,1)){const v=ws(m);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new ri(d,v)))}}),0===e.length)return $n.EMPTY_NODE;const o=BA(e,jZ,d=>d.name,DN);if(i){const d=BA(e,Vr.getCompare());return new $n(o,ws(t),new Gf({".priority":d},{".priority":Vr}))}return new $n(o,ws(t),Gf.Default)}}Object.defineProperties(ri,{MIN:{value:new ri(Q_,$n.EMPTY_NODE)},MAX:{value:new ri(zf,ZT)}}),AH.__EMPTY_NODE=$n.EMPTY_NODE,sC.__childrenNodeConstructor=$n,function $Z(n){TN=n}(ZT),function GZ(n){NH=n}(ZT),function zZ(n){OH=n}(ws);class IN extends NA{constructor(t){super(),this.indexPath_=t,(0,Y.hu)(!ei(t)&&".priority"!==Jn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?$y(t.name,e.name):o}makePost(t,e){const i=ws(t),r=$n.EMPTY_NODE.updateChild(this.indexPath_,i);return new ri(e,r)}maxPost(){const t=$n.EMPTY_NODE.updateChild(this.indexPath_,ZT);return new ri(zf,t)}toString(){return qT(this.indexPath_,0).join("/")}}const kN=new class QZ extends NA{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?$y(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ri.MIN}maxPost(){return ri.MAX}makePost(t,e){const i=ws(t);return new ri(e,i)}toString(){return".value"}};function FH(n){return{type:"value",snapshotNode:n}}function aC(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function KT(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function QT(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class AN{constructor(t){this.index_=t}updateChild(t,e,i,r,o,d){(0,Y.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(r).equals(i.getChild(r))&&m.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?t.hasChild(e)?d.trackChildChange(KT(e,m)):(0,Y.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(aC(e,i)):d.trackChildChange(QT(e,i,m))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Vr,(r,o)=>{e.hasChild(r)||i.trackChildChange(KT(r,o))}),e.isLeafNode()||e.forEachChild(Vr,(r,o)=>{if(t.hasChild(r)){const d=t.getImmediateChild(r);d.equals(o)||i.trackChildChange(QT(r,o,d))}else i.trackChildChange(aC(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?$n.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class XT{constructor(t){this.indexedFilter_=new AN(t.getIndex()),this.index_=t.getIndex(),this.startPost_=XT.getStartPost_(t),this.endPost_=XT.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,d){return this.matches(new ri(e,i))||(i=$n.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,d)}updateFullNode(t,e,i){e.isLeafNode()&&(e=$n.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority($n.EMPTY_NODE);const o=this;return e.forEachChild(Vr,(d,m)=>{o.matches(new ri(d,m))||(r=r.updateImmediateChild(d,$n.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class JZ{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new XT(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,d){return this.rangedFilter_.matches(new ri(e,i))||(i=$n.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,d):this.fullLimitUpdateChild_(t,e,i,o,d)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=$n.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=$n.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;o.hasNext()&&d<this.limit_;){const m=o.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;r=r.updateImmediateChild(m.name,m.node),d++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority($n.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let d=0;for(;o.hasNext();){const m=o.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:r=r.updateImmediateChild(m.name,$n.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let d;if(this.reverse_){const P=this.index_.getCompare();d=(B,G)=>P(G,B)}else d=this.index_.getCompare();const m=t;(0,Y.hu)(m.numChildren()===this.limit_,"");const v=new ri(e,i),x=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),T=this.rangedFilter_.matches(v);if(m.hasChild(e)){const P=m.getImmediateChild(e);let B=r.getChildAfterChild(this.index_,x,this.reverse_);for(;null!=B&&(B.name===e||m.hasChild(B.name));)B=r.getChildAfterChild(this.index_,B,this.reverse_);const G=null==B?1:d(B,v);if(T&&!i.isEmpty()&&G>=0)return o?.trackChildChange(QT(e,i,P)),m.updateImmediateChild(e,i);{o?.trackChildChange(KT(e,P));const le=m.updateImmediateChild(e,$n.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(o?.trackChildChange(aC(B.name,B.node)),le.updateImmediateChild(B.name,B.node)):le}}return i.isEmpty()?t:T&&d(x,v)>=0?(null!=o&&(o.trackChildChange(KT(x.name,x.node)),o.trackChildChange(aC(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(x.name,$n.EMPTY_NODE)):t}}class VA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Q_}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Y.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vr}copy(){const t=new VA;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function MN(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function RN(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function UA(n,t){const e=n.copy();return e.index_=t,e}function LH(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Vr?e="$priority":n.index_===kN?e="$value":n.index_===dm?e="$key":((0,Y.hu)(n.index_ instanceof IN,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Y.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,Y.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,Y.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,Y.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,Y.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function BH(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Vr&&(t.i=n.index_.toString()),t}class HA extends xH{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=jT("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Y.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const d=HA.getListenId_(t,i),m={};this.listens_[d]=m;const v=LH(t._queryParams);this.restRequest_(o+".json",v,(x,T)=>{let P=T;if(404===x&&(P=null,x=null),null===x&&this.onDataUpdate_(o,P,!1,i),(0,Y.DV)(this.listens_,d)===m){let B;B=x?401===x?"permission_denied":"rest_error:"+x:"ok",r(B,null)}})}unlisten(t,e){const i=HA.getListenId_(t,e);delete this.listens_[i]}get(t){const e=LH(t._queryParams),i=t._path.toString(),r=new Y.BH;return this.restRequest_(i+".json",e,(o,d)=>{let m=d;404===o&&(m=null,o=null),null===o?(this.onDataUpdate_(i,m,!1,null),r.resolve(m)):r.reject(new Error(m))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Y.xO)(e);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,Y.cI)(m.responseText)}catch{yl("Failed to parse JSON response for "+d+": "+m.responseText)}i(null,v)}else 401!==m.status&&404!==m.status&&yl("Got unsuccessful REST response for "+d+" Status: "+m.status),i(m.status);i=null}},m.open("GET",d,!0),m.send()})}}class sK{constructor(){this.rootNode_=$n.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function jA(){return{value:null,children:new Map}}function lC(n,t,e){if(ei(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Jn(t);n.children.has(i)||n.children.set(i,jA()),lC(n.children.get(i),t=Sr(t),e)}}function PN(n,t){if(ei(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Vr,(i,r)=>{lC(n,new er(i),r)}),PN(n,t)}}if(n.children.size>0){const e=Jn(t);return t=Sr(t),n.children.has(e)&&PN(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function ON(n,t,e){null!==n.value?e(t,n.value):function oK(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{ON(r,new er(t.toString()+"/"+i),e)})}class aK{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&la(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class dK{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new aK(t);const i=1e4+2e4*Math.random();zT(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;la(t,(r,o)=>{o>0&&(0,Y.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),zT(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ru=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ru||(Ru={})),Ru))();function LN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class $A{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ru.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ei(this.path)){if(null!=this.affectedTree.value)return(0,Y.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new er(t));return new $A(Ui(),e,this.revert)}}return(0,Y.hu)(Jn(this.path)===t,"operationForChild called for unrelated child."),new $A(Sr(this.path),this.affectedTree,this.revert)}}class JT{constructor(t,e){this.source=t,this.path=e,this.type=Ru.LISTEN_COMPLETE}operationForChild(t){return ei(this.path)?new JT(this.source,Ui()):new JT(this.source,Sr(this.path))}}class qy{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ru.OVERWRITE}operationForChild(t){return ei(this.path)?new qy(this.source,Ui(),this.snap.getImmediateChild(t)):new qy(this.source,Sr(this.path),this.snap)}}class cC{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ru.MERGE}operationForChild(t){if(ei(this.path)){const e=this.children.subtree(new er(t));return e.isEmpty()?null:e.value?new qy(this.source,Ui(),e.value):new cC(this.source,Ui(),e)}return(0,Y.hu)(Jn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new cC(this.source,Sr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ev{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ei(t))return this.isFullyInitialized()&&!this.filtered_;const e=Jn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class uK{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function eS(n,t,e,i,r,o){const d=i.filter(m=>m.type===e);d.sort((m,v)=>function mK(n,t,e){if(null==t.childName||null==e.childName)throw(0,Y.g5)("Should only compare child_ events.");const i=new ri(t.childName,t.snapshotNode),r=new ri(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,m,v)),d.forEach(m=>{const v=function pK(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,o);r.forEach(x=>{x.respondsTo(m.type)&&t.push(x.createEvent(v,n.query_))})})}function zA(n,t){return{eventCache:n,serverCache:t}}function tS(n,t,e,i){return zA(new ev(t,e,i),n.serverCache)}function UH(n,t,e,i){return zA(n.eventCache,new ev(t,e,i))}function GA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Wy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let BN;class Ur{constructor(t,e=(()=>(BN||(BN=new qc(X9)),BN))()){this.value=t,this.children=e}static fromObject(t){let e=new Ur(null);return la(t,(i,r)=>{e=e.set(new er(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ui(),value:this.value};if(ei(t))return null;{const i=Jn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Sr(t),e);return null!=o?{path:hs(new er(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ei(t))return this;{const e=Jn(t),i=this.children.get(e);return null!==i?i.subtree(Sr(t)):new Ur(null)}}set(t,e){if(ei(t))return new Ur(e,this.children);{const i=Jn(t),o=(this.children.get(i)||new Ur(null)).set(Sr(t),e),d=this.children.insert(i,o);return new Ur(this.value,d)}}remove(t){if(ei(t))return this.children.isEmpty()?new Ur(null):new Ur(null,this.children);{const e=Jn(t),i=this.children.get(e);if(i){const r=i.remove(Sr(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Ur(null):new Ur(this.value,o)}return this}}get(t){if(ei(t))return this.value;{const e=Jn(t),i=this.children.get(e);return i?i.get(Sr(t)):null}}setTree(t,e){if(ei(t))return e;{const i=Jn(t),o=(this.children.get(i)||new Ur(null)).setTree(Sr(t),e);let d;return d=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Ur(this.value,d)}}fold(t){return this.fold_(Ui(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(hs(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Ui(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(ei(t))return null;{const o=Jn(t),d=this.children.get(o);return d?d.findOnPath_(Sr(t),hs(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ui(),e)}foreachOnPath_(t,e,i){if(ei(t))return this;{this.value&&i(e,this.value);const r=Jn(t),o=this.children.get(r);return o?o.foreachOnPath_(Sr(t),hs(e,r),i):new Ur(null)}}foreach(t){this.foreach_(Ui(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(hs(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Uh{constructor(t){this.writeTree_=t}static empty(){return new Uh(new Ur(null))}}function nS(n,t,e){if(ei(t))return new Uh(new Ur(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const d=rc(r,t);return o=o.updateChild(d,e),new Uh(n.writeTree_.set(r,o))}{const r=new Ur(e),o=n.writeTree_.setTree(t,r);return new Uh(o)}}}function VN(n,t,e){let i=n;return la(e,(r,o)=>{i=nS(i,hs(t,r),o)}),i}function HH(n,t){if(ei(t))return Uh.empty();{const e=n.writeTree_.setTree(t,new Ur(null));return new Uh(e)}}function UN(n,t){return null!=Yy(n,t)}function Yy(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(rc(e.path,t)):null}function jH(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Vr,(i,r)=>{t.push(new ri(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new ri(i,r.value))}),t}function tv(n,t){if(ei(t))return n;{const e=Yy(n,t);return new Uh(null!=e?new Ur(e):n.writeTree_.subtree(t))}}function HN(n){return n.writeTree_.isEmpty()}function dC(n,t){return $H(Ui(),n.writeTree_,t)}function $H(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,Y.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=$H(hs(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(hs(n,".priority"),i)),e}}function qA(n,t){return YH(t,n)}function yK(n,t){if(n.snap)return Mu(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Mu(hs(n.path,e),t))return!0;return!1}function xK(n){return n.visible}function zH(n,t,e){let i=Uh.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const d=o.path;let m;if(o.snap)Mu(e,d)?(m=rc(e,d),i=nS(i,m,o.snap)):Mu(d,e)&&(m=rc(d,e),i=nS(i,Ui(),o.snap.getChild(m)));else{if(!o.children)throw(0,Y.g5)("WriteRecord should have .snap or .children");if(Mu(e,d))m=rc(e,d),i=VN(i,m,o.children);else if(Mu(d,e))if(m=rc(d,e),ei(m))i=VN(i,Ui(),o.children);else{const v=(0,Y.DV)(o.children,Jn(m));if(v){const x=v.getChild(Sr(m));i=nS(i,Ui(),x)}}}}}return i}function GH(n,t,e,i,r){if(i||r){const o=tv(n.visibleWrites,t);return!r&&HN(o)?e:r||null!=e||UN(o,Ui())?dC(zH(n.allWrites,function(x){return(x.visible||r)&&(!i||!~i.indexOf(x.writeId))&&(Mu(x.path,t)||Mu(t,x.path))},t),e||$n.EMPTY_NODE):null}{const o=Yy(n.visibleWrites,t);if(null!=o)return o;{const d=tv(n.visibleWrites,t);return HN(d)?e:null!=e||UN(d,Ui())?dC(d,e||$n.EMPTY_NODE):null}}}function WA(n,t,e,i){return GH(n.writeTree,n.treePath,t,e,i)}function jN(n,t){return function CK(n,t,e){let i=$n.EMPTY_NODE;const r=Yy(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Vr,(o,d)=>{i=i.updateImmediateChild(o,d)}),i;if(e){const o=tv(n.visibleWrites,t);return e.forEachChild(Vr,(d,m)=>{const v=dC(tv(o,new er(d)),m);i=i.updateImmediateChild(d,v)}),jH(o).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return jH(tv(n.visibleWrites,t)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,t)}function qH(n,t,e,i){return function EK(n,t,e,i,r){(0,Y.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=hs(t,e);if(UN(n.visibleWrites,o))return null;{const d=tv(n.visibleWrites,o);return HN(d)?r.getChild(e):dC(d,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function YA(n,t){return function TK(n,t){return Yy(n.visibleWrites,t)}(n.writeTree,hs(n.treePath,t))}function $N(n,t,e){return function DK(n,t,e,i){const r=hs(t,e),o=Yy(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?dC(tv(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function WH(n,t){return YH(hs(n.treePath,t),n.writeTree)}function YH(n,t){return{treePath:n,writeTree:t}}class AK{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,Y.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Y.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,QT(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,KT(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,aC(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,Y.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,QT(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const ZH=new class MK{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class zN{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new ev(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $N(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wy(this.viewCache_),o=function kK(n,t,e,i,r,o){return function SK(n,t,e,i,r,o,d){let m;const v=tv(n.visibleWrites,t),x=Yy(v,Ui());if(null!=x)m=x;else{if(null==e)return[];m=dC(v,e)}if(m=m.withIndex(d),m.isEmpty()||m.isLeafNode())return[];{const T=[],P=d.getCompare(),B=o?m.getReverseIteratorFrom(i,d):m.getIteratorFrom(i,d);let G=B.getNext();for(;G&&T.length<r;)0!==P(G,i)&&T.push(G),G=B.getNext();return T}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function KH(n,t,e,i,r,o){const d=t.eventCache;if(null!=YA(i,e))return t;{let m,v;if(ei(e))if((0,Y.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const x=Wy(t),P=jN(i,x instanceof $n?x:$n.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),P,o)}else{const x=WA(i,Wy(t));m=n.filter.updateFullNode(t.eventCache.getNode(),x,o)}else{const x=Jn(e);if(".priority"===x){(0,Y.hu)(1===J_(e),"Can't have a priority with additional path components");const T=d.getNode();v=t.serverCache.getNode();const P=qH(i,e,T,v);m=null!=P?n.filter.updatePriority(T,P):d.getNode()}else{const T=Sr(e);let P;if(d.isCompleteForChild(x)){v=t.serverCache.getNode();const B=qH(i,e,d.getNode(),v);P=null!=B?d.getNode().getImmediateChild(x).updateChild(T,B):d.getNode().getImmediateChild(x)}else P=$N(i,x,t.serverCache);m=null!=P?n.filter.updateChild(d.getNode(),x,P,T,r,o):d.getNode()}}return tS(t,m,d.isFullyInitialized()||ei(e),n.filter.filtersNodes())}}function ZA(n,t,e,i,r,o,d,m){const v=t.serverCache;let x;const T=d?n.filter:n.filter.getIndexedFilter();if(ei(e))x=T.updateFullNode(v.getNode(),i,null);else if(T.filtersNodes()&&!v.isFiltered()){const G=v.getNode().updateChild(e,i);x=T.updateFullNode(v.getNode(),G,null)}else{const G=Jn(e);if(!v.isCompleteForPath(e)&&J_(e)>1)return t;const Z=Sr(e),xe=v.getNode().getImmediateChild(G).updateChild(Z,i);x=".priority"===G?T.updatePriority(v.getNode(),xe):T.updateChild(v.getNode(),G,xe,Z,ZH,null)}const P=UH(t,x,v.isFullyInitialized()||ei(e),T.filtersNodes());return KH(n,P,e,r,new zN(r,P,o),m)}function GN(n,t,e,i,r,o,d){const m=t.eventCache;let v,x;const T=new zN(r,t,o);if(ei(e))x=n.filter.updateFullNode(t.eventCache.getNode(),i,d),v=tS(t,x,!0,n.filter.filtersNodes());else{const P=Jn(e);if(".priority"===P)x=n.filter.updatePriority(t.eventCache.getNode(),i),v=tS(t,x,m.isFullyInitialized(),m.isFiltered());else{const B=Sr(e),G=m.getNode().getImmediateChild(P);let Z;if(ei(B))Z=i;else{const le=T.getCompleteChild(P);Z=null!=le?".priority"===xN(B)&&le.getChild(TH(B)).isEmpty()?le:le.updateChild(B,i):$n.EMPTY_NODE}v=G.equals(Z)?t:tS(t,n.filter.updateChild(m.getNode(),P,Z,B,T,d),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function QH(n,t){return n.eventCache.isCompleteForChild(t)}function XH(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function qN(n,t,e,i,r,o,d,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let x,v=t;x=ei(e)?i:new Ur(null).setTree(e,i);const T=t.serverCache.getNode();return x.children.inorderTraversal((P,B)=>{if(T.hasChild(P)){const Z=XH(0,t.serverCache.getNode().getImmediateChild(P),B);v=ZA(n,v,new er(P),Z,r,o,d,m)}}),x.children.inorderTraversal((P,B)=>{const G=!t.serverCache.isCompleteForChild(P)&&null===B.value;if(!T.hasChild(P)&&!G){const le=XH(0,t.serverCache.getNode().getImmediateChild(P),B);v=ZA(n,v,new er(P),le,r,o,d,m)}}),v}class UK{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new AN(i.getIndex()),o=function eK(n){return n.loadsAllData()?new AN(n.getIndex()):n.hasLimit()?new JZ(n):new XT(n)}(i);this.processor_=function RK(n){return{filter:n}}(o);const d=e.serverCache,m=e.eventCache,v=r.updateFullNode($n.EMPTY_NODE,d.getNode(),null),x=o.updateFullNode($n.EMPTY_NODE,m.getNode(),null),T=new ev(v,d.isFullyInitialized(),r.filtersNodes()),P=new ev(x,m.isFullyInitialized(),o.filtersNodes());this.viewCache_=zA(P,T),this.eventGenerator_=new uK(this.query_)}get query(){return this.query_}}function $K(n,t){const e=Wy(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!ei(t)&&!e.getImmediateChild(Jn(t)).isEmpty())?e.getChild(t):null}function JH(n){return 0===n.eventRegistrations_.length}function e8(n,t,e){const i=[];if(e){(0,Y.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const d=o.createCancelEvent(e,r);d&&i.push(d)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const d=n.eventRegistrations_[o];if(d.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(d)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function t8(n,t,e,i){t.type===Ru.MERGE&&null!==t.source.queryId&&((0,Y.hu)(Wy(n.viewCache_),"We should always have a full cache before handling merges"),(0,Y.hu)(GA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function OK(n,t,e,i,r){const o=new AK;let d,m;if(e.type===Ru.OVERWRITE){const x=e;x.source.fromUser?d=GN(n,t,x.path,x.snap,i,r,o):((0,Y.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered()&&!ei(x.path),d=ZA(n,t,x.path,x.snap,i,r,m,o))}else if(e.type===Ru.MERGE){const x=e;x.source.fromUser?d=function FK(n,t,e,i,r,o,d){let m=t;return i.foreach((v,x)=>{const T=hs(e,v);QH(t,Jn(T))&&(m=GN(n,m,T,x,r,o,d))}),i.foreach((v,x)=>{const T=hs(e,v);QH(t,Jn(T))||(m=GN(n,m,T,x,r,o,d))}),m}(n,t,x.path,x.children,i,r,o):((0,Y.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered(),d=qN(n,t,x.path,x.children,i,r,m,o))}else if(e.type===Ru.ACK_USER_WRITE){const x=e;d=x.revert?function VK(n,t,e,i,r,o){let d;if(null!=YA(i,e))return t;{const m=new zN(i,t,r),v=t.eventCache.getNode();let x;if(ei(e)||".priority"===Jn(e)){let T;if(t.serverCache.isFullyInitialized())T=WA(i,Wy(t));else{const P=t.serverCache.getNode();(0,Y.hu)(P instanceof $n,"serverChildren would be complete if leaf node"),T=jN(i,P)}x=n.filter.updateFullNode(v,T,o)}else{const T=Jn(e);let P=$N(i,T,t.serverCache);null==P&&t.serverCache.isCompleteForChild(T)&&(P=v.getImmediateChild(T)),x=null!=P?n.filter.updateChild(v,T,P,Sr(e),m,o):t.eventCache.getNode().hasChild(T)?n.filter.updateChild(v,T,$n.EMPTY_NODE,Sr(e),m,o):v,x.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=WA(i,Wy(t)),d.isLeafNode()&&(x=n.filter.updateFullNode(x,d,o)))}return d=t.serverCache.isFullyInitialized()||null!=YA(i,Ui()),tS(t,x,d,n.filter.filtersNodes())}}(n,t,x.path,i,r,o):function LK(n,t,e,i,r,o,d){if(null!=YA(r,e))return t;const m=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(ei(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return ZA(n,t,e,v.getNode().getChild(e),r,o,m,d);if(ei(e)){let x=new Ur(null);return v.getNode().forEachChild(dm,(T,P)=>{x=x.set(new er(T),P)}),qN(n,t,e,x,r,o,m,d)}return t}{let x=new Ur(null);return i.foreach((T,P)=>{const B=hs(e,T);v.isCompleteForPath(B)&&(x=x.set(T,v.getNode().getChild(B)))}),qN(n,t,e,x,r,o,m,d)}}(n,t,x.path,x.affectedTree,i,r,o)}else{if(e.type!==Ru.LISTEN_COMPLETE)throw(0,Y.g5)("Unknown operation type: "+e.type);d=function BK(n,t,e,i,r){const o=t.serverCache;return KH(n,UH(t,o.getNode(),o.isFullyInitialized()||ei(e),o.isFiltered()),e,i,ZH,r)}(n,t,e.path,i,o)}const v=o.getChanges();return function NK(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=GA(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(FH(GA(t)))}}(t,d,v),{viewCache:d,changes:v}}(n.processor_,r,t,e,i);return function PK(n,t){(0,Y.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Y.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,Y.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,n8(n,o.changes,o.viewCache.eventCache.getNode(),null)}function n8(n,t,e,i){return function hK(n,t,e,i){const r=[],o=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&o.push(function XZ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),eS(n,r,"child_removed",t,i,e),eS(n,r,"child_added",t,i,e),eS(n,r,"child_moved",o,i,e),eS(n,r,"child_changed",t,i,e),eS(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let KA,XA;class r8{constructor(){this.views=new Map}}function WN(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,Y.hu)(null!=o,"SyncTree gave us an op for an invalid query."),t8(o,t,e,i)}{let o=[];for(const d of n.views.values())o=o.concat(t8(d,t,e,i));return o}}function s8(n,t,e,i,r){const d=n.views.get(t._queryIdentifier);if(!d){let m=WA(e,r?i:null),v=!1;m?v=!0:i instanceof $n?(m=jN(e,i),v=!1):(m=$n.EMPTY_NODE,v=!1);const x=zA(new ev(m,v,!1),new ev(i,r,!1));return new UK(t,x)}return d}function o8(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function nv(n,t){let e=null;for(const i of n.views.values())e=e||$K(i,t);return e}function a8(n,t){return t._queryParams.loadsAllData()?QA(n):n.views.get(t._queryIdentifier)}function l8(n,t){return null!=a8(n,t)}function iv(n){return null!=QA(n)}function QA(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let JK=1;class c8{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ur(null),this.pendingWriteTree_=function IK(){return{visibleWrites:Uh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function YN(n,t,e,i,r){return function gK(n,t,e,i,r){(0,Y.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=nS(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?uC(n,new qy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function rv(n,t,e=!1){const i=function vK(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function bK(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,Y.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,d=n.allWrites.length-1;for(;r&&d>=0;){const m=n.allWrites[d];m.visible&&(d>=e&&yK(m,i.path)?r=!1:Mu(i.path,m.path)&&(o=!0)),d--}return!!r&&(o?(function wK(n){n.visibleWrites=zH(n.allWrites,xK,Ui()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=HH(n.visibleWrites,i.path):la(i.children,v=>{n.visibleWrites=HH(n.visibleWrites,hs(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let o=new Ur(null);return null!=i.snap?o=o.set(Ui(),!0):la(i.children,d=>{o=o.set(new er(d),!0)}),uC(n,new $A(i.path,o,e))}return[]}function iS(n,t,e){return uC(n,new qy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function JA(n,t,e,i,r=!1){const o=t._path,d=n.syncPointTree_.get(o);let m=[];if(d&&("default"===t._queryIdentifier||l8(d,t))){const v=function KK(n,t,e,i){const r=t._queryIdentifier,o=[];let d=[];const m=iv(n);if("default"===r)for(const[v,x]of n.views.entries())d=d.concat(e8(x,e,i)),JH(x)&&(n.views.delete(v),x.query._queryParams.loadsAllData()||o.push(x.query));else{const v=n.views.get(r);v&&(d=d.concat(e8(v,e,i)),JH(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||o.push(v.query)))}return m&&!iv(n)&&o.push(new(function WK(){return(0,Y.hu)(KA,"Reference.ts has not been loaded"),KA}())(t._repo,t._path)),{removed:o,events:d}}(d,t,e,i);(function YK(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const x=v.removed;if(m=v.events,!r){const T=-1!==x.findIndex(B=>B._queryParams.loadsAllData()),P=n.syncPointTree_.findOnPath(o,(B,G)=>iv(G));if(T&&!P){const B=n.syncPointTree_.subtree(o);if(!B.isEmpty()){const G=function oQ(n){return n.fold((t,e,i)=>{if(e&&iv(e))return[QA(e)];{let r=[];return e&&(r=o8(e)),la(i,(o,d)=>{r=r.concat(d)}),r}})}(B);for(let Z=0;Z<G.length;++Z){const le=G[Z],xe=le.query,Xe=p8(n,le);n.listenProvider_.startListening(sS(xe),rS(n,xe),Xe.hashFn,Xe.onComplete)}}}!P&&x.length>0&&!i&&(T?n.listenProvider_.stopListening(sS(t),null):x.forEach(B=>{const G=n.queryToTagMap.get(tM(B));n.listenProvider_.stopListening(sS(B),G)}))}!function aQ(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=tM(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,x)}return m}function d8(n,t,e,i){const r=KN(n,i);if(null!=r){const o=QN(r),d=o.path,m=o.queryId,v=rc(d,t);return XN(n,d,new qy(LN(m),v,e))}return[]}function ZN(n,t,e,i=!1){const r=t._path;let o=null,d=!1;n.syncPointTree_.foreachOnPath(r,(B,G)=>{const Z=rc(B,r);o=o||nv(G,Z),d=d||iv(G)});let v,m=n.syncPointTree_.get(r);m?(d=d||iv(m),o=o||nv(m,Ui())):(m=new r8,n.syncPointTree_=n.syncPointTree_.set(r,m)),null!=o?v=!0:(v=!1,o=$n.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((G,Z)=>{const le=nv(Z,Ui());le&&(o=o.updateImmediateChild(G,le))}));const x=l8(m,t);if(!x&&!t._queryParams.loadsAllData()){const B=tM(t);(0,Y.hu)(!n.queryToTagMap.has(B),"View does not exist, but we have a tag");const G=function lQ(){return JK++}();n.queryToTagMap.set(B,G),n.tagToQueryMap.set(G,B)}let P=function ZK(n,t,e,i,r,o){const d=s8(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function zK(n,t){n.eventRegistrations_.push(t)}(d,e),function GK(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Vr,(o,d)=>{i.push(aC(o,d))}),e.isFullyInitialized()&&i.push(FH(e.getNode())),n8(n,i,e.getNode(),t)}(d,e)}(m,t,e,qA(n.pendingWriteTree_,r),o,v);if(!x&&!d&&!i){const B=a8(m,t);P=P.concat(function cQ(n,t,e){const i=t._path,r=rS(n,t),o=p8(n,e),d=n.listenProvider_.startListening(sS(t),r,o.hashFn,o.onComplete),m=n.syncPointTree_.subtree(i);if(r)(0,Y.hu)(!iv(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((x,T,P)=>{if(!ei(x)&&T&&iv(T))return[QA(T).query];{let B=[];return T&&(B=B.concat(o8(T).map(G=>G.query))),la(P,(G,Z)=>{B=B.concat(Z)}),B}});for(let x=0;x<v.length;++x){const T=v[x];n.listenProvider_.stopListening(sS(T),rS(n,T))}}return d}(n,t,B))}return P}function eM(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(d,m)=>{const x=nv(m,rc(d,t));if(x)return x});return GH(r,t,o,e,!0)}function uC(n,t){return u8(t,n.syncPointTree_,null,qA(n.pendingWriteTree_,Ui()))}function u8(n,t,e,i){if(ei(n.path))return h8(n,t,e,i);{const r=t.get(Ui());null==e&&null!=r&&(e=nv(r,Ui()));let o=[];const d=Jn(n.path),m=n.operationForChild(d),v=t.children.get(d);if(v&&m){const x=e?e.getImmediateChild(d):null,T=WH(i,d);o=o.concat(u8(m,v,x,T))}return r&&(o=o.concat(WN(r,n,i,e))),o}}function h8(n,t,e,i){const r=t.get(Ui());null==e&&null!=r&&(e=nv(r,Ui()));let o=[];return t.children.inorderTraversal((d,m)=>{const v=e?e.getImmediateChild(d):null,x=WH(i,d),T=n.operationForChild(d);T&&(o=o.concat(h8(T,m,v,x)))}),r&&(o=o.concat(WN(r,n,i,e))),o}function p8(n,t){const e=t.query,i=rS(n,e);return{hashFn:()=>(function HK(n){return n.viewCache_.serverCache.getNode()}(t)||$n.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function iQ(n,t,e){const i=KN(n,e);if(i){const r=QN(i),o=r.path,d=r.queryId,m=rc(o,t);return XN(n,o,new JT(LN(d),m))}return[]}(n,e._path,i):function nQ(n,t){return uC(n,new JT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function tZ(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return JA(n,e,null,o)}}}}function rS(n,t){const e=tM(t);return n.queryToTagMap.get(e)}function tM(n){return n._path.toString()+"$"+n._queryIdentifier}function KN(n,t){return n.tagToQueryMap.get(t)}function QN(n){const t=n.indexOf("$");return(0,Y.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new er(n.substr(0,t))}}function XN(n,t,e){const i=n.syncPointTree_.get(t);return(0,Y.hu)(i,"Missing sync point for query tag that we're tracking"),WN(i,e,qA(n.pendingWriteTree_,t),null)}function sS(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function XK(){return(0,Y.hu)(XA,"Reference.ts has not been loaded"),XA}())(n._repo,n._path):n}class JN{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new JN(e)}node(){return this.node_}}class eF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=hs(this.path_,t);return new eF(this.syncTree_,e)}node(){return eM(this.syncTree_,this.path_)}}const m8=function(n,t,e){return n&&"object"==typeof n?((0,Y.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?uQ(n[".sv"],t,e):"object"==typeof n[".sv"]?hQ(n[".sv"],t):void(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},uQ=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,Y.hu)(!1,"Unexpected server value: "+n)},hQ=function(n,t,e){n.hasOwnProperty("increment")||(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,Y.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,Y.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const d=r.getValue();return"number"!=typeof d?i:d+i},f8=function(n,t,e,i){return nF(t,new eF(e,n),i)},tF=function(n,t,e){return nF(n,new JN(t),e)};function nF(n,t,e){const i=n.getPriority().val(),r=m8(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const d=n,m=m8(d.getValue(),t,e);return m!==d.getValue()||r!==d.getPriority().val()?new sC(m,ws(r)):n}{const d=n;return o=d,r!==d.getPriority().val()&&(o=o.updatePriority(new sC(r))),d.forEachChild(Vr,(m,v)=>{const x=nF(v,t.getImmediateChild(m),e);x!==v&&(o=o.updateImmediateChild(m,x))}),o}}class iF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function nM(n,t){let e=t instanceof er?t:new er(t),i=n,r=Jn(e);for(;null!==r;){const o=(0,Y.DV)(i.node.children,r)||{children:{},childCount:0};i=new iF(r,i,o),e=Sr(e),r=Jn(e)}return i}function Zy(n){return n.node.value}function rF(n,t){n.node.value=t,sF(n)}function g8(n){return n.node.childCount>0}function iM(n,t){la(n.node.children,(e,i)=>{t(new iF(e,n,i))})}function _8(n,t,e,i){e&&!i&&t(n),iM(n,r=>{_8(r,t,!0,i)}),e&&i&&t(n)}function oS(n){return new er(null===n.parent?n.name:oS(n.parent)+"/"+n.name)}function sF(n){null!==n.parent&&function fQ(n,t,e){const i=function pQ(n){return void 0===Zy(n)&&!g8(n)}(e),r=(0,Y.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,sF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,sF(n))}(n.parent,n.name,n)}const gQ=/[\[\].#$\/\u0000-\u001F\u007F]/,_Q=/[\[\].#$\u0000-\u001F\u007F]/,oF=10485760,rM=function(n){return"string"==typeof n&&0!==n.length&&!gQ.test(n)},v8=function(n){return"string"==typeof n&&0!==n.length&&!_Q.test(n)},aS=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!MA(n)||n&&"object"==typeof n&&(0,Y.r3)(n,".sv")},um=function(n,t,e,i){i&&void 0===t||lS((0,Y.gK)(n,"value"),t,e)},lS=function(n,t,e){const i=e instanceof er?new OZ(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+zy(i));if("function"==typeof t)throw new Error(n+"contains a function "+zy(i)+" with contents = "+t.toString());if(MA(t))throw new Error(n+"contains "+t.toString()+" "+zy(i));if("string"==typeof t&&t.length>oF/3&&(0,Y.ug)(t)>oF)throw new Error(n+"contains a string greater than "+oF+" utf8 bytes "+zy(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(la(t,(d,m)=>{if(".value"===d)r=!0;else if(".priority"!==d&&".sv"!==d&&(o=!0,!rM(d)))throw new Error(n+" contains an invalid key ("+d+") "+zy(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function NZ(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Y.ug)(t),SH(n)})(i,d),lS(n,m,i),function FZ(n){const t=n.parts_.pop();n.byteLength_-=(0,Y.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+zy(i)+" in addition to actual children.")}},b8=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,Y.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];la(t,(d,m)=>{const v=new er(d);if(lS(r,m,hs(e,v)),".priority"===xN(v)&&!aS(m))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=qT(i);for(let d=0;d<o.length;d++)if((".priority"!==o[d]||d!==o.length-1)&&!rM(o[d]))throw new Error(n+"contains an invalid key ("+o[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(PZ);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Mu(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},aF=function(n,t,e){if(!e||void 0!==t){if(MA(t))throw new Error((0,Y.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!aS(t))throw new Error((0,Y.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cS=function(n,t,e,i){if(!(i&&void 0===e||rM(e)))throw new Error((0,Y.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dS=function(n,t,e,i){if(!(i&&void 0===e||v8(e)))throw new Error((0,Y.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Pu=function(n,t){if(".info"===Jn(t))throw new Error(n+" failed = Can't modify data under /.info/")},y8=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!rM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),v8(n)}(e))throw new Error((0,Y.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class wQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sM(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!CN(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function w8(n,t,e){sM(n,e),x8(n,i=>CN(i,t))}function Ad(n,t,e){sM(n,e),x8(n,i=>Mu(i,t)||Mu(t,i))}function x8(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(xQ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function xQ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();jy&&aa("event: "+e.toString()),iC(i)}}}const C8="repo_interrupt";class EQ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jA(),this.transactionQueueTree_=new iF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function E8(n){const e=n.infoData_.getNode(new er(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function uS(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:E8(n)})}function D8(n,t,e,i,r){n.dataUpdateCount++;const o=new er(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(r)if(i){const v=(0,Y.UI)(e,x=>ws(x));d=function rQ(n,t,e,i){const r=KN(n,i);if(r){const o=QN(r),d=o.path,m=o.queryId,v=rc(d,t),x=Ur.fromObject(e);return XN(n,d,new cC(LN(m),v,x))}return[]}(n.serverSyncTree_,o,v,r)}else{const v=ws(e);d=d8(n.serverSyncTree_,o,v,r)}else if(i){const v=(0,Y.UI)(e,x=>ws(x));d=function tQ(n,t,e){const i=Ur.fromObject(e);return uC(n,new cC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,v)}else{const v=ws(e);d=iS(n.serverSyncTree_,o,v)}let m=o;d.length>0&&(m=pC(n,o)),Ad(n.eventQueue_,m,d)}function T8(n,t){lF(n,"connected",t),!1===t&&function kQ(n){hC(n,"onDisconnectEvents");const t=uS(n),e=jA();ON(n.onDisconnect_,Ui(),(r,o)=>{const d=f8(r,o,n.serverSyncTree_,t);lC(e,r,d)});let i=[];ON(e,Ui(),(r,o)=>{i=i.concat(iS(n.serverSyncTree_,r,o));const d=hF(n,r);pC(n,d)}),n.onDisconnect_=jA(),Ad(n.eventQueue_,Ui(),i)}(n)}function lF(n,t,e){const i=new er("/.info/"+t),r=ws(e);n.infoData_.updateSnapshot(i,r);const o=iS(n.infoSyncTree_,i,r);Ad(n.eventQueue_,i,o)}function oM(n){return n.nextWriteId_++}function cF(n,t,e,i,r){hC(n,"set",{path:t.toString(),value:e,priority:i});const o=uS(n),d=ws(e,i),m=eM(n.serverSyncTree_,t),v=tF(d,m,o),x=oM(n),T=YN(n.serverSyncTree_,t,v,x,!0);sM(n.eventQueue_,T),n.server_.put(t.toString(),d.val(!0),(B,G)=>{const Z="ok"===B;Z||yl("set at "+t+" failed: "+B);const le=rv(n.serverSyncTree_,x,!Z);Ad(n.eventQueue_,t,le),sv(0,r,B,G)});const P=hF(n,t);pC(n,P),Ad(n.eventQueue_,P,[])}function AQ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&PN(n.onDisconnect_,t),sv(0,e,i,r)})}function S8(n,t,e,i){const r=ws(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,d)=>{"ok"===o&&lC(n.onDisconnect_,t,r),sv(0,i,o,d)})}function dF(n,t,e){let i;i=".info"===Jn(t._path)?JA(n.infoSyncTree_,t,e):JA(n.serverSyncTree_,t,e),w8(n.eventQueue_,t._path,i)}function I8(n){n.persistentConnection_&&n.persistentConnection_.interrupt(C8)}function hC(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),aa(e,...t)}function sv(n,t,e,i){t&&iC(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const d=new Error(o);d.code=r,t(d)}})}function uF(n,t,e){return eM(n.serverSyncTree_,t,e)||$n.EMPTY_NODE}function aM(n,t=n.transactionQueueTree_){if(t||lM(n,t),Zy(t)){const e=A8(n,t);(0,Y.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function FQ(n,t,e){const i=e.map(x=>x.currentWriteId),r=uF(n,t,i);let o=r;const d=r.hash();for(let x=0;x<e.length;x++){const T=e[x];(0,Y.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const P=rc(t,T.path);o=o.updateChild(P,T.currentOutputSnapshotRaw)}const m=o.val(!0),v=t;n.server_.put(v.toString(),m,x=>{hC(n,"transaction put response",{path:v.toString(),status:x});let T=[];if("ok"===x){const P=[];for(let B=0;B<e.length;B++)e[B].status=2,T=T.concat(rv(n.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&P.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();lM(n,nM(n.transactionQueueTree_,t)),aM(n,n.transactionQueueTree_),Ad(n.eventQueue_,t,T);for(let B=0;B<P.length;B++)iC(P[B])}else{if("datastale"===x)for(let P=0;P<e.length;P++)e[P].status=3===e[P].status?4:0;else{yl("transaction at "+v.toString()+" failed: "+x);for(let P=0;P<e.length;P++)e[P].status=4,e[P].abortReason=x}pC(n,t)}},d)}(n,oS(t),e)}else g8(t)&&iM(t,e=>{aM(n,e)})}function pC(n,t){const e=k8(n,t),i=oS(e);return function LQ(n,t,e){if(0===t.length)return;const i=[];let r=[];const d=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const v=t[m],x=rc(e,v.path);let P,T=!1;if((0,Y.hu)(null!==x,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)T=!0,P=v.abortReason,r=r.concat(rv(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)T=!0,P="maxretry",r=r.concat(rv(n.serverSyncTree_,v.currentWriteId,!0));else{const B=uF(n,v.path,d);v.currentInputSnapshot=B;const G=t[m].update(B.val());if(void 0!==G){lS("transaction failed: Data returned ",G,v.path);let Z=ws(G);"object"==typeof G&&null!=G&&(0,Y.r3)(G,".priority")||(Z=Z.updatePriority(B.getPriority()));const xe=v.currentWriteId,Xe=uS(n),_t=tF(Z,B,Xe);v.currentOutputSnapshotRaw=Z,v.currentOutputSnapshotResolved=_t,v.currentWriteId=oM(n),d.splice(d.indexOf(xe),1),r=r.concat(YN(n.serverSyncTree_,v.path,_t,v.currentWriteId,v.applyLocally)),r=r.concat(rv(n.serverSyncTree_,xe,!0))}else T=!0,P="nodata",r=r.concat(rv(n.serverSyncTree_,v.currentWriteId,!0))}Ad(n.eventQueue_,e,r),r=[],T&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&i.push("nodata"===P?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(P),!1,null)))}lM(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)iC(i[m]);aM(n,n.transactionQueueTree_)}(n,A8(n,e),i),i}function k8(n,t){let e,i=n.transactionQueueTree_;for(e=Jn(t);null!==e&&void 0===Zy(i);)i=nM(i,e),e=Jn(t=Sr(t));return i}function A8(n,t){const e=[];return M8(n,t,e),e.sort((i,r)=>i.order-r.order),e}function M8(n,t,e){const i=Zy(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);iM(t,r=>{M8(n,r,e)})}function lM(n,t){const e=Zy(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,rF(t,e.length>0?e:void 0)}iM(t,i=>{lM(n,i)})}function hF(n,t){const e=oS(k8(n,t)),i=nM(n.transactionQueueTree_,t);return function mQ(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{pF(n,r)}),pF(n,i),_8(i,r=>{pF(n,r)}),e}function pF(n,t){const e=Zy(t);if(e){const i=[];let r=[],o=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,Y.hu)(o===d-1,"All SENT items should be at beginning of queue."),o=d,e[d].status=3,e[d].abortReason="set"):((0,Y.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),r=r.concat(rv(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&i.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===o?rF(t,void 0):e.length=o+1,Ad(n.eventQueue_,oS(t),r);for(let d=0;d<i.length;d++)iC(i[d])}}const mF=function(n,t){const e=UQ(n),i=e.namespace;return"firebase.com"===e.domain&&cm(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&cm("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new gN(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new er(e.pathString)}},UQ=function(n){let t="",e="",i="",r="",o="",d=!0,m="https",v=443;if("string"==typeof n){let x=n.indexOf("//");x>=0&&(m=n.substring(0,x-1),n=n.substring(x+2));let T=n.indexOf("/");-1===T&&(T=n.length);let P=n.indexOf("?");-1===P&&(P=n.length),t=n.substring(0,Math.min(T,P)),T<P&&(r=function BQ(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(T,P)));const B=function VQ(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):yl(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,P)));x=t.indexOf(":"),x>=0?(d="https"===m||"wss"===m,v=parseInt(t.substring(x+1),10)):x=t.length;const G=t.slice(0,x);if("localhost"===G.toLowerCase())e="localhost";else if(G.split(".").length<=2)e=G;else{const Z=t.indexOf(".");i=t.substring(0,Z).toLowerCase(),e=t.substring(Z+1),o=i}"ns"in B&&(o=B.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:d,scheme:m,pathString:r,namespace:o}},R8="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",HQ=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=R8.charAt(e%64),e=Math.floor(e/64);(0,Y.hu)(0===e,"Cannot push at time == 0");let d=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)d+=R8.charAt(t[r]);return(0,Y.hu)(20===d.length,"nextPushId: Length should be 20."),d}}();class P8{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Y.Wl)(this.snapshot.exportVal())}}class O8{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class fF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Y.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class N8{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Y.BH;return AQ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Pu("OnDisconnect.remove",this._path);const t=new Y.BH;return S8(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Pu("OnDisconnect.set",this._path),um("OnDisconnect.set",t,this._path,!1);const e=new Y.BH;return S8(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Pu("OnDisconnect.setWithPriority",this._path),um("OnDisconnect.setWithPriority",t,this._path,!1),aF("OnDisconnect.setWithPriority",e,!1);const i=new Y.BH;return function MQ(n,t,e,i,r){const o=ws(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(d,m)=>{"ok"===d&&lC(n.onDisconnect_,t,o),sv(0,r,d,m)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Pu("OnDisconnect.update",this._path),b8("OnDisconnect.update",t,this._path,!1);const e=new Y.BH;return function RQ(n,t,e,i){if((0,Y.xb)(e))return aa("onDisconnect().update() called with empty data.  Don't do anything."),void sv(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&la(e,(d,m)=>{const v=ws(m);lC(n.onDisconnect_,hs(t,d),v)}),sv(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Wc{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return ei(this._path)?null:xN(this._path)}get ref(){return new Ou(this._repo,this._path)}get _queryIdentifier(){const t=BH(this._queryParams),e=mN(t);return"{}"===e?"default":e}get _queryObject(){return BH(this._queryParams)}isEqual(t){if(!((t=(0,Y.m9)(t))instanceof Wc))return!1;const e=this._repo===t._repo,i=CN(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function RZ(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function cM(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ov(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===dm){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Q_)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==zf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Vr){if(null!=t&&!aS(t)||null!=e&&!aS(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Y.hu)(n.getIndex()instanceof IN||n.getIndex()===kN,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function dM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ou extends Wc{constructor(t,e){super(t,e,new VA,!1)}get parent(){const t=TH(this._path);return null===t?null:new Ou(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ky{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new er(t),i=Qy(this.ref,t);return new Ky(this._node.getChild(e),i,Vr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Ky(r,Qy(this.ref,i),Vr)))}hasChild(t){const e=new er(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function F8(n,t){return(n=(0,Y.m9)(n))._checkNotDeleted("ref"),void 0!==t?Qy(n._root,t):n._root}function L8(n,t){(n=(0,Y.m9)(n))._checkNotDeleted("refFromURL");const e=mF(t,n._repo.repoInfo_.nodeAdmin);y8("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&cm("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),F8(n,e.path.toString())}function Qy(n,t){return null===Jn((n=(0,Y.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dS("child","path",e,!1)):dS("child","path",t,!1),new Ou(n._repo,hs(n._path,t));var e}function gF(n,t){n=(0,Y.m9)(n),Pu("set",n._path),um("set",t,n._path,!1);const e=new Y.BH;return cF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function qQ(n,t){b8("update",t,n._path,!1);const e=new Y.BH;return function IQ(n,t,e,i){hC(n,"update",{path:t.toString(),value:e});let r=!0;const o=uS(n),d={};if(la(e,(m,v)=>{r=!1,d[m]=f8(hs(t,m),ws(v),n.serverSyncTree_,o)}),r)aa("update() called with empty data.  Don't do anything."),sv(0,i,"ok",void 0);else{const m=oM(n),v=function eQ(n,t,e,i){!function _K(n,t,e,i){(0,Y.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=VN(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Ur.fromObject(e);return uC(n,new cC({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,d,m);sM(n.eventQueue_,v),n.server_.merge(t.toString(),e,(x,T)=>{const P="ok"===x;P||yl("update at "+t+" failed: "+x);const B=rv(n.serverSyncTree_,m,!P),G=B.length>0?pC(n,t):t;Ad(n.eventQueue_,G,B),sv(0,i,x,T)}),la(e,x=>{const T=hF(n,hs(t,x));pC(n,T)}),Ad(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function WQ(n){n=(0,Y.m9)(n);const t=new fF(()=>{}),e=new hS(t);return function SQ(n,t,e){const i=function sQ(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(x,T)=>{const P=rc(x,e);i=i||nv(T,P)});let r=n.syncPointTree_.get(e);r?i=i||nv(r,Ui()):(r=new r8,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,d=o?new ev(i,!0,!1):null;return function jK(n){return GA(n.viewCache_)}(s8(r,t,qA(n.pendingWriteTree_,t._path),o?d.getNode():$n.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=ws(r).withIndex(t._queryParams.getIndex());let d;if(ZN(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())d=iS(n.serverSyncTree_,t._path,o);else{const m=rS(n.serverSyncTree_,t);d=d8(n.serverSyncTree_,t._path,o,m)}return Ad(n.eventQueue_,t._path,d),JA(n.serverSyncTree_,t,e,null,!0),o},r=>(hC(n,"get for query "+(0,Y.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Ky(i,new Ou(n._repo,n._path),n._queryParams.getIndex()))}class hS{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new P8("value",this,new Ky(t.snapshotNode,new Ou(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new O8(this,t,e):null}matches(t){return t instanceof hS&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class uM{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new O8(this,t,e):null}createEvent(t,e){(0,Y.hu)(null!=t.childName,"Child events should have a childName.");const i=Qy(new Ou(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new P8(t.type,this,new Ky(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof uM&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function pS(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const v=e,x=(T,P)=>{dF(n._repo,n,m),v(T,P)};x.userCallback=e.userCallback,x.context=e.context,e=x}const d=new fF(e,o||void 0),m="value"===t?new hS(d):new uM(t,d);return function PQ(n,t,e){let i;i=".info"===Jn(t._path)?ZN(n.infoSyncTree_,t,e):ZN(n.serverSyncTree_,t,e),w8(n.eventQueue_,t._path,i)}(n._repo,n,m),()=>dF(n._repo,n,m)}function _F(n,t,e,i){return pS(n,"value",t,e,i)}function B8(n,t,e,i){return pS(n,"child_added",t,e,i)}function V8(n,t,e,i){return pS(n,"child_changed",t,e,i)}function U8(n,t,e,i){return pS(n,"child_moved",t,e,i)}function H8(n,t,e,i){return pS(n,"child_removed",t,e,i)}function j8(n,t,e){let i=null;const r=e?new fF(e):null;"value"===t?i=new hS(r):t&&(i=new uM(t,r)),dF(n._repo,n,i)}class Hh{}class $8 extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){um("endAt",this._value,t._path,!0);const e=RN(t._queryParams,this._value,this._key);if(dM(e),ov(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wc(t._repo,t._path,e,t._orderByCalled)}}class ZQ extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){um("endBefore",this._value,t._path,!1);const e=function rK(n,t,e){let i;return i=RN(n,t,n.index_===dm||e?e:Q_),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(dM(e),ov(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wc(t._repo,t._path,e,t._orderByCalled)}}class z8 extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){um("startAt",this._value,t._path,!0);const e=MN(t._queryParams,this._value,this._key);if(dM(e),ov(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Wc(t._repo,t._path,e,t._orderByCalled)}}class XQ extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){um("startAfter",this._value,t._path,!1);const e=function iK(n,t,e){let i;return i=MN(n,t,n.index_===dm||e?e:zf),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(dM(e),ov(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Wc(t._repo,t._path,e,t._orderByCalled)}}class eX extends Hh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wc(t._repo,t._path,function tK(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class nX extends Hh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wc(t._repo,t._path,function nK(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class rX extends Hh{constructor(t){super(),this._path=t}_apply(t){cM(t,"orderByChild");const e=new er(this._path);if(ei(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new IN(e),r=UA(t._queryParams,i);return ov(r),new Wc(t._repo,t._path,r,!0)}}class oX extends Hh{_apply(t){cM(t,"orderByKey");const e=UA(t._queryParams,dm);return ov(e),new Wc(t._repo,t._path,e,!0)}}class lX extends Hh{_apply(t){cM(t,"orderByPriority");const e=UA(t._queryParams,Vr);return ov(e),new Wc(t._repo,t._path,e,!0)}}class dX extends Hh{_apply(t){cM(t,"orderByValue");const e=UA(t._queryParams,kN);return ov(e),new Wc(t._repo,t._path,e,!0)}}class hX extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(um("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $8(this._value,this._key)._apply(new z8(this._value,this._key)._apply(t))}}function jh(n,...t){let e=(0,Y.m9)(n);for(const i of t)e=i._apply(e);return e}(function qK(n){(0,Y.hu)(!KA,"__referenceConstructor has already been defined"),KA=n})(Ou),function QK(n){(0,Y.hu)(!XA,"__referenceConstructor has already been defined"),XA=n}(Ou);const vF={};function q8(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||cm("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),aa("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,x,d=mF(o,r),m=d.repoInfo;typeof process<"u"&&process.env&&(x=process.env.FIREBASE_DATABASE_EMULATOR_HOST),x?(v=!0,o=`http://${x}?ns=${m.namespace}`,d=mF(o,r),m=d.repoInfo):v=!d.repoInfo.secure;const T=r&&v?new GT(GT.OWNER):new aZ(n.name,n.options,t);y8("Invalid Firebase Database URL",d),ei(d.path)||cm("Database URL must point to the root of a Firebase Database (not including a child path).");const P=function _X(n,t,e,i){let r=vF[t.name];r||(r={},vF[t.name]=r);let o=r[n.toURLString()];return o&&cm("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new EQ(n,false,e,i),r[n.toURLString()]=o,o}(m,n,T,new oZ(n.name,e));return new bX(P,n)}class bX{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function DQ(n,t,e){if(n.stats_=bN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new HA(n.repoInfo_,(i,r,o,d)=>{D8(n,i,r,o,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>T8(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Y.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Gy(n.repoInfo_,t,(i,r,o,d)=>{D8(n,i,r,o,d)},i=>{T8(n,i)},i=>{!function TQ(n,t){la(t,(e,i)=>{lF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function dZ(n,t){const e=n.toString();return vN[e]||(vN[e]=t()),vN[e]}(n.repoInfo_,()=>new dK(n.stats_,n.server_)),n.infoData_=new sK,n.infoSyncTree_=new c8({startListening:(i,r,o,d)=>{let m=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(m=iS(n.infoSyncTree_,i._path,v),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),lF(n,"connected",!1),n.serverSyncTree_=new c8({startListening:(i,r,o,d)=>(n.server_.listen(i,o,r,(m,v)=>{const x=d(m,v);Ad(n.eventQueue_,i._path,x)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ou(this._repo,Ui())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function gX(n,t){const e=vF[t];(!e||e[n.key]!==n)&&cm(`Database ${t}(${n.repoInfo_}) has already been deleted.`),I8(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&cm("Cannot call "+t+" on a deleted database.")}}function W8(){mH.IS_TRANSPORT_INITIALIZED&&yl("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function yX(){W8(),X_.forceDisallow()}function wX(){W8(),rC.forceDisallow(),X_.forceAllow()}function EX(n,t){YU(n,t)}const TX={".sv":"timestamp"};class kX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Gy.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Gy.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function DX(n){$U(Co.SDK_VERSION),(0,Co._registerComponent)(new ml.wA("database",(t,{instanceIdentifier:e})=>q8(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Co.registerVersion)(HU,"0.14.0",n),(0,Co.registerVersion)(HU,"0.14.0","esm2017")}();const PX=new xd.Yd("@firebase/database-compat"),Z8=function(n){PX.warn("FIREBASE WARNING: "+n)};class FX{constructor(t){this._delegate=t}cancel(t){(0,Y.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,Y.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,Y.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Y.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,Y.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Y.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,Y.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Z8("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Y.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class LX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Y.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class av{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Y.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Y.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Y.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Y.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Y.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),dS("DataSnapshot.child","path",t,!1),new av(this._database,this._delegate.child(t))}hasChild(t){return(0,Y.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dS("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Y.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Y.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Y.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new av(this._database,e)))}hasChildren(){return(0,Y.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Y.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Y.Dv)("DataSnapshot.ref",0,0,arguments.length),new Md(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Fa{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,Y.Dv)("Query.on",2,4,arguments.length),(0,Y.Wj)("Query.on","callback",e,!1);const d=Fa.getCancelAndContextArgs_("Query.on",i,r),m=(x,T)=>{e.call(d.context,new av(this.database,x),T)};m.userCallback=e,m.context=d.context;const v=null===(o=d.cancel)||void 0===o?void 0:o.bind(d.context);switch(t){case"value":return _F(this._delegate,m,v),e;case"child_added":return B8(this._delegate,m,v),e;case"child_removed":return H8(this._delegate,m,v),e;case"child_changed":return V8(this._delegate,m,v),e;case"child_moved":return U8(this._delegate,m,v),e;default:throw new Error((0,Y.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,Y.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Y.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Y.Wj)("Query.off","callback",e,!0),(0,Y.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,j8(this._delegate,t,r)}else j8(this._delegate,t)}get(){return WQ(this._delegate).then(t=>new av(this.database,t))}once(t,e,i,r){(0,Y.Dv)("Query.once",1,4,arguments.length),(0,Y.Wj)("Query.once","callback",e,!0);const o=Fa.getCancelAndContextArgs_("Query.once",i,r),d=new Y.BH,m=(x,T)=>{const P=new av(this.database,x);e&&e.call(o.context,P,T),d.resolve(P)};m.userCallback=e,m.context=o.context;const v=x=>{o.cancel&&o.cancel.call(o.context,x),d.reject(x)};switch(t){case"value":_F(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":B8(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":H8(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":V8(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":U8(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,Y.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,Y.Dv)("Query.limitToFirst",1,1,arguments.length),new Fa(this.database,jh(this._delegate,function tX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eX(n)}(t)))}limitToLast(t){return(0,Y.Dv)("Query.limitToLast",1,1,arguments.length),new Fa(this.database,jh(this._delegate,function iX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new nX(n)}(t)))}orderByChild(t){return(0,Y.Dv)("Query.orderByChild",1,1,arguments.length),new Fa(this.database,jh(this._delegate,function sX(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dS("orderByChild","path",n,!1),new rX(n)}(t)))}orderByKey(){return(0,Y.Dv)("Query.orderByKey",0,0,arguments.length),new Fa(this.database,jh(this._delegate,function aX(){return new oX}()))}orderByPriority(){return(0,Y.Dv)("Query.orderByPriority",0,0,arguments.length),new Fa(this.database,jh(this._delegate,function cX(){return new lX}()))}orderByValue(){return(0,Y.Dv)("Query.orderByValue",0,0,arguments.length),new Fa(this.database,jh(this._delegate,function uX(){return new dX}()))}startAt(t=null,e){return(0,Y.Dv)("Query.startAt",0,2,arguments.length),new Fa(this.database,jh(this._delegate,function QQ(n=null,t){return cS("startAt","key",t,!0),new z8(n,t)}(t,e)))}startAfter(t=null,e){return(0,Y.Dv)("Query.startAfter",0,2,arguments.length),new Fa(this.database,jh(this._delegate,function JQ(n,t){return cS("startAfter","key",t,!0),new XQ(n,t)}(t,e)))}endAt(t=null,e){return(0,Y.Dv)("Query.endAt",0,2,arguments.length),new Fa(this.database,jh(this._delegate,function YQ(n,t){return cS("endAt","key",t,!0),new $8(n,t)}(t,e)))}endBefore(t=null,e){return(0,Y.Dv)("Query.endBefore",0,2,arguments.length),new Fa(this.database,jh(this._delegate,function KQ(n,t){return cS("endBefore","key",t,!0),new ZQ(n,t)}(t,e)))}equalTo(t,e){return(0,Y.Dv)("Query.equalTo",1,2,arguments.length),new Fa(this.database,jh(this._delegate,function pX(n,t){return cS("equalTo","key",t,!0),new hX(n,t)}(t,e)))}toString(){return(0,Y.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Y.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Y.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Fa))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,Y.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,Y.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,Y.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Md(this.database,new Ou(this._delegate._repo,this._delegate._path))}}class Md extends Fa{constructor(t,e){super(t,new Wc(e._repo,e._path,new VA,!1)),this.database=t,this._delegate=e}getKey(){return(0,Y.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Y.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Md(this.database,Qy(this._delegate,t))}getParent(){(0,Y.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Md(this.database,t):null}getRoot(){return(0,Y.Dv)("Reference.root",0,0,arguments.length),new Md(this.database,this._delegate.root)}set(t,e){(0,Y.Dv)("Reference.set",1,2,arguments.length),(0,Y.Wj)("Reference.set","onComplete",e,!0);const i=gF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,Y.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Z8("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pu("Reference.update",this._delegate._path),(0,Y.Wj)("Reference.update","onComplete",e,!0);const i=qQ(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,Y.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Y.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function GQ(n,t,e){if(Pu("setWithPriority",n._path),um("setWithPriority",t,n._path,!1),aF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new Y.BH;return cF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,Y.Dv)("Reference.remove",0,1,arguments.length),(0,Y.Wj)("Reference.remove","onComplete",t,!0);const e=function $Q(n){return Pu("remove",n._path),gF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,Y.Dv)("Reference.transaction",1,3,arguments.length),(0,Y.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Y.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Y.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function AX(n,t,e){var i;if(n=(0,Y.m9)(n),Pu("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new Y.BH,m=_F(n,()=>{});return function NQ(n,t,e,i,r,o){hC(n,"transaction on "+t);const d={path:t,update:e,onComplete:i,status:null,order:GU(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=uF(n,t,void 0);d.currentInputSnapshot=m;const v=d.update(m.val());if(void 0===v)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{lS("transaction failed: Data returned ",v,d.path),d.status=0;const x=nM(n.transactionQueueTree_,t),T=Zy(x)||[];let P;T.push(d),rF(x,T),"object"==typeof v&&null!==v&&(0,Y.r3)(v,".priority")?(P=(0,Y.DV)(v,".priority"),(0,Y.hu)(aS(P),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):P=(eM(n.serverSyncTree_,t)||$n.EMPTY_NODE).getPriority().val();const B=uS(n),G=ws(v,P),Z=tF(G,m,B);d.currentOutputSnapshotRaw=G,d.currentOutputSnapshotResolved=Z,d.currentWriteId=oM(n);const le=YN(n.serverSyncTree_,t,Z,d.currentWriteId,d.applyLocally);Ad(n.eventQueue_,t,le),aM(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,x,T)=>{let P=null;v?o.reject(v):(P=new Ky(T,new Ou(n._repo,n._path),Vr),o.resolve(new kX(x,P)))},m,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new LX(o.committed,new av(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,Y.Dv)("Reference.setPriority",1,2,arguments.length),(0,Y.Wj)("Reference.setPriority","onComplete",e,!0);const i=function zQ(n,t){n=(0,Y.m9)(n),Pu("setPriority",n._path),aF("setPriority",t,!1);const e=new Y.BH;return cF(n._repo,hs(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,Y.Dv)("Reference.push",0,2,arguments.length),(0,Y.Wj)("Reference.push","onComplete",e,!0);const i=function jQ(n,t){n=(0,Y.m9)(n),Pu("push",n._path),um("push",t,n._path,!0);const e=E8(n._repo),i=HQ(e),r=Qy(n,i),o=Qy(n,i);let d;return d=null!=t?gF(o,t).then(()=>o):Promise.resolve(o),r.then=d.then.bind(d),r.catch=d.then.bind(d,void 0),r}(this._delegate,t),r=i.then(d=>new Md(this.database,d));e&&r.then(()=>e(null),d=>e(d));const o=new Md(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Pu("Reference.onDisconnect",this._delegate._path),new FX(new N8(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mS{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:yX,forceLongPolling:wX}}useEmulator(t,e,i={}){!function Y8(n,t,e,i={}){(n=(0,Y.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&cm("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&cm('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new GT(GT.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,Y.Sg)(i.mockUserToken,n.app.options.projectId);o=new GT(d)}!function fX(n,t,e,i){n.repoInfo_=new gN(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,Y.Dv)("database.ref",0,1,arguments.length),t instanceof Md){const e=L8(this._delegate,t.toString());return new Md(this,e)}{const e=F8(this._delegate,t);return new Md(this,e)}}refFromURL(t){(0,Y.Dv)("database.refFromURL",1,1,arguments.length);const i=L8(this._delegate,t);return new Md(this,i)}goOffline(){return(0,Y.Dv)("database.goOffline",0,0,arguments.length),function xX(n){(n=(0,Y.m9)(n))._checkNotDeleted("goOffline"),I8(n._repo)}(this._delegate)}goOnline(){return(0,Y.Dv)("database.goOnline",0,0,arguments.length),function CX(n){(n=(0,Y.m9)(n))._checkNotDeleted("goOnline"),function OQ(n){n.persistentConnection_&&n.persistentConnection_.resume(C8)}(n._repo)}(this._delegate)}}mS.ServerValue={TIMESTAMP:function SX(){return TX}(),increment:n=>function IX(n){return{".sv":{increment:n}}}(n)};var VX=Object.freeze({__proto__:null,initStandalone:function BX({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){$U(e);const d=new ml.zt("auth-internal",new ml.H0("database-standalone"));return d.setComponent(new ml.wA("auth-internal",()=>i,"PRIVATE")),{instance:new mS(q8(n,d,void 0,t,o),n),namespace:r}}});const UX=mS.ServerValue;function K8(n){return null==n}function Q8(n){return"function"==typeof n.set}function X8(n,t){return Q8(t)?t:n.ref(t)}function J8(n,t){if(function jX(n){return"string"==typeof n}(n))return t.stringCase();if(Q8(n))return t.firebaseCase();if(function $X(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function fS(n,t,e="on",i=fl.z){return new Ei.y(r=>{let o=null;return o=n[e](t,(d,m)=>{i.schedule(()=>{r.next({snapshot:d,prevKey:m})}),"once"===e&&i.schedule(()=>r.complete())},d=>{i.schedule(()=>r.error(d))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,N.U)(r=>{const{snapshot:o,prevKey:d}=r;let m=null;return o.exists()&&(m=o.key),{type:t,payload:o,prevKey:d,key:m}}),(0,XP.B)())}function ej(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function qX(n,t){const{payload:e,prevKey:i,key:r}=t,o=ej(n,r),d=function GX(n,t){if(K8(t))return 0;{const e=ej(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(v=>{const x={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,x],!1})}return n;case"child_added":if(o>-1){const m=n[o-1];(m&&m.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(d,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===r?t:m);case"child_moved":if(o>-1){const m=n.splice(o,1)[0];return(n=n.slice()).splice(d,0,m),n}return n;default:return n}}function tj(n){return(K8(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function nj(n,t,e){return function zX(n,t,e){return fS(n,"value","once",e).pipe(Di(i=>{const r=[bt(i)];return t.forEach(o=>r.push(fS(n,o,"on",e))),(0,nc.T)(...r).pipe(cd(qX,[]))}),Op())}(n,t=tj(t),e)}function ij(n,t,e){const i=(t=tj(t)).map(r=>fS(n,r,"on",e));return(0,nc.T)(...i)}function rj(n,t){return function(i,r){return J8(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function KX(n){return function(e){return e?J8(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function sj(n,t){return function(){return fS(n,"value","on",t)}}!function HX(n){n.INTERNAL.registerComponent(new ml.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new mS(r,i)},"PUBLIC").setServiceProps({Reference:Md,Query:Fa,Database:mS,DataSnapshot:av,enableLogging:EX,INTERNAL:VX,ServerValue:UX}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(Bb.Z);const JX=new a.OlP("angularfire2.realtimeDatabaseURL"),eJ=new a.OlP("angularfire2.database.use-emulator");let oj=(()=>{class n{constructor(e,i,r,o,d,m,v,x,T,P,B,G,Z,le,xe){this.schedulers=m;const Xe=v,_t=(0,Li.on)(e,d,i);x&&DO(_t,d,T,B,G,Z,P,le),this.database=(0,Li.cc)(`${_t.name}.database.${r}`,"AngularFireDatabase",_t.name,()=>{const vt=d.runOutsideAngular(()=>_t.database(r||void 0));return Xe&&vt.useEmulator(...Xe),vt},[Xe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>X8(this.database,e));let o=r;return i&&(o=i(r)),function QX(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:rj(i,"update"),set:rj(i,"set"),push:r=>i.push(r),remove:KX(i),snapshotChanges:r=>nj(n,r,e).pipe(On.iC),stateChanges:r=>ij(n,r,e).pipe(On.iC),auditTrail:r=>function WX(n,t,e){return function ZX(n,t,e){return function YX(n,t){return fS(n,"value","on",t).pipe((0,N.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function q9(...n){const t=(0,ai.jO)(n);return(0,Or.e)((e,i)=>{const r=n.length,o=new Array(r);let d=n.map(()=>!1),m=!1;for(let v=0;v<r;v++)(0,Ws.Xf)(n[v]).subscribe((0,Ue.x)(i,x=>{o[v]=x,!m&&!d[v]&&(d[v]=!0,(m=d.every(O.y))&&(d=null))},OO.Z));e.subscribe((0,Ue.x)(i,v=>{if(m){const x=[v,...o];i.next(t?t(...x):x)}}))})}(t),(0,N.U)(([r,o])=>{const d=r.lastKeyToLoad,m=o.map(v=>v.key);return{actions:o,lastKeyToLoad:d,loadedKeys:m}}),function W9(n){return(0,Or.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Ue.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,N.U)(r=>r.actions))}(n,ij(n,t).pipe(cd((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(On.iC),valueChanges:(r,o)=>nj(n,r,e).pipe((0,N.U)(m=>m.map(v=>o&&o.idField?Object.assign(Object.assign({},v.payload.val()),{[o.idField]:v.key}):v.payload.val())),On.iC)}}(o,this)}object(e){return function XX(n,t){return{query:n,snapshotChanges:()=>sj(n,t.schedulers.outsideAngular)().pipe(On.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>sj(n,t.schedulers.outsideAngular)().pipe(On.iC,(0,N.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>X8(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Li.Dh),a.LFG(Li.xv,8),a.LFG(JX,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(On.HU),a.LFG(eJ,8),a.LFG(gT,8),a.LFG(bO,8),a.LFG(yO,8),a.LFG(wO,8),a.LFG(xO,8),a.LFG(CO,8),a.LFG(EO,8),a.LFG(fT,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tJ=(()=>{class n{constructor(){tA.Z.registerVersion("angularfire",On.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[oj]}),n})();class lv{constructor(t){this.db=t,this.dbPath="/laptops",this.laptopsRef=t.list(this.dbPath)}getAll(){return this.laptopsRef}create(t){return this.laptopsRef.push(t)}update(t,e){return this.laptopsRef.update(t,e)}delete(t){return this.laptopsRef.remove(t)}deleteAll(){return this.laptopsRef.remove()}}lv.\u0275fac=function(t){return new(t||lv)(a.LFG(oj))},lv.\u0275prov=a.Yz7({token:lv,factory:lv.\u0275fac,providedIn:"root"});const nJ=["*"],sJ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],oJ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],aJ=new a.OlP("MAT_CARD_CONFIG");let gS=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(aJ,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:nJ,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),_S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),lj=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-mdc-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),cj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:oJ,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(a.F$t(sJ),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),dj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),n})(),uj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,yi,cn]}),n})();class vS{}vS.\u0275fac=function(t){return new(t||vS)},vS.\u0275cmp=a.Xpm({type:vS,selectors:[["app-products-card"]],inputs:{laptop:"laptop"},decls:19,vars:5,consts:[[1,"laptop-card"],[1,"titlebox"],["matRipple","",1,"ripple-container"],["mat-card-image","","alt","Laptop",2,"padding","1rem","width","19rem",3,"src"],[1,"price"],[1,"basic-spec"],["mat-button",""]],template:function(t,e){1&t&&(a.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"div",1),a._uU(4),a.qZA()()(),a.TgZ(5,"div",2),a._UZ(6,"img",3),a.qZA(),a.TgZ(7,"mat-card-content")(8,"div",4)(9,"p"),a._uU(10),a.qZA()(),a.TgZ(11,"div",5)(12,"p"),a._uU(13),a.qZA()()(),a.TgZ(14,"mat-card-actions")(15,"button",6)(16,"mat-icon"),a._uU(17,"credit_card"),a.qZA(),a._uU(18,"BUY NOW"),a.qZA()()()),2&t&&(a.xp6(4),a.Oqu(e.laptop.name),a.xp6(2),a.s9C("src",e.laptop.image,a.LSH),a.xp6(4),a.AsE("Price: ",e.laptop.price.old_price," ",e.laptop.price.currency,""),a.xp6(3),a.Oqu(e.laptop.info))},dependencies:[Yx,gS,lj,_S,cj,dj,aj,LT,Id],styles:[".laptop-card[_ngcontent-%COMP%]{max-width:20rem;margin:.6rem}.titlebox[_ngcontent-%COMP%]{font-size:1rem}.ripple-container[_ngcontent-%COMP%]{cursor:pointer;justify-content:center;text-align:center;width:20rem;user-select:none;-webkit-user-select:none;-moz-user-select:none;-webkit-user-drag:none;-webkit-tap-highlight-color:transparent}.price[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.2rem}.basic-spec[_ngcontent-%COMP%]{font-size:.75rem}.card-text[_ngcontent-%COMP%]{color:#000}"]});const gJ=function(){return["/dashboard"]};function _J(n,t){1&n&&(a.TgZ(0,"a",4)(1,"mat-icon"),a._uU(2,"dashboard"),a.qZA(),a._uU(3,"Dashboard"),a.qZA()),2&n&&a.Q6J("routerLink",a.DdM(1,gJ))}const vJ=function(){return["/login"]};function bJ(n,t){1&n&&(a.TgZ(0,"a",4),a._uU(1,"Log In"),a.qZA()),2&n&&a.Q6J("routerLink",a.DdM(1,vJ))}const yJ=function(){return["/register"]};function wJ(n,t){1&n&&(a.TgZ(0,"a",4),a._uU(1,"Sign Up"),a.qZA()),2&n&&a.Q6J("routerLink",a.DdM(1,yJ))}function xJ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",16),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.ShowDialog())}),a.TgZ(1,"mat-icon"),a._uU(2,"exit_to_app"),a.qZA(),a._uU(3,"Log Out"),a.qZA()}}function CJ(n,t){1&n&&a._UZ(0,"app-products-card",17),2&n&&a.Q6J("laptop",t.$implicit)}const hj=function(){return["/home"]};class bS{constructor(t,e,i){this.authService=t,this.dialog=e,this.laptopService=i,this.laptops=new Array}ngOnInit(){this.retrieveLaptops()}ShowDialog(){this.dialog.open(Jx)}retrieveLaptops(){this.laptopService.getAll().snapshotChanges().pipe((0,N.U)(t=>t.map(e=>({key:e.payload.key,...e.payload.val()})))).subscribe(t=>{for(let e=0;e<t.length;e++)t[e].published&&this.laptops?.push(t[e])})}gotoTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}bS.\u0275fac=function(t){return new(t||bS)(a.Y36(Gc),a.Y36(PT),a.Y36(lv))},bS.\u0275cmp=a.Xpm({type:bS,selectors:[["app-home"]],decls:25,vars:9,consts:[["color","primary"],[3,"routerLink"],["src","assets/images/bran.png","alt","brand_logo",2,"height","2rem"],[1,"spacer"],["mat-button","",3,"routerLink"],["mat-button","",3,"routerLink",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],[1,"wrapper"],[1,"main"],[1,"laptopList"],[1,"containerlap"],[3,"laptop",4,"ngFor","ngForOf"],[1,"footer"],[1,"footerText"],[1,"buttonUp"],["id","myBtn",3,"click"],["mat-button","",3,"click"],[3,"laptop"]],template:function(t,e){1&t&&(a.TgZ(0,"mat-toolbar",0)(1,"span")(2,"a",1),a._UZ(3,"img",2),a.qZA()(),a._UZ(4,"div",3),a.TgZ(5,"a",4)(6,"mat-icon"),a._uU(7,"shop"),a.qZA(),a._uU(8,"Shop"),a.qZA(),a.YNc(9,_J,4,2,"a",5),a.YNc(10,bJ,2,2,"a",5),a.YNc(11,wJ,2,2,"a",5),a.YNc(12,xJ,4,0,"a",6),a.qZA(),a.TgZ(13,"div",7)(14,"div",8)(15,"div",9)(16,"div",10),a.YNc(17,CJ,1,1,"app-products-card",11),a.qZA()()()(),a.TgZ(18,"div",12)(19,"div",13),a._uU(20," For more information, please visit our newsletter. "),a.qZA(),a.TgZ(21,"div",14)(22,"button",15),a.NdJ("click",function(){return e.gotoTop()}),a.TgZ(23,"mat-icon"),a._uU(24,"keyboard_arrow_up"),a.qZA()()()()),2&t&&(a.xp6(2),a.Q6J("routerLink",a.DdM(7,hj)),a.xp6(3),a.Q6J("routerLink",a.DdM(8,hj)),a.xp6(4),a.Q6J("ngIf",e.authService.isLoggedIn),a.xp6(1),a.Q6J("ngIf",!e.authService.isLoggedIn),a.xp6(1),a.Q6J("ngIf",!e.authService.isLoggedIn),a.xp6(1),a.Q6J("ngIf",e.authService.isLoggedIn),a.xp6(5),a.Q6J("ngForOf",e.laptops))},dependencies:[uo,un,bh,g3,LT,OU,vS],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}#myBtn[_ngcontent-%COMP%]{border:none;outline:none;background-color:#2e8d46;color:#fff;cursor:pointer;padding:.5rem;border-radius:10px;font-size:3rem}#myBtn[_ngcontent-%COMP%]:hover{background-color:#555}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.buttonUp[_ngcontent-%COMP%]{text-align:right}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffff80;border-bottom:.25rem solid transparent}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-bottom-color:#ffffff73}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%]{margin-left:1rem}.nav-masthead[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.cover-container[_ngcontent-%COMP%]{max-width:1000px}body[_ngcontent-%COMP%]{box-shadow:inset 0 0 5rem #00000080}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.footer[_ngcontent-%COMP%]{position:relative;margin-top:-6rem;height:6rem;color:#fff;bottom:0;width:100%;background:rgb(39,76,156);padding:1rem 6rem;clear:both}.wrapper[_ngcontent-%COMP%]{min-height:93.4%}.main[_ngcontent-%COMP%]{overflow:auto;padding-bottom:6rem}.laptopList[_ngcontent-%COMP%]{padding:2rem 0}.containerlap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.containerlap[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1 1 20rem}"]});const pj=q_({passive:!0});let EJ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ps.E;const i=Uf(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new gt.x,d="cdk-text-field-autofilled",m=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,pj),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",m,pj)}}),o}stopMonitoring(e){const i=Uf(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(us),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const TJ=["matFormFieldNotchedOutline",""],SJ=["*"],IJ=["textField"],kJ=["iconPrefixContainer"],AJ=["textPrefixContainer"];function MJ(n,t){1&n&&a._UZ(0,"span",19)}function RJ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",17),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r._refreshOutlineNotchWidth())}),a.Hsn(1,1),a.YNc(2,MJ,1,0,"span",18),a.qZA()}if(2&n){const e=a.oxw(2);a.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function PJ(n,t){if(1&n&&a.YNc(0,RJ,3,6,"label",16),2&n){const e=a.oxw();a.Q6J("ngIf",e._hasFloatingLabel())}}function OJ(n,t){1&n&&a._UZ(0,"div",20)}function NJ(n,t){}function FJ(n,t){if(1&n&&a.YNc(0,NJ,0,0,"ng-template",22),2&n){a.oxw(2);const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function LJ(n,t){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,FJ,1,1,"ng-template",9),a.qZA()),2&n){const e=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),a.xp6(1),a.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function BJ(n,t){1&n&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function VJ(n,t){1&n&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function UJ(n,t){}function HJ(n,t){if(1&n&&a.YNc(0,UJ,0,0,"ng-template",22),2&n){a.oxw();const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function jJ(n,t){1&n&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function $J(n,t){1&n&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function zJ(n,t){1&n&&a._UZ(0,"div",29)}function GJ(n,t){if(1&n&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function qJ(n,t){if(1&n&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function WJ(n,t){if(1&n&&(a.TgZ(0,"div",31),a.YNc(1,qJ,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const YJ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ZJ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let yS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),KJ=0;const mj=new a.OlP("MatError");let fj=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+KJ++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&a.Ikx("id",i.id)},inputs:{id:"id"},features:[a._Bn([{provide:mj,useExisting:n}])]}),n})(),QJ=0,gj=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+QJ++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(a.Ikx("id",i.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const XJ=new a.OlP("MatPrefix"),JJ=new a.OlP("MatSuffix");let _j=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function eee(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const vj="mdc-line-ripple--active",hM="mdc-line-ripple--deactivating";let bj=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,d=o.contains(hM);"opacity"===r.propertyName&&d&&o.remove(vj,hM)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(hM),e.add(vj)}deactivate(){this._elementRef.nativeElement.classList.add(hM)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),yj=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:TJ,ngContentSelectors:SJ,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&e&&(a.xp6(1),a.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const tee={transitionMessages:no("transitionMessages",[Si("enter",tn({opacity:1,transform:"translateY(0%)"})),vi("void => enter",[tn({opacity:0,transform:"translateY(-5px)"}),xi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const wS=new a.OlP("MatFormField"),nee=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let wj=0,yF=(()=>{class n{constructor(e,i,r,o,d,m,v,x){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=d,this._defaults=m,this._animationMode=v,this._document=x,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+wj++,this._hintLabelId="mat-mdc-hint-"+wj++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new gt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,m&&(m.appearance&&(this.appearance=m.appearance),this._hideRequiredMarker=Boolean(m?.hideRequiredMarker),m.color&&(this.color=m.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Gt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Xn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,nc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Xn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Xn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(Sd),a.Y36(us),a.Y36(nee,8),a.Y36(a.QbO,8),a.Y36(_e))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,yS,5),a.Suo(r,yS,7),a.Suo(r,bF,5),a.Suo(r,XJ,5),a.Suo(r,JJ,5),a.Suo(r,mj,5),a.Suo(r,gj,5)),2&e){let o;a.iGM(o=a.CRH())&&(i._labelChildNonStatic=o.first),a.iGM(o=a.CRH())&&(i._labelChildStatic=o.first),a.iGM(o=a.CRH())&&(i._formFieldControl=o.first),a.iGM(o=a.CRH())&&(i._prefixChildren=o),a.iGM(o=a.CRH())&&(i._suffixChildren=o),a.iGM(o=a.CRH())&&(i._errorChildren=o),a.iGM(o=a.CRH())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(a.Gf(IJ,5),a.Gf(kJ,5),a.Gf(AJ,5),a.Gf(_j,5),a.Gf(yj,5),a.Gf(bj,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._textField=r.first),a.iGM(r=a.CRH())&&(i._iconPrefixContainer=r.first),a.iGM(r=a.CRH())&&(i._textPrefixContainer=r.first),a.iGM(r=a.CRH())&&(i._floatingLabel=r.first),a.iGM(r=a.CRH())&&(i._notchedOutline=r.first),a.iGM(r=a.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&a.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:wS,useExisting:n}])],ngContentSelectors:ZJ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(a.F$t(YJ),a.YNc(0,PJ,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),a.YNc(4,OJ,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,LJ,2,3,"div",5),a.YNc(7,BJ,3,0,"div",6),a.YNc(8,VJ,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,HJ,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,jJ,2,0,"div",10),a.YNc(13,$J,2,0,"div",11),a.qZA(),a.YNc(14,zJ,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,GJ,2,1,"div",14),a.YNc(17,WJ,5,2,"div",15),a.qZA()),2&e&&(a.xp6(2),a.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),a.xp6(2),a.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),a.xp6(2),a.Q6J("ngIf",i._hasOutline()),a.xp6(1),a.Q6J("ngIf",i._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",i._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",i._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",i._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!i._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[un,dr,ho,ma,NO,gj,_j,yj,bj],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[tee.transitionMessages]},changeDetection:0}),n})(),xS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,yi,lA,cn]}),n})();const Ej=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),see=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let oee=0;const aee=n3(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new gt.x}});let wF=(()=>{class n extends aee{constructor(e,i,r,o,d,m,v,x,T,P){super(m,o,d,r),this._elementRef=e,this._platform=i,this._autofillMonitor=x,this._formField=P,this._uid="mat-input-"+oee++,this.focused=!1,this.stateChanges=new gt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Z=>FV().has(Z)),this._iOSKeyupListener=Z=>{const le=Z.target;!le.value&&0===le.selectionStart&&0===le.selectionEnd&&(le.setSelectionRange(1,1),le.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,G=B.nodeName.toLowerCase();this._inputValueAccessor=v||B,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===G,this._isTextarea="textarea"===G,this._isInFormField=!!P,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(e){this._disabled=Gt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(nb.required)??!1}set required(e){this._required=Gt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&FV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Gt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){see.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(us),a.Y36(ll,10),a.Y36(ul,8),a.Y36(vd,8),a.Y36(VO),a.Y36(Ej,10),a.Y36(EJ),a.Y36(a.R0b),a.Y36(wS,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),a.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),a.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:bF,useExisting:n}]),a.qOj,a.TTD]}),n})(),Dj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,xS,xS,DJ,cn]}),n})();const lee=function(){return["/home"]},cee=function(){return["/register"]};class CS{constructor(t){this.authService=t}ngOnInit(){}}CS.\u0275fac=function(t){return new(t||CS)(a.Y36(Gc))},CS.\u0275cmp=a.Xpm({type:CS,selectors:[["app-login"]],decls:32,vars:4,consts:[[1,"main-div"],[3,"routerLink"],["src","/assets/images/logomini.png","alt","Logo",2,"height","3.5rem","margin-bottom","1.5rem"],["matInput","","type","email","required",""],["userName",""],["matInput","","type","password","required","",3,"keydown.enter"],["userPassword",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"fab","fa-google-plus-g"],[1,"redirectToLogin"],[1,"redirect",3,"routerLink"]],template:function(t,e){if(1&t){const i=a.EpF();a.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-content")(3,"a",1),a._UZ(4,"img",2),a.qZA(),a.TgZ(5,"h2"),a._uU(6,"Login to NetCap"),a.qZA(),a.TgZ(7,"mat-form-field")(8,"mat-label"),a._uU(9,"E-mail"),a.qZA(),a._UZ(10,"input",3,4),a.TgZ(12,"mat-error"),a._uU(13," Please provide a valid email address "),a.qZA()(),a.TgZ(14,"mat-form-field")(15,"mat-label"),a._uU(16,"Password"),a.qZA(),a.TgZ(17,"input",5,6),a.NdJ("keydown.enter",function(){a.CHM(i);const o=a.MAs(11),d=a.MAs(18);return a.KtG(e.authService.SignIn(o.value,d.value))}),a.qZA(),a.TgZ(19,"mat-error"),a._uU(20," Please provide a valid password "),a.qZA()(),a.TgZ(21,"button",7),a.NdJ("click",function(){a.CHM(i);const o=a.MAs(11),d=a.MAs(18);return a.KtG(e.authService.SignIn(o.value,d.value))}),a._uU(22," Log in "),a.qZA(),a.TgZ(23,"button",8),a.NdJ("click",function(){return e.authService.GoogleAuth()}),a._UZ(24,"i",9),a._uU(25," Log in with Google "),a.qZA()(),a.TgZ(26,"div",10)(27,"span"),a._uU(28,"Don't have an account?"),a.TgZ(29,"span",11)(30,"strong"),a._uU(31," Sign Up "),a.qZA()()()()()()}2&t&&(a.xp6(3),a.Q6J("routerLink",a.DdM(2,lee)),a.xp6(26),a.Q6J("routerLink",a.DdM(3,cee)))},dependencies:[bh,Yx,gS,_S,wF,yF,yS,fj],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}button[_ngcontent-%COMP%]{width:90%;margin-bottom:1em}.redirectToLogin[_ngcontent-%COMP%]{margin:1em 0}.main-div[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}strong[_ngcontent-%COMP%]{cursor:pointer}"]});class mC{}mC.\u0275fac=function(t){return new(t||mC)},mC.\u0275cmp=a.Xpm({type:mC,selectors:[["app-not-found"]],decls:4,vars:0,consts:[[1,"displayTable"],[1,"title"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1"),a._uU(3,"Error 404"),a.qZA()()())},styles:[".title[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#888;font-family:Lato,sans-serif;font-size:50px;padding-right:12px;animation:_ngcontent-%COMP%_type .5s alternate infinite}.displayTable[_ngcontent-%COMP%]{background:#fff!important;height:100vh;display:flex;justify-content:center;align-items:center}@keyframes _ngcontent-%COMP%_type{0%{box-shadow:inset -3px 0 #888}to{box-shadow:inset -3px 0 0 transparent}}"]});let dee=0;const xF=new a.OlP("CdkAccordion");let uee=(()=>{class n{constructor(){this._stateChanges=new gt.x,this._openCloseAllActions=new gt.x,this.id="cdk-accordion-"+dee++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Gt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a._Bn([{provide:xF,useExisting:n}]),a.TTD]}),n})(),hee=0,pee=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Ys.w0.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+hee++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,d)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===d&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Gt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Gt(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(xF,12),a.Y36(a.sBO),a.Y36(oN))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:xF,useValue:void 0}])]}),n})(),mee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const fee=["body"];function gee(n,t){}const _ee=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],vee=["mat-expansion-panel-header","*","mat-action-row"];function bee(n,t){if(1&n&&a._UZ(0,"span",2),2&n){const e=a.oxw();a.Q6J("@indicatorRotate",e._getExpandedState())}}const yee=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],wee=["mat-panel-title","mat-panel-description","*"],CF=new a.OlP("MAT_ACCORDION"),Tj="225ms cubic-bezier(0.4,0.0,0.2,1)",Sj={indicatorRotate:no("indicatorRotate",[Si("collapsed, void",tn({transform:"rotate(0deg)"})),Si("expanded",tn({transform:"rotate(180deg)"})),vi("expanded <=> collapsed, void => collapsed",xi(Tj))]),bodyExpansion:no("bodyExpansion",[Si("collapsed, void",tn({height:"0px",visibility:"hidden"})),Si("expanded",tn({height:"*",visibility:"visible"})),vi("expanded <=> collapsed, void => collapsed",xi(Tj))])},Ij=new a.OlP("MAT_EXPANSION_PANEL");let xee=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(Ij,8))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Cee=0;const kj=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Aj=(()=>{class n extends pee{constructor(e,i,r,o,d,m,v){super(e,i,r),this._viewContainerRef=o,this._animationMode=m,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new gt.x,this._headerId="mat-expansion-panel-header-"+Cee++,this._bodyAnimationDone=new gt.x,this.accordion=e,this._document=d,this._bodyAnimationDone.pipe(Op((x,T)=>x.fromState===T.fromState&&x.toState===T.toState)).subscribe(x=>{"void"!==x.fromState&&("expanded"===x.toState?this.afterExpand.emit():"collapsed"===x.toState&&this.afterCollapse.emit())}),v&&(this.hideToggle=v.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Gt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Wr(null),Wn(()=>this.expanded&&!this._portal),li(1)).subscribe(()=>{this._portal=new kT(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(CF,12),a.Y36(a.sBO),a.Y36(oN),a.Y36(a.s_b),a.Y36(_e),a.Y36(a.QbO,8),a.Y36(kj,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,xee,5),2&e){let o;a.iGM(o=a.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&a.Gf(fee,5),2&e){let r;a.iGM(r=a.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&a.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:CF,useValue:void 0},{provide:Ij,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:vee,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(a.F$t(_ee),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,gee,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),a.uIk("aria-labelledby",i._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",i._portal))},dependencies:[Kx],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Sj.bodyExpansion]},changeDetection:0}),n})();class Eee{}const Dee=W_(Eee);let Mj=(()=>{class n extends Dee{constructor(e,i,r,o,d,m,v){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=m,this._parentChangeSubscription=Ys.w0.EMPTY;const x=e.accordion?e.accordion._stateChanges.pipe(Wn(T=>!(!T.hideToggle&&!T.togglePosition))):Ps.E;this.tabIndex=parseInt(v||"")||0,this._parentChangeSubscription=(0,nc.T)(e.opened,e.closed,x,e._inputChanges.pipe(Wn(T=>!!(T.hideToggle||T.disabled||T.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Wn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),d&&(this.expandedHeight=d.expandedHeight,this.collapsedHeight=d.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Fh(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Aj,1),a.Y36(a.SBq),a.Y36(Bh),a.Y36(a.sBO),a.Y36(kj,8),a.Y36(a.QbO,8),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(a.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),a.Udp("height",i._getHeaderHeight()),a.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:wee,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(a.F$t(yee),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,bee,1,1,"span",1)),2&e&&(a.ekj("mat-content-hide-toggle",!i._showToggle()),a.xp6(4),a.Q6J("ngIf",i._showToggle()))},dependencies:[un],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Sj.indicatorRotate]},changeDetection:0}),n})(),Tee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),See=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Iee=(()=>{class n extends uee{constructor(){super(...arguments),this._ownHeaders=new a.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Gt(e)}ngAfterContentInit(){this._headers.changes.pipe(Wr(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new LO(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,Mj,5),2&e){let o;a.iGM(o=a.CRH())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[a._Bn([{provide:CF,useExisting:n}]),a.qOj]}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[yi,cn,mee,am]}),n})();function kee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updatePublished(!1))}),a._uU(1,"UnPublish"),a.qZA()}}function Aee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updatePublished(!0))}),a._uU(1,"Publish"),a.qZA()}}function Mee(n,t){if(1&n&&a._UZ(0,"img",41),2&n){const e=a.oxw();a.s9C("src",e.currentLaptop.image,a.LSH)}}function Ree(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-form-field",12)(1,"mat-label"),a._uU(2,"Image"),a.qZA(),a.TgZ(3,"input",42),a.NdJ("ngModelChange",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o.currentLaptop.image=r)}),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(3),a.Q6J("ngModel",e.currentLaptop.image)}}function Pee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-form-field",12)(1,"input",42),a.NdJ("ngModelChange",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o.currentLaptop.image=r)}),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngModel",e.currentLaptop.image)}}class ES{constructor(t){this.laptopService=t,this.refreshList=new a.vpe,this.currentLaptop={published:!1},this.message="",this.newPrice={currency:"USD",old_price:0},this.newDetails={cpu_implementation:"",cpu_number_of_cores:0,cpu_type:"",design_color_name:"",display_size__inch:0,memory_ram__gb:0,storage_capacity__gb:0,storage_type:""},this.newLaptop={key:Math.floor(899999*Math.random()+1e5).toString(),image:"",info:"",main:this.newDetails,mpn:"",name:"New Laptop",price:this.newPrice,published:!1}}ngOnInit(){this.message=""}ngOnChanges(){this.message="",this.currentLaptop={...this.laptop}}updatePublished(t){this.currentLaptop.key&&this.laptopService.update(this.currentLaptop.key,{published:t}).then(()=>{this.currentLaptop.published=t,this.message="The status was updated successfully!"}).catch(e=>console.log(e))}updateLaptop(){this.currentLaptop.key&&this.laptopService.update(this.currentLaptop.key,{key:this.currentLaptop.key,image:this.currentLaptop.image,info:this.currentLaptop.info,main:this.currentLaptop.main,mpn:this.currentLaptop.mpn,name:this.currentLaptop.name,price:this.currentLaptop.price}).then(()=>this.message="The laptop was updated successfully!").catch(e=>console.log(e))}deleteLaptop(){this.currentLaptop.key&&this.laptopService.delete(this.currentLaptop.key).then(()=>{this.refreshList.emit(),this.message="The laptop was updated successfully!"}).catch(t=>console.log(t))}addLaptop(){this.laptopService.create(this.newLaptop).then(()=>{this.refreshList.emit(),this.message="The laptop was added successfully!"})}}ES.\u0275fac=function(t){return new(t||ES)(a.Y36(lv))},ES.\u0275cmp=a.Xpm({type:ES,selectors:[["app-laptop-details"]],inputs:{laptop:"laptop"},outputs:{refreshList:"refreshList"},features:[a.TTD],decls:116,vars:21,consts:[[1,"form-group"],[2,"margin-bottom","1rem"],["mat-stroked-button","","id","statusbtn","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","id","statusbtn","color","success",3,"click"],["mat-stroked-button","","id","statusbtn","color","primary",3,"click"],["mat-stroked-button","","id","statusbtn","color","warn",3,"click"],[2,"margin","1rem 0"],[3,"expanded"],[2,"margin-bottom","15px"],[1,"centerimage"],["class","laptopimage",3,"src",4,"ngIf"],["appearance","outline","style","width: 100%",4,"ngIf"],["appearance","outline",2,"width","100%"],["for","currency"],["matInput","","type","text","matInput","","id","currency","name","currency",3,"ngModel","ngModelChange"],["for","price"],["matInput","","type","text","matInput","","id","price","name","price",3,"ngModel","ngModelChange"],["for","url"],["matInput","","type","text","matInput","","id","url","name","url",3,"ngModel","ngModelChange"],["for","name"],["matInput","","type","text","matInput","","id","name","name","name",3,"ngModel","ngModelChange"],["for","info"],["matInput","","type","text","matInput","","id","info","name","info",3,"ngModel","ngModelChange"],["for","mpn"],["matInput","","type","text","matInput","","id","mpn","name","mpn",3,"ngModel","ngModelChange"],["for","cpu_implementation"],["matInput","","type","text","matInput","","id","cpu_implementation","name","cpu_implementation",3,"ngModel","ngModelChange"],["for","cpu_number_of_cores"],["matInput","","type","text","matInput","","id","cpu_number_of_cores","name","cpu_number_of_cores",3,"ngModel","ngModelChange"],["for","cpu_type"],["matInput","","type","text","matInput","","id","cpu_type","name","cpu_type",3,"ngModel","ngModelChange"],["for","design_color_name"],["matInput","","type","text","matInput","","id","design_color_name","name","design_color_name",3,"ngModel","ngModelChange"],["for","display_size__inch"],["matInput","","type","text","matInput","","id","display_size__inch","name","display_size__inch",3,"ngModel","ngModelChange"],["for","memory_ram__gb"],["matInput","","type","text","matInput","","id","memory_ram__gb","name","memory_ram__gb",3,"ngModel","ngModelChange"],["for","storage_capacity__gb"],["matInput","","type","text","matInput","","id","storage_capacity__gb","name","storage_capacity__gb",3,"ngModel","ngModelChange"],["for","storage_type"],["matInput","","type","text","matInput","","id","storage_type","name","storage_type",3,"ngModel","ngModelChange"],[1,"laptopimage",3,"src"],["matInput","","type","text","placeholder","https://laptop-photo.com/example-laptop.jpg","id","image","name","image",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(a.TgZ(0,"form")(1,"mat-card-content")(2,"div",0)(3,"label")(4,"strong"),a._uU(5,"Status:"),a.qZA(),a._uU(6),a.qZA()(),a._UZ(7,"mat-divider",1),a.YNc(8,kee,2,0,"button",2),a.YNc(9,Aee,2,0,"button",2),a.TgZ(10,"button",3),a.NdJ("click",function(){return e.addLaptop()}),a.TgZ(11,"mat-icon"),a._uU(12,"add_box"),a.qZA(),a._uU(13,"New"),a.qZA(),a.TgZ(14,"button",4),a.NdJ("click",function(){return e.updateLaptop()}),a._uU(15,"Update"),a.qZA(),a.TgZ(16,"button",5),a.NdJ("click",function(){return e.deleteLaptop()}),a._uU(17,"Delete"),a.qZA(),a._UZ(18,"mat-divider",6),a.TgZ(19,"mat-accordion")(20,"mat-expansion-panel",7)(21,"mat-expansion-panel-header")(22,"mat-panel-title")(23,"mat-icon"),a._uU(24,"camera_alt"),a.qZA(),a._uU(25," \xa0 Photo "),a.qZA(),a.TgZ(26,"mat-panel-description"),a._uU(27," Laptop image "),a.qZA()(),a._UZ(28,"mat-divider",8),a.TgZ(29,"div",9),a.YNc(30,Mee,1,1,"img",10),a.qZA(),a.YNc(31,Ree,4,1,"mat-form-field",11),a.YNc(32,Pee,2,1,"mat-form-field",11),a.qZA(),a.TgZ(33,"mat-expansion-panel")(34,"mat-expansion-panel-header")(35,"mat-panel-title")(36,"mat-icon"),a._uU(37,"credit_card"),a.qZA(),a._uU(38," \xa0 Price "),a.qZA(),a.TgZ(39,"mat-panel-description"),a._uU(40," Price and auction "),a.qZA()(),a._UZ(41,"mat-divider",8),a.TgZ(42,"mat-form-field",12)(43,"mat-label",13),a._uU(44,"Currency"),a.qZA(),a.TgZ(45,"input",14),a.NdJ("ngModelChange",function(r){return e.currentLaptop.price.currency=r}),a.qZA()(),a.TgZ(46,"mat-form-field",12)(47,"mat-label",15),a._uU(48,"Price"),a.qZA(),a.TgZ(49,"input",16),a.NdJ("ngModelChange",function(r){return e.currentLaptop.price.old_price=r}),a.qZA()(),a.TgZ(50,"mat-form-field",12)(51,"mat-label",17),a._uU(52,"Auction"),a.qZA(),a.TgZ(53,"input",18),a.NdJ("ngModelChange",function(r){return e.currentLaptop.price.url=r}),a.qZA()()(),a.TgZ(54,"mat-expansion-panel")(55,"mat-expansion-panel-header")(56,"mat-panel-title")(57,"mat-icon"),a._uU(58,"layers"),a.qZA(),a._uU(59," \xa0 Main "),a.qZA(),a.TgZ(60,"mat-panel-description"),a._uU(61," Basic laptop specifics "),a.qZA()(),a._UZ(62,"mat-divider",8),a.TgZ(63,"mat-form-field",12)(64,"mat-label",19),a._uU(65,"Name"),a.qZA(),a.TgZ(66,"input",20),a.NdJ("ngModelChange",function(r){return e.currentLaptop.name=r}),a.qZA()(),a.TgZ(67,"mat-form-field",12)(68,"mat-label",21),a._uU(69,"Info"),a.qZA(),a.TgZ(70,"input",22),a.NdJ("ngModelChange",function(r){return e.currentLaptop.info=r}),a.qZA()(),a.TgZ(71,"mat-form-field",12)(72,"mat-label",23),a._uU(73,"MPN"),a.qZA(),a.TgZ(74,"input",24),a.NdJ("ngModelChange",function(r){return e.currentLaptop.mpn=r}),a.qZA()()(),a.TgZ(75,"mat-expansion-panel")(76,"mat-expansion-panel-header")(77,"mat-panel-title")(78,"mat-icon"),a._uU(79,"tune"),a.qZA(),a._uU(80," \xa0 Advanced "),a.qZA(),a.TgZ(81,"mat-panel-description"),a._uU(82," Advanced specs "),a.qZA()(),a._UZ(83,"mat-divider",8),a.TgZ(84,"mat-form-field",12)(85,"mat-label",25),a._uU(86,"CPU Implementation"),a.qZA(),a.TgZ(87,"input",26),a.NdJ("ngModelChange",function(r){return e.currentLaptop.main.cpu_implementation=r}),a.qZA()(),a.TgZ(88,"mat-form-field",12)(89,"mat-label",27),a._uU(90,"CPU Number of Cores"),a.qZA(),a.TgZ(91,"input",28),a.NdJ("ngModelChange",function(r){return e.currentLaptop.main.cpu_number_of_cores=r}),a.qZA()(),a.TgZ(92,"mat-form-field",12)(93,"mat-label",29),a._uU(94,"CPU Type"),a.qZA(),a.TgZ(95,"input",30),a.NdJ("ngModelChange",function(r){return e.currentLaptop.main.cpu_type=r}),a.qZA()(),a.TgZ(96,"mat-form-field",12)(97,"mat-label",31),a._uU(98,"Design Color Name"),a.qZA(),a.TgZ(99,"input",32),a.NdJ("ngModelChange",function(r){return e.currentLaptop.main.design_color_name=r}),a.qZA()(),a.TgZ(100,"mat-form-field",12)(101,"mat-label",33),a._uU(102,"Display Size Inch"),a.qZA(),a.TgZ(103,"input",34),a.NdJ("ngModelChange",function(r){return e.currentLaptop.main.display_size__inch=r}),a.qZA()(),a.TgZ(104,"mat-form-field",12)(105,"mat-label",35),a._uU(106,"Memory RAM GB"),a.qZA(),a.TgZ(107,"input",36),a.NdJ("ngModelChange",function(r){return e.currentLaptop.main.memory_ram__gb=r}),a.qZA()(),a.TgZ(108,"mat-form-field",12)(109,"mat-label",37),a._uU(110,"Storage Capacity GB"),a.qZA(),a.TgZ(111,"input",38),a.NdJ("ngModelChange",function(r){return e.currentLaptop.main.storage_capacity__gb=r}),a.qZA()(),a.TgZ(112,"mat-form-field",12)(113,"mat-label",39),a._uU(114,"Storage Type"),a.qZA(),a.TgZ(115,"input",40),a.NdJ("ngModelChange",function(r){return e.currentLaptop.main.storage_type=r}),a.qZA()()()()()()),2&t&&(a.xp6(6),a.hij(" ",e.currentLaptop.published?"Published":"Pending",""),a.xp6(2),a.Q6J("ngIf",e.currentLaptop.published),a.xp6(1),a.Q6J("ngIf",!e.currentLaptop.published),a.xp6(11),a.Q6J("expanded",!0),a.xp6(10),a.Q6J("ngIf",e.currentLaptop.image),a.xp6(1),a.Q6J("ngIf",e.currentLaptop.image),a.xp6(1),a.Q6J("ngIf",!e.currentLaptop.image),a.xp6(13),a.Q6J("ngModel",e.currentLaptop.price.currency),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.price.old_price),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.price.url),a.xp6(13),a.Q6J("ngModel",e.currentLaptop.name),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.info),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.mpn),a.xp6(13),a.Q6J("ngModel",e.currentLaptop.main.cpu_implementation),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.main.cpu_number_of_cores),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.main.cpu_type),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.main.design_color_name),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.main.display_size__inch),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.main.memory_ram__gb),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.main.storage_capacity__gb),a.xp6(4),a.Q6J("ngModel",e.currentLaptop.main.storage_type))},dependencies:[un,yb,Ym,Qm,J0,l_,ul,Yx,_S,Y3,Iee,Aj,Mj,See,Tee,LT,wF,yF,yS],styles:[".full-width-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-form-field-wrapper{margin:0!important;padding:0}#statusbtn[_ngcontent-%COMP%]{margin-right:.3rem;margin-left:.3rem}.laptopimage[_ngcontent-%COMP%]{height:auto;width:15rem;max-height:15rem;margin-left:auto;margin-right:auto;margin-bottom:1rem;display:block}"]});const Oee=function(n){return{"green-icon":n}};function Nee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-list-option",6),a.NdJ("click",function(){const r=a.CHM(e),o=r.$implicit,d=r.index,m=a.oxw();return a.KtG(m.setActiveLaptop(o,d))}),a.TgZ(1,"mat-icon",7),a._uU(2,"laptop_mac"),a.qZA(),a.TgZ(3,"div",8),a._uU(4),a.qZA()()}if(2&n){const e=t.$implicit;a.xp6(1),a.Q6J("ngClass",a.VKq(2,Oee,!0===e.published)),a.xp6(3),a.Oqu(e.name)}}function Fee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-card")(1,"app-laptop-details",9),a.NdJ("refreshList",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.refreshList())}),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(1),a.Q6J("laptop",e.currentLaptop)}}function Lee(n,t){1&n&&(a.TgZ(0,"mat-card"),a._UZ(1,"br"),a.TgZ(2,"p",10),a._uU(3,"Please click on a laptop..."),a.qZA()())}class Xy{constructor(t){this.laptopService=t,this.currentIndex=-1,this.title=""}ngOnInit(){this.retrieveLaptops()}refreshList(){this.currentLaptop=void 0,this.currentIndex=-1,this.retrieveLaptops()}retrieveLaptops(){this.laptopService.getAll().snapshotChanges().pipe((0,N.U)(t=>t.map(e=>({key:e.payload.key,...e.payload.val()})))).subscribe(t=>{this.laptops=t})}setActiveLaptop(t,e){this.currentLaptop=t,this.currentIndex=e}removeAllLaptops(){this.laptopService.deleteAll().then(()=>this.refreshList()).catch(t=>console.log(t))}}Xy.\u0275fac=function(t){return new(t||Xy)(a.Y36(lv))},Xy.\u0275cmp=a.Xpm({type:Xy,selectors:[["app-products"]],decls:8,vars:4,consts:[[2,"display","flex","justify-content","space-between","align-items","flex-start"],[2,"width","50%","overflow-y","auto","height","70vh"],[3,"multiple"],[3,"click",4,"ngFor","ngForOf"],[2,"width","50%"],[4,"ngIf"],[3,"click"],["matListItemIcon","",3,"ngClass"],["matListItemTitle",""],[3,"laptop","refreshList"],[1,"center"]],template:function(t,e){1&t&&(a.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav-content",1)(2,"mat-card")(3,"mat-selection-list",2),a.YNc(4,Nee,5,4,"mat-list-option",3),a.qZA()()(),a.TgZ(5,"mat-sidenav-content",4),a.YNc(6,Fee,2,1,"mat-card",5),a.YNc(7,Lee,4,0,"mat-card",5),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("multiple",!1),a.xp6(1),a.Q6J("ngForOf",e.laptops),a.xp6(2),a.Q6J("ngIf",e.currentLaptop),a.xp6(1),a.Q6J("ngIf",!e.currentLaptop))},dependencies:[co,uo,un,gS,LT,SU,TU,EU,aN,dN,AA,ES],styles:["mat-sidenav-content[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:0}mat-sidenav-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}mat-sidenav-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}mat-sidenav-content[_ngcontent-%COMP%]   p.center[_ngcontent-%COMP%]{text-align:center}.green-icon[_ngcontent-%COMP%]{color:green}"]});const Bee=function(){return["/"]},Vee=function(){return["/login"]};class DS{constructor(t){this.authService=t}ngOnInit(){}}DS.\u0275fac=function(t){return new(t||DS)(a.Y36(Gc))},DS.\u0275cmp=a.Xpm({type:DS,selectors:[["app-register"]],decls:32,vars:4,consts:[[1,"main-div"],[3,"routerLink"],["src","/assets/images/logomini.png","alt","Logo",2,"height","3.5rem","margin-bottom","1.5rem"],["matInput","","type","email","required",""],["userEmail",""],["matInput","","type","password","required",""],["userPwd",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"fab","fa-google-plus-g"],[1,"redirectToLogin"],[1,"redirect",3,"routerLink"]],template:function(t,e){if(1&t){const i=a.EpF();a.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-content")(3,"a",1),a._UZ(4,"img",2),a.qZA(),a.TgZ(5,"h2"),a._uU(6,"Sign Up to NetCap"),a.qZA(),a.TgZ(7,"mat-form-field")(8,"mat-label"),a._uU(9,"E-mail"),a.qZA(),a._UZ(10,"input",3,4),a.TgZ(12,"mat-error"),a._uU(13," Please provide a valid email address "),a.qZA()(),a.TgZ(14,"mat-form-field")(15,"mat-label"),a._uU(16,"Password"),a.qZA(),a._UZ(17,"input",5,6),a.TgZ(19,"mat-error"),a._uU(20," Please provide a valid password "),a.qZA()(),a.TgZ(21,"button",7),a.NdJ("click",function(){a.CHM(i);const o=a.MAs(11),d=a.MAs(18);return a.KtG(e.authService.SignUp(o.value,d.value))}),a._uU(22," Sign Up "),a.qZA(),a.TgZ(23,"button",8),a.NdJ("click",function(){return e.authService.GoogleAuth()}),a._UZ(24,"i",9),a._uU(25," Continue with Google "),a.qZA()(),a.TgZ(26,"div",10)(27,"span"),a._uU(28,"Already have an account?"),a.TgZ(29,"span",11)(30,"strong"),a._uU(31," Log in "),a.qZA()()()()()()}2&t&&(a.xp6(3),a.Q6J("routerLink",a.DdM(2,Bee)),a.xp6(26),a.Q6J("routerLink",a.DdM(3,Vee)))},dependencies:[bh,Yx,gS,_S,wF,yF,yS,fj],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}button[_ngcontent-%COMP%]{width:90%;margin-bottom:1em}.redirectToLogin[_ngcontent-%COMP%]{margin:1em 0}.main-div[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}strong[_ngcontent-%COMP%]{cursor:pointer}"]});class Jy{constructor(t,e,i){this.authService=t,this.router=e,this._snackBar=i,this.horizontalPosition="center",this.verticalPosition="top",this.durationInSeconds=2.5}canActivate(t,e){return!0!==this.authService.isLoggedIn&&(this.router.navigate(["login"]),this._snackBar.open("First login to NetCap","",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})),!0}}function Uee(n,t){if(1&n&&(a.TgZ(0,"div",4)(1,"p",10),a._uU(2,"We have sent a confirmation email to "),a.TgZ(3,"strong"),a._uU(4),a.qZA(),a._uU(5,"."),a.qZA(),a.TgZ(6,"p",10),a._uU(7,"Please check your email and click on the link to verfiy your email address."),a.qZA()()),2&n){const e=t.ngIf;a.xp6(4),a.Oqu(e.email)}}Jy.\u0275fac=function(t){return new(t||Jy)(a.LFG(Gc),a.LFG(xo),a.LFG(L3))},Jy.\u0275prov=a.Yz7({token:Jy,factory:Jy.\u0275fac,providedIn:"root"});class TS{constructor(t,e){this.router=t,this.authService=e}ngOnInit(){}goBack(){this.router.navigate(["home"])}}TS.\u0275fac=function(t){return new(t||TS)(a.Y36(xo),a.Y36(Gc))},TS.\u0275cmp=a.Xpm({type:TS,selectors:[["app-verify-email"]],decls:14,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["type","button",1,"btn","btnGoback",3,"click"],[1,"fas","fa-angle-left"],[1,"text-center"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),a._uU(4,"Thank You for Registering"),a.qZA(),a.YNc(5,Uee,8,1,"div",3),a.TgZ(6,"div",4)(7,"button",5),a.NdJ("click",function(){return e.authService.SendVerificationMail()}),a._UZ(8,"i",6),a._uU(9," Resend Verification Email "),a.qZA()()(),a.TgZ(10,"div",7)(11,"button",8),a.NdJ("click",function(){return e.goBack()}),a._UZ(12,"i",9),a._uU(13," Go Back "),a.qZA()()()()),2&t&&(a.xp6(5),a.Q6J("ngIf",e.authService.userData))},dependencies:[un]});const Hee=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:bS},{path:"products",component:Xy},{path:"login",component:CS},{path:"register",component:DS},{path:"verify-email-address",component:TS},{path:"dashboard",component:VT,canActivate:[Jy],children:[{path:"user-profile",component:UT,canActivate:[Jy]},{path:"products",component:Xy}]},{path:"laptops",component:Xy},{path:"404",component:mC},{path:"**",component:mC}];class fC{}fC.\u0275fac=function(t){return new(t||fC)},fC.\u0275mod=a.oAB({type:fC}),fC.\u0275inj=a.cJS({imports:[Ns.forRoot(Hee),Ns]});const Pj="firebasestorage.googleapis.com",Oj="storageBucket";class xs extends Y.ZR{constructor(t,e,i=0){super(EF(t),`Firebase Storage: ${e} (${EF(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xs.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return EF(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function EF(n){return"storage/"+n}function DF(){return new xs("unknown","An unknown error occurred, please check the error payload for server response.")}function Nj(){return new xs("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Fj(){return new xs("canceled","User canceled the upload/download.")}function Lj(){return new xs("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function gC(n){return new xs("invalid-argument",n)}function Bj(){return new xs("app-deleted","The Firebase app was deleted.")}function Vj(n){return new xs("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function SS(n,t){return new xs("invalid-format","String does not match format '"+n+"': "+t)}function IS(n){throw new xs("internal-error","Internal error: "+n)}class wl{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=wl.makeFromUrl(t,e)}catch{return new wl(t,"")}if(""===i.path)return i;throw function Qee(n){return new xs("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+r+"(/(.*))?$","i");function x(wt){wt.path_=decodeURIComponent(wt.path)}const P=e.replace(/[.]/g,"\\."),vt=[{regex:m,indices:{bucket:1,path:3},postModify:function o(wt){"/"===wt.path.charAt(wt.path.length-1)&&(wt.path_=wt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${P}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${e===Pj?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let wt=0;wt<vt.length;wt++){const an=vt[wt],hn=an.regex.exec(t);if(hn){let ro=hn[an.indices.path];ro||(ro=""),i=new wl(hn[an.indices.bucket],ro),an.postModify(i);break}}if(null==i)throw function Kee(n){return new xs("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class nte{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function pM(n){return"string"==typeof n||n instanceof String}function Uj(n){return TF()&&n instanceof Blob}function TF(){return typeof Blob<"u"&&!(0,Y.UG)()}function SF(n,t,e,i){if(i<t)throw gC(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw gC(`Invalid value for '${n}'. Expected ${e} or less.`)}function qf(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Hj(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var cv=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(cv||(cv={})),cv))();function jj(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class lte{constructor(t,e,i,r,o,d,m,v,x,T,P,B=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=T,this.connectionFactory_=P,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,Z)=>{this.resolve_=G,this.reject_=Z,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,d=this.reject_,m=r.connection;if(r.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function ste(n){return void 0!==n}(v)?o():o(v)}catch(v){d(v)}else if(null!==m){const v=DF();v.serverResponse=m.getErrorText(),d(this.errorCallback_?this.errorCallback_(m,v):v)}else d(r.canceled?this.appDelete_?Bj():Fj():Nj())};this.canceled_?e(0,new mM(!1,null,!0)):this.backoffId_=function ite(n,t,e){let i=1,r=null,o=null,d=!1,m=0;function v(){return 2===m}let x=!1;function T(...xe){x||(x=!0,t.apply(null,xe))}function P(xe){r=setTimeout(()=>{r=null,n(G,v())},xe)}function B(){o&&clearTimeout(o)}function G(xe,...Xe){if(x)return void B();if(xe)return B(),void T.call(null,xe,...Xe);if(v()||d)return B(),void T.call(null,xe,...Xe);let vt;i<64&&(i*=2),1===m?(m=2,vt=0):vt=1e3*(i+Math.random()),P(vt)}let Z=!1;function le(xe){Z||(Z=!0,B(),!x&&(null!==r?(xe||(m=2),clearTimeout(r),P(0)):xe||(m=1)))}return P(0),o=setTimeout(()=>{d=!0,le(!0)},e),le}((i,r)=>{if(r)return void i(!1,new mM(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const d=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(d),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(d),this.pendingConnection_=null;const m=o.getErrorCode()===cv.NO_ERROR,v=o.getStatus();if((!m||jj(v,this.additionalRetryCodes_))&&this.retry){const T=o.getErrorCode()===cv.ABORT;return void i(!1,new mM(!1,null,T))}const x=-1!==this.successCodes_.indexOf(v);i(!0,new mM(x,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function rte(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mM{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function fte(...n){const t=function mte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(TF())return new Blob(n);throw new xs("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Rd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class IF{constructor(t,e){this.data=t,this.contentType=e||null}}function kF(n,t){switch(n){case Rd.RAW:return new IF($j(t));case Rd.BASE64:case Rd.BASE64URL:return new IF(zj(n,t));case Rd.DATA_URL:return new IF(function bte(n){const t=new Gj(n);return t.base64?zj(Rd.BASE64,t.rest):function vte(n){let t;try{t=decodeURIComponent(n)}catch{throw SS(Rd.DATA_URL,"Malformed data URL.")}return $j(t)}(t.rest)}(t),function yte(n){return new Gj(n).contentType}(t))}throw DF()}function $j(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function zj(n,t){switch(n){case Rd.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw SS(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Rd.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw SS(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function _te(n){if(typeof atob>"u")throw function tte(n){return new xs("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:SS(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class Gj{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw SS(Rd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function wte(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class hm{constructor(t,e){let i=0,r="";Uj(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Uj(this.data_)){const r=function gte(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new hm(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new hm(i,!0)}}static getBlob(...t){if(TF()){const e=t.map(i=>i instanceof hm?i.data_:i);return new hm(fte.apply(null,e))}{const e=t.map(d=>pM(d)?kF(Rd.RAW,d).data:d.data_);let i=0;e.forEach(d=>{i+=d.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(d=>{for(let m=0;m<d.length;m++)r[o++]=d[m]}),new hm(r,!0)}}uploadData(){return this.data_}}function AF(n){let t;try{t=JSON.parse(n)}catch{return null}return function ate(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function qj(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Ete(n,t){return t}class sc{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Ete}}let fM=null;function kS(){if(fM)return fM;const n=[];n.push(new sc("bucket")),n.push(new sc("generation")),n.push(new sc("metageneration")),n.push(new sc("name","fullPath",!0));const e=new sc("name");e.xform=function t(o,d){return function Dte(n){return!pM(n)||n.length<2?n:qj(n)}(d)},n.push(e);const r=new sc("size");return r.xform=function i(o,d){return void 0!==d?Number(d):d},n.push(r),n.push(new sc("timeCreated")),n.push(new sc("updated")),n.push(new sc("md5Hash",null,!0)),n.push(new sc("cacheControl",null,!0)),n.push(new sc("contentDisposition",null,!0)),n.push(new sc("contentEncoding",null,!0)),n.push(new sc("contentLanguage",null,!0)),n.push(new sc("contentType",null,!0)),n.push(new sc("metadata","customMetadata",!0)),fM=n,fM}function Wj(n,t,e){const i=AF(t);return null===i?null:function Ste(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const d=e[o];i[d.local]=d.xform(i,t[d.server])}return function Tte(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new wl(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function MF(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const Yj="prefixes";class pm{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mm(n){if(!n)throw DF()}function gM(n,t){return function e(i,r){const o=Wj(n,r,t);return mm(null!==o),o}}function _C(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Yee(){return new xs("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Wee(){return new xs("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function qee(n){return new xs("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Zee(n){return new xs("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function AS(n){const t=_C(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function Gee(n){return new xs("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function Kj(n,t,e){const r=qf(t.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new pm(r,"GET",gM(n,e),d);return m.errorHandler=AS(t),m}function Pte(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const m=qf(t.bucketOnlyServerUrl(),n.host,n._protocol),x=n.maxOperationRetryTime,T=new pm(m,"GET",function Mte(n,t){return function e(i,r){const o=function Ate(n,t,e){const i=AF(e);return null===i?null:function kte(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Yj])for(const r of e[Yj]){const o=r.replace(/\/$/,""),d=n._makeStorageReference(new wl(t,o));i.prefixes.push(d)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new wl(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return mm(null!==o),o}}(n,t.bucket),x);return T.urlParams=o,T.errorHandler=_C(t),T}function Xj(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Lte(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class _M{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function RF(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{mm(!1)}return mm(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Hte={STATE_CHANGED:"state_changed"},oc={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PF(n){switch(n){case"running":case"pausing":case"canceling":return oc.RUNNING;case"paused":return oc.PAUSED;case"success":return oc.SUCCESS;case"canceled":return oc.CANCELED;default:return oc.ERROR}}class jte{constructor(t,e,i){if(function ote(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function vC(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class $te{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cv.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cv.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cv.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw IS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw IS("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw IS("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw IS("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw IS("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class zte extends $te{initXhr(){this.xhr_.responseType="text"}}function $h(){return new zte}class n6{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=kS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(jj(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=Nj()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Bte(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),d=Xj(t,i,r),m={name:d.fullPath},v=qf(o,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},P=MF(d,e),Z=new pm(v,"POST",function G(le){let xe;RF(le);try{xe=le.getResponseHeader("X-Goog-Upload-URL")}catch{mm(!1)}return mm(pM(xe)),xe},n.maxUploadRetryTime);return Z.urlParams=m,Z.headers=T,Z.body=P,Z.errorHandler=_C(t),Z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$h,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Vte(n,t,e,i){const v=new pm(e,"POST",function o(x){const T=RF(x,["active","final"]);let P=null;try{P=x.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mm(!1)}P||mm(!1);const B=Number(P);return mm(!isNaN(B)),new _M(B,i.size(),"final"===T)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=_C(t),v}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,$h,e,i);this._request=o,o.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new _M(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let d;try{d=function Ute(n,t,e,i,r,o,d,m){const v=new _M(0,0);if(d?(v.current=d.current,v.total=d.total):(v.current=0,v.total=i.size()),i.size()!==v.total)throw function Jee(){return new xs("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const x=v.total-v.current;let T=x;r>0&&(T=Math.min(T,r));const P=v.current;let G="";G=0===T?"finalize":x===T?"upload, finalize":"upload";const Z={"X-Goog-Upload-Command":G,"X-Goog-Upload-Offset":`${v.current}`},le=i.slice(P,P+T);if(null===le)throw Lj();const vt=new pm(e,"POST",function xe(wt,an){const hn=RF(wt,["active","final"]),ti=v.current+T,ro=i.size();let Nd;return Nd="final"===hn?gM(t,o)(wt,an):null,new _M(ti,ro,"final"===hn,Nd)},t.maxUploadRetryTime);return vt.headers=Z,vt.body=le.uploadData(),vt.progressCallback=m||null,vt.errorHandler=_C(n),vt}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const m=this._ref.storage._makeRequest(d,$h,r,o,!1);this._request=m,m.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Kj(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,$h,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Jj(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let vt="";for(let wt=0;wt<2;wt++)vt+=Math.random().toString().slice(2);return vt}();d["Content-Type"]="multipart/related; boundary="+v;const x=Xj(t,i,r),T=MF(x,e),G=hm.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+v+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",i,"\r\n--"+v+"--");if(null===G)throw Lj();const Z={name:x.fullPath},le=qf(o,n.host,n._protocol),Xe=n.maxUploadRetryTime,_t=new pm(le,"POST",gM(n,e),Xe);return _t.urlParams=Z,_t.headers=d,_t.body=G.uploadData(),_t.errorHandler=_C(t),_t}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$h,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Fj(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=PF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new jte(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(PF(this._state)){case oc.SUCCESS:vC(this._resolve.bind(null,this.snapshot))();break;case oc.CANCELED:case oc.ERROR:vC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(PF(this._state)){case oc.RUNNING:case oc.PAUSED:t.next&&vC(t.next.bind(t,this.snapshot))();break;case oc.SUCCESS:t.complete&&vC(t.complete.bind(t))();break;default:t.error&&vC(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class e0{constructor(t,e){this._service=t,this._location=e instanceof wl?e:wl.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new e0(t,e)}get root(){const t=new wl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qj(this._location.path)}get storage(){return this._service}get parent(){const t=function xte(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new wl(this._location.bucket,t);return new e0(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Vj(t)}}function s6(n,t,e){return OF.apply(this,arguments)}function OF(){return OF=(0,Be.Z)(function*(n,t,e){const r=yield o6(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield s6(n,t,r.nextPageToken))}),OF.apply(this,arguments)}function o6(n,t){null!=t&&"number"==typeof t.maxResults&&SF("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Pte(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,$h)}function nne(n){n._throwIfRoot("getDownloadURL");const t=function Ote(n,t,e){const r=qf(t.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new pm(r,"GET",function Rte(n,t){return function e(i,r){const o=Wj(n,r,t);return mm(null!==o),function Ite(n,t,e,i){const r=AF(t);if(null===r||!pM(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const d=encodeURIComponent;return o.split(",").map(x=>{const P=n.fullPath;return qf("/b/"+d(n.bucket)+"/o/"+d(P),e,i)+Hj({alt:"media",token:x})})[0]}(o,r,n.host,n._protocol)}}(n,e),d);return m.errorHandler=AS(t),m}(n.storage,n._location,kS());return n.storage.makeRequestWithTokens(t,$h).then(e=>{if(null===e)throw function ete(){return new xs("no-download-url","The given file does not have any download URLs.")}();return e})}function a6(n,t){const e=function Cte(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new wl(n._location.bucket,e);return new e0(n.storage,i)}function l6(n,t){if(n instanceof NF){const e=n;if(null==e._bucket)throw function Xee(){return new xs("no-default-bucket","No default bucket found. Did you set the '"+Oj+"' property when initializing the app?")}();const i=new e0(e,e._bucket);return null!=t?l6(i,t):i}return void 0!==t?a6(n,t):n}function one(n,t){if(t&&function rne(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof NF)return function sne(n,t){return new e0(n,t)}(n,t);throw gC("To use ref(service, url), the first argument must be a Storage instance.")}return l6(n,t)}function c6(n,t){const e=t?.[Oj];return null==e?null:wl.makeFromBucketSpec(e,n)}class NF{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Pj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?wl.makeFromBucketSpec(r,this._host):c6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?wl.makeFromBucketSpec(this._url,t):c6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){SF("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){SF("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Be.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Be.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new e0(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new nte(Bj());{const d=function pte(n,t,e,i,r,o,d=!0){const m=Hj(n.urlParams),v=n.url+m,x=Object.assign({},n.headers);return function ute(n,t){t&&(n["X-Firebase-GMPID"]=t)}(x,t),function cte(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(x,e),function dte(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(x,o),function hte(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(x,i),new lte(v,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,d)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}makeRequestWithTokens(t,e){var i=this;return(0,Be.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const d6="@firebase/storage";function p6(n,t){return one(n=(0,Y.m9)(n),t)}function gne(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new NF(e,i,r,t,Co.SDK_VERSION)}!function _ne(){(0,Co._registerComponent)(new ml.wA("storage",gne,"PUBLIC").setMultipleInstances(!0)),(0,Co.registerVersion)(d6,"0.10.0",""),(0,Co.registerVersion)(d6,"0.10.0","esm2017")}();class vM{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class f6{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new vM(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new vM(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?d=>e(new vM(d,this,this._ref)):{next:e.next?d=>e.next(new vM(d,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class g6{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Wf(t,this._service))}get items(){return this._delegate.items.map(t=>new Wf(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Wf{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function fne(n,t){return a6(n,t)}(this._delegate,t);return new Wf(e,this.storage)}get root(){return new Wf(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Wf(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new f6(function lne(n,t,e){return function Qte(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new n6(n,new hm(t),e)}(n=(0,Y.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Rd.RAW,i){this._throwIfRoot("putString");const r=kF(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new f6(new n6(this._delegate,new hm(r.data,!0),o),this)}listAll(){return function hne(n){return function Jte(n){const t={prefixes:[],items:[]};return s6(n,t).then(()=>t)}(n=(0,Y.m9)(n))}(this._delegate).then(t=>new g6(t,this.storage))}list(t){return function une(n,t){return o6(n=(0,Y.m9)(n),t)}(this._delegate,t||void 0).then(e=>new g6(e,this.storage))}getMetadata(){return function cne(n){return function ene(n){n._throwIfRoot("getMetadata");const t=Kj(n.storage,n._location,kS());return n.storage.makeRequestWithTokens(t,$h)}(n=(0,Y.m9)(n))}(this._delegate)}updateMetadata(t){return function dne(n,t){return function tne(n,t){n._throwIfRoot("updateMetadata");const e=function Nte(n,t,e,i){const o=qf(t.fullServerUrl(),n.host,n._protocol),m=MF(e,i),x=n.maxOperationRetryTime,T=new pm(o,"PATCH",gM(n,i),x);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=m,T.errorHandler=AS(t),T}(n.storage,n._location,t,kS());return n.storage.makeRequestWithTokens(e,$h)}(n=(0,Y.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function pne(n){return nne(n=(0,Y.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function mne(n){return function ine(n){n._throwIfRoot("deleteObject");const t=function Fte(n,t){const i=qf(t.fullServerUrl(),n.host,n._protocol),m=new pm(i,"DELETE",function d(v,x){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=AS(t),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,$h)}(n=(0,Y.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Vj(t)}}class _6{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(v6(t))throw gC("ref() expected a child path but got a URL, use refFromURL instead.");return new Wf(p6(this._delegate,t),this)}refFromURL(t){if(!v6(t))throw gC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wl.makeFromUrl(t,this._delegate.host)}catch{throw gC("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wf(p6(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function m6(n,t,e,i={}){!function ane(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Y.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function v6(n){return/^[A-Za-z]+:\/\//.test(n)}function wne(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new _6(e,i)}function b6(n){const t=function Cne(n){return new Ei.y(t=>{const e=d=>t.next(d);e(n.snapshot);const o=n.on("state_changed",e);return n.then(d=>{e(d),t.complete()},d=>{e(n.snapshot),(d=>{t.error(d)})(d)}),function(){o()}}).pipe(yT(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,N.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function bM(n){return{getDownloadURL:()=>bt(void 0).pipe(On.fc,Di(()=>n.getDownloadURL()),On.iC),getMetadata:()=>bt(void 0).pipe(On.fc,Di(()=>n.getMetadata()),On.iC),delete:()=>(0,Pn.D)(n.delete()),child:t=>bM(n.child(t)),updateMetadata:t=>(0,Pn.D)(n.updateMetadata(t)),put:(t,e)=>b6(n.put(t,e)),putString:(t,e,i)=>b6(n.putString(t,e,i)),list:t=>(0,Pn.D)(n.list(t)),listAll:()=>(0,Pn.D)(n.listAll())}}!function xne(n){const t={TaskState:oc,TaskEvent:Hte,StringFormat:Rd,Storage:_6,Reference:Wf};n.INTERNAL.registerComponent(new ml.wA("storage-compat",wne,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.0")}(Bb.Z);const Ene=new a.OlP("angularfire2.storageBucket"),Dne=new a.OlP("angularfire2.storage.maxUploadRetryTime"),Tne=new a.OlP("angularfire2.storage.maxOperationRetryTime"),Sne=new a.OlP("angularfire2.storage.use-emulator");let Ine=(()=>{class n{constructor(e,i,r,o,d,m,v,x,T,P){const B=(0,Li.on)(e,d,i);this.storage=(0,Li.cc)(`${B.name}.storage.${r}`,"AngularFireStorage",B.name,()=>{const G=d.runOutsideAngular(()=>B.storage(r||void 0)),Z=T;return Z&&G.useEmulator(...Z),v&&G.setMaxUploadRetryTime(v),x&&G.setMaxOperationRetryTime(x),G},[v,x])}ref(e){return bM(this.storage.ref(e))}refFromURL(e){return bM(this.storage.refFromURL(e))}upload(e,i,r){return bM(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Li.Dh),a.LFG(Li.xv,8),a.LFG(Ene,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(On.HU),a.LFG(Dne,8),a.LFG(Tne,8),a.LFG(Sne,8),a.LFG(fT,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),Ane=(()=>{class n{constructor(){tA.Z.registerVersion("angularfire",On.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ine],imports:[kne]}),n})();function y6(n){return new a.vHH(3e3,!1)}function uie(){return typeof window<"u"&&typeof window.document<"u"}function FF(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function dv(n){switch(n.length){case 0:return new ST;case 1:return n[0];default:return new y3(n)}}function w6(n,t,e,i,r=new Map,o=new Map){const d=[],m=[];let v=-1,x=null;if(i.forEach(T=>{const P=T.get("offset"),B=P==v,G=B&&x||new Map;T.forEach((Z,le)=>{let xe=le,Xe=Z;if("offset"!==le)switch(xe=t.normalizePropertyName(xe,d),Xe){case"!":Xe=r.get(le);break;case Hf:Xe=o.get(le);break;default:Xe=t.normalizeStyleValue(le,xe,Xe,d)}G.set(xe,Xe)}),B||m.push(G),x=G,v=P}),d.length)throw function Jne(n){return new a.vHH(3502,!1)}();return m}function LF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&BF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&BF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&BF(e,"destroy",n)))}}function BF(n,t,e){const o=VF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(o._data=d),o}function VF(n,t,e,i,r="",o=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!d}}function Pd(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function x6(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let UF=(n,t)=>!1,C6=(n,t,e)=>[],E6=null;function HF(n){const t=n.parentNode||n.host;return t===E6?null:t}(FF()||typeof Element<"u")&&(uie()?(E6=(()=>document.documentElement)(),UF=(n,t)=>{for(;t;){if(t===n)return!0;t=HF(t)}return!1}):UF=(n,t)=>n.contains(t),C6=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let t0=null,D6=!1;const T6=UF,S6=C6;let I6=(()=>{class n{validateStyleProperty(e){return function pie(n){t0||(t0=function mie(){return typeof document<"u"?document.body:null}()||{},D6=!!t0.style&&"WebkitAppearance"in t0.style);let t=!0;return t0.style&&!function hie(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in t0.style,!t&&D6&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in t0.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return T6(e,i)}getParentElement(e){return HF(e)}query(e,i,r){return S6(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,d,m=[],v){return new ST(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),jF=(()=>{class n{}return n.NOOP=new I6,n})();const $F="ng-enter",yM="ng-leave",wM="ng-trigger",xM=".ng-trigger",A6="ng-animating",zF=".ng-animating";function Yf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:GF(parseFloat(t[1]),t[2])}function GF(n,t){return"s"===t?1e3*n:n}function CM(n,t,e){return n.hasOwnProperty("duration")?n:function _ie(n,t,e){let r,o=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(y6()),{duration:0,delay:0,easing:""};r=GF(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(o=GF(parseFloat(v),m[4]));const x=m[5];x&&(d=x)}else r=n;if(!e){let m=!1,v=t.length;r<0&&(t.push(function Mne(){return new a.vHH(3100,!1)}()),m=!0),o<0&&(t.push(function Rne(){return new a.vHH(3101,!1)}()),m=!0),m&&t.splice(v,0,y6())}return{duration:r,delay:o,easing:d}}(n,t,e)}function MS(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function M6(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function uv(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function P6(n,t,e){return e?t+":"+e+";":""}function O6(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=P6(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=P6(0,wie(e),n.style[e]));n.setAttribute("style",t)}function fm(n,t,e){n.style&&(t.forEach((i,r)=>{const o=WF(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),FF()&&O6(n))}function n0(n,t){n.style&&(t.forEach((e,i)=>{const r=WF(i);n.style[r]=""}),FF()&&O6(n))}function RS(n){return Array.isArray(n)?1==n.length?n[0]:v3(n):n}const qF=new RegExp("{{\\s*(.+?)\\s*}}","g");function N6(n){let t=[];if("string"==typeof n){let e;for(;e=qF.exec(n);)t.push(e[1]);qF.lastIndex=0}return t}function PS(n,t,e){const i=n.toString(),r=i.replace(qF,(o,d)=>{let m=t[d];return null==m&&(e.push(function One(n){return new a.vHH(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function EM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const yie=/-+([a-z0-9])/g;function WF(n){return n.replace(yie,(...t)=>t[1].toUpperCase())}function wie(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Od(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Nne(n){return new a.vHH(3004,!1)}()}}function F6(n,t){return window.getComputedStyle(n)[t]}function Sie(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Iie(n,t,e){if(":"==n[0]){const v=function kie(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Zne(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Yne(n){return new a.vHH(3015,!1)}()),t;const r=i[1],o=i[2],d=i[3];t.push(L6(r,d));"<"==o[0]&&!("*"==r&&"*"==d)&&t.push(L6(d,r))}(i,e,t)):e.push(n),e}const IM=new Set(["true","1"]),kM=new Set(["false","0"]);function L6(n,t){const e=IM.has(n)||kM.has(n),i=IM.has(t)||kM.has(t);return(r,o)=>{let d="*"==n||n==r,m="*"==t||t==o;return!d&&e&&"boolean"==typeof r&&(d=r?IM.has(n):kM.has(n)),!m&&i&&"boolean"==typeof o&&(m=o?IM.has(t):kM.has(t)),d&&m}}const Aie=new RegExp("s*:selfs*,?","g");function YF(n,t,e,i){return new Mie(n).build(t,e,i)}class Mie{constructor(t){this._driver=t}build(t,e,i){const r=new Oie(e);return this._resetContextStyleTimingState(r),Od(this,RS(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function Lne(){return new a.vHH(3006,!1)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const v=m,x=v.name;x.toString().split(/\s*,\s*/).forEach(T=>{v.name=T,o.push(this.visitState(v,e))}),v.name=x}else if(1==m.type){const v=this.visitTransition(m,e);i+=v.queryCount,r+=v.depCount,d.push(v)}else e.errors.push(function Bne(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,d=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(v=>{N6(v).forEach(x=>{d.hasOwnProperty(x)||o.add(x)})})}),o.size&&(EM(o.values()),e.errors.push(function Vne(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Od(this,RS(t.animation),e);return{type:1,matchers:Sie(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:r0(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Od(this,i,e)),options:r0(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(d=>{e.currentTime=i;const m=Od(this,d,e);return r=Math.max(r,e.currentTime),m});return e.currentTime=r,{type:3,steps:o,options:r0(t.options)}}visitAnimate(t,e){const i=function Fie(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ZF(CM(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ZF(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=CM(e,t);return ZF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:tn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let d=t.styles,m=!1;if(!d){m=!0;const x={};i.easing&&(x.easing=i.easing),d=tn(x)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(d,e);v.isEmptyStep=m,r=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let m of r)"string"==typeof m?m===Hf?i.push(m):e.errors.push(new a.vHH(3002,!1)):i.push(M6(m));let o=!1,d=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(d=m.get("easing"),m.delete("easing")),!o))for(let v of m.values())if(v.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:d,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,v)=>{const x=e.collectedStyles.get(e.currentQuerySelector),T=x.get(v);let P=!0;T&&(o!=r&&o>=T.startTime&&r<=T.endTime&&(e.errors.push(function Hne(n,t,e,i,r){return new a.vHH(3010,!1)}()),P=!1),o=T.startTime),P&&x.set(v,{startTime:o,endTime:r}),e.options&&function bie(n,t,e){const i=t.params||{},r=N6(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Pne(n){return new a.vHH(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function jne(){return new a.vHH(3011,!1)}()),i;let o=0;const d=[];let m=!1,v=!1,x=0;const T=t.steps.map(Xe=>{const _t=this._makeStyleAst(Xe,e);let vt=null!=_t.offset?_t.offset:function Nie(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_t.styles),wt=0;return null!=vt&&(o++,wt=_t.offset=vt),v=v||wt<0||wt>1,m=m||wt<x,x=wt,d.push(wt),_t});v&&e.errors.push(function $ne(){return new a.vHH(3012,!1)}()),m&&e.errors.push(function zne(){return new a.vHH(3200,!1)}());const P=t.steps.length;let B=0;o>0&&o<P?e.errors.push(function Gne(){return new a.vHH(3202,!1)}()):0==o&&(B=1/(P-1));const G=P-1,Z=e.currentTime,le=e.currentAnimateTimings,xe=le.duration;return T.forEach((Xe,_t)=>{const vt=B>0?_t==G?1:B*_t:d[_t],wt=vt*xe;e.currentTime=Z+le.delay+wt,le.duration=wt,this._validateStyleAst(Xe,e),Xe.offset=vt,i.styles.push(Xe)}),i}visitReference(t,e){return{type:8,animation:Od(this,RS(t.animation),e),options:r0(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:r0(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:r0(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,d]=function Rie(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Aie,"")),n=n.replace(/@\*/g,xM).replace(/@\w+/g,e=>xM+"-"+e.slice(1)).replace(/:animating/g,zF),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Pd(e.collectedStyles,e.currentQuerySelector,new Map);const m=Od(this,RS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:m,originalSelector:t.selector,options:r0(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function qne(){return new a.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:CM(t.timings,e.errors,!0);return{type:12,animation:Od(this,RS(t.animation),e),timings:i,options:null}}}class Oie{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function r0(n){return n?(n=MS(n)).params&&(n.params=function Pie(n){return n?MS(n):null}(n.params)):n={},n}function ZF(n,t,e){return{duration:n,delay:t,easing:e}}function KF(n,t,e,i,r,o,d=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:d,subTimeline:m}}class AM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Vie=new RegExp(":enter","g"),Hie=new RegExp(":leave","g");function QF(n,t,e,i,r,o=new Map,d=new Map,m,v,x=[]){return(new jie).buildKeyframes(n,t,e,i,r,o,d,m,v,x)}class jie{buildKeyframes(t,e,i,r,o,d,m,v,x,T=[]){x=x||new AM;const P=new XF(t,e,x,r,o,T,[]);P.options=v;const B=v.delay?Yf(v.delay):0;P.currentTimeline.delayNextStep(B),P.currentTimeline.setStyles([d],null,P.errors,v),Od(this,i,P);const G=P.timelines.filter(Z=>Z.containsAnimation());if(G.length&&m.size){let Z;for(let le=G.length-1;le>=0;le--){const xe=G[le];if(xe.element===e){Z=xe;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([m],null,P.errors,v)}return G.length?G.map(Z=>Z.buildKeyframes()):[KF(e,[],[],[],0,B,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);o!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const d="number"==typeof o?o:Yf(PS(o,r?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const d=null!=i.duration?Yf(i.duration):null,m=null!=i.delay?Yf(i.delay):null;return 0!==d&&t.forEach(v=>{const x=e.appendInstructionToTimeline(v,d,m);o=Math.max(o,x.duration+x.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Od(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=MM);const d=Yf(o.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Od(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Yf(t.options.delay):0;t.steps.forEach(d=>{const m=e.createSubContext(t.options);o&&m.delayNextStep(o),Od(this,d,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return CM(e.params?PS(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,t.styles.forEach(v=>{m.forwardTime((v.offset||0)*o),m.setStyles(v.styles,v.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Yf(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=MM);let d=i;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=m.length;let v=null;m.forEach((x,T)=>{e.currentQueryIndex=T;const P=e.createSubContext(t.options,x);o&&P.delayNextStep(o),x===e.element&&(v=P.currentTimeline),Od(this,t.animation,P),P.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,P.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,d=Math.abs(o.duration),m=d*(e.currentQueryTotal-1);let v=d*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":v=m-v;break;case"full":v=i.currentStaggerTime}const T=e.currentTimeline;v&&T.delayNextStep(v);const P=T.currentTime;Od(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-P+(r.startTime-i.currentTimeline.startTime)}}const MM={};class XF{constructor(t,e,i,r,o,d,m,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new RM(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Yf(i.duration)),null!=i.delay&&(r.delay=Yf(i.delay));const o=i.params;if(o){let d=r.params;d||(d=this.options.params={}),Object.keys(o).forEach(m=>{(!e||!d.hasOwnProperty(m))&&(d[m]=PS(o[m],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new XF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=MM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new $ie(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,d){let m=[];if(r&&m.push(this.element),t.length>0){t=(t=t.replace(Vie,"."+this._enterClassName)).replace(Hie,"."+this._leaveClassName);let x=this._driver.query(this.element,t,1!=i);0!==i&&(x=i<0?x.slice(x.length+i,x.length):x.slice(0,i)),m.push(...x)}return!o&&0==m.length&&d.push(function Wne(n){return new a.vHH(3014,!1)}()),m}}class RM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new RM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Hf),this._currentKeyframe.set(e,Hf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},d=function zie(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Hf)}else uv(r,e)}),e}(t,this._globalTimelineStyles);for(let[m,v]of d){const x=PS(v,o,i);this._pendingStyles.set(m,x),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Hf),this._updateStyle(m,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,v)=>{const x=uv(m,new Map,this._backFill);x.forEach((T,P)=>{"!"===T?t.add(P):T===Hf&&e.add(P)}),i||x.set("offset",v/this.duration),r.push(x)});const o=t.size?EM(t.values()):[],d=e.size?EM(e.values()):[];if(i){const m=r[0],v=new Map(m);m.set("offset",0),v.set("offset",1),r=[m,v]}return KF(this.element,r,o,d,this.duration,this.startTime,this.easing,!1)}}class $ie extends RM{constructor(t,e,i,r,o,d,m=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],d=i+e,m=e/d,v=uv(t[0]);v.set("offset",0),o.push(v);const x=uv(t[0]);x.set("offset",U6(m)),o.push(x);const T=t.length-1;for(let P=1;P<=T;P++){let B=uv(t[P]);const G=B.get("offset");B.set("offset",U6((e+G*i)/d)),o.push(B)}i=d,e=0,r="",t=o}return KF(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function U6(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class JF{}const Gie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qie extends JF{normalizePropertyName(t,e){return WF(t)}normalizeStyleValue(t,e,i,r){let o="";const d=i.toString().trim();if(Gie.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function Fne(n,t){return new a.vHH(3005,!1)}())}return d+o}}function H6(n,t,e,i,r,o,d,m,v,x,T,P,B){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:d,timelines:m,queriedElements:v,preStyleProps:x,postStyleProps:T,totalTime:P,errors:B}}const e2={};class j6{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Wie(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,d,m,v,x,T){const P=[],B=this.ast.options&&this.ast.options.params||e2,Z=this.buildStyles(i,m&&m.params||e2,P),le=v&&v.params||e2,xe=this.buildStyles(r,le,P),Xe=new Set,_t=new Map,vt=new Map,wt="void"===r,an={params:Yie(le,B),delay:this.ast.options?.delay},hn=T?[]:QF(t,e,this.ast.animation,o,d,Z,xe,an,x,P);let ti=0;if(hn.forEach(Nd=>{ti=Math.max(Nd.duration+Nd.delay,ti)}),P.length)return H6(e,this._triggerName,i,r,wt,Z,xe,[],[],_t,vt,ti,P);hn.forEach(Nd=>{const Xf=Nd.element,n4=Pd(_t,Xf,new Set);Nd.preStyleProps.forEach(o0=>n4.add(o0));const VS=Pd(vt,Xf,new Set);Nd.postStyleProps.forEach(o0=>VS.add(o0)),Xf!==e&&Xe.add(Xf)});const ro=EM(Xe.values());return H6(e,this._triggerName,i,r,wt,Z,xe,hn,ro,_t,vt,ti)}}function Yie(n,t){const e=MS(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Zie{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=MS(this.defaultParams);return Object.keys(t).forEach(o=>{const d=t[o];null!==d&&(r[o]=d)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((d,m)=>{d&&(d=PS(d,r,e));const v=this.normalizer.normalizePropertyName(m,e);d=this.normalizer.normalizeStyleValue(m,v,d,e),i.set(m,d)})}),i}}class Qie{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Zie(r.style,r.options&&r.options.params||{},i))}),$6(this.states,"true","1"),$6(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new j6(t,r,this.states))}),this.fallbackTransition=function Xie(n,t,e){return new j6(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function $6(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Jie=new AM;class ere{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=YF(this._driver,e,i,[]);if(i.length)throw function eie(n){return new a.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=w6(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let d;const m=new Map;if(o?(d=QF(this._driver,e,o,$F,yM,new Map,new Map,i,Jie,r),d.forEach(T=>{const P=Pd(m,T.element,new Map);T.postStyleProps.forEach(B=>P.set(B,null))})):(r.push(function tie(){return new a.vHH(3300,!1)}()),d=[]),r.length)throw function nie(n){return new a.vHH(3504,!1)}();m.forEach((T,P)=>{T.forEach((B,G)=>{T.set(G,this._driver.computeStyle(P,G,Hf))})});const x=dv(d.map(T=>{const P=m.get(T.element);return this._buildPlayer(T,new Map,P)}));return this._playersById.set(t,x),x.onDestroy(()=>this.destroy(t)),this.players.push(x),x}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function iie(n){return new a.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=VF(e,"","","");return LF(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const z6="ng-animate-queued",t2="ng-animate-disabled",sre=[],G6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ore={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nu="__ng_removed";class n2{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dre(n){return n??null}(i?t.value:t),i){const o=MS(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const OS="void",r2=new n2(OS);class are{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fu(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function rie(n,t){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function sie(n){return new a.vHH(3303,!1)}();if(!function ure(n){return"start"==n||"done"==n}(i))throw function oie(n,t){return new a.vHH(3400,!1)}();const o=Pd(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};o.push(d);const m=Pd(this._engine.statesByElement,t,new Map);return m.has(e)||(Fu(t,wM),Fu(t,wM+"-"+e),m.set(e,r2)),()=>{this._engine.afterFlush(()=>{const v=o.indexOf(d);v>=0&&o.splice(v,1),this._triggers.has(e)||m.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function aie(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),d=new s2(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(Fu(t,wM),Fu(t,wM+"-"+e),this._engine.statesByElement.set(t,m=new Map));let v=m.get(e);const x=new n2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&x.absorbOptions(v.options),m.set(e,x),v||(v=r2),x.value!==OS&&v.value===x.value){if(!function mre(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(v.params,x.params)){const le=[],xe=o.matchStyles(v.value,v.params,le),Xe=o.matchStyles(x.value,x.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{n0(t,xe),fm(t,Xe)})}return}const B=Pd(this._engine.playersByElement,t,[]);B.forEach(le=>{le.namespaceId==this.id&&le.triggerName==e&&le.queued&&le.destroy()});let G=o.matchTransition(v.value,x.value,t,x.params),Z=!1;if(!G){if(!r)return;G=o.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:G,fromState:v,toState:x,player:d,isFallbackTransition:Z}),Z||(Fu(t,z6),d.onStart(()=>{bC(t,z6)})),d.onDone(()=>{let le=this.players.indexOf(d);le>=0&&this.players.splice(le,1);const xe=this._engine.playersByElement.get(t);if(xe){let Xe=xe.indexOf(d);Xe>=0&&xe.splice(Xe,1)}}),this.players.push(d),B.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,xM,!0);i.forEach(r=>{if(r[Nu])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),d=new Map;if(o){const m=[];if(o.forEach((v,x)=>{if(d.set(x,v.value),this._triggers.has(x)){const T=this.trigger(t,x,OS,r);T&&m.push(T)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&dv(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const d=o.name;if(r.has(d))return;r.add(d);const v=this._triggers.get(d).fallbackTransition,x=i.get(d)||r2,T=new n2(OS),P=new s2(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:v,fromState:x,toState:T,player:P,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Nu];(!o||o===G6)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,d=this._elementListeners.get(o);d&&d.forEach(m=>{if(m.name==i.triggerName){const v=VF(o,i.triggerName,i.fromState.value,i.toState.value);v._data=t,LF(i.player,m.phase,v,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==o||0==d?o-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class lre{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new are(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,m=this.driver.getParentElement(e);for(;m;){const v=r.get(m);if(v){const x=i.indexOf(v);i.splice(x+1,0,t),d=!0;break}m=this.driver.getParentElement(m)}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(PM(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!PM(e))return;const o=e[Nu];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fu(t,t2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),bC(t,t2))}removeNode(t,e,i,r){if(PM(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Nu]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return PM(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,xM,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,zF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return dv(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Nu];if(e&&e.setForRemoval){if(t[Nu]=G6,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(t2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fu(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?dv(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function lie(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new AM,r=[],o=new Map,d=[],m=new Map,v=new Map,x=new Map,T=new Set;this.disabledNodes.forEach(nn=>{T.add(nn);const xn=this.driver.query(nn,".ng-animate-queued",!0);for(let In=0;In<xn.length;In++)T.add(xn[In])});const P=this.bodyNode,B=Array.from(this.statesByElement.keys()),G=Y6(B,this.collectedEnterElements),Z=new Map;let le=0;G.forEach((nn,xn)=>{const In=$F+le++;Z.set(xn,In),nn.forEach(Ai=>Fu(Ai,In))});const xe=[],Xe=new Set,_t=new Set;for(let nn=0;nn<this.collectedLeaveElements.length;nn++){const xn=this.collectedLeaveElements[nn],In=xn[Nu];In&&In.setForRemoval&&(xe.push(xn),Xe.add(xn),In.hasAnimation?this.driver.query(xn,".ng-star-inserted",!0).forEach(Ai=>Xe.add(Ai)):_t.add(xn))}const vt=new Map,wt=Y6(B,Array.from(Xe));wt.forEach((nn,xn)=>{const In=yM+le++;vt.set(xn,In),nn.forEach(Ai=>Fu(Ai,In))}),t.push(()=>{G.forEach((nn,xn)=>{const In=Z.get(xn);nn.forEach(Ai=>bC(Ai,In))}),wt.forEach((nn,xn)=>{const In=vt.get(xn);nn.forEach(Ai=>bC(Ai,In))}),xe.forEach(nn=>{this.processLeaveNode(nn)})});const an=[],hn=[];for(let nn=this._namespaceList.length-1;nn>=0;nn--)this._namespaceList[nn].drainQueuedTransitions(e).forEach(In=>{const Ai=In.player,ca=In.element;if(an.push(Ai),this.collectedEnterElements.length){const xl=ca[Nu];if(xl&&xl.setForMove){if(xl.previousTriggersValues&&xl.previousTriggersValues.has(In.triggerName)){const a0=xl.previousTriggersValues.get(In.triggerName),Lu=this.statesByElement.get(In.element);if(Lu&&Lu.has(In.triggerName)){const XM=Lu.get(In.triggerName);XM.value=a0,Lu.set(In.triggerName,XM)}}return void Ai.destroy()}}const _m=!P||!this.driver.containsElement(P,ca),Fd=vt.get(ca),pv=Z.get(ca),Cs=this._buildInstruction(In,i,pv,Fd,_m);if(Cs.errors&&Cs.errors.length)return void hn.push(Cs);if(_m)return Ai.onStart(()=>n0(ca,Cs.fromStyles)),Ai.onDestroy(()=>fm(ca,Cs.toStyles)),void r.push(Ai);if(In.isFallbackTransition)return Ai.onStart(()=>n0(ca,Cs.fromStyles)),Ai.onDestroy(()=>fm(ca,Cs.toStyles)),void r.push(Ai);const o4=[];Cs.timelines.forEach(xl=>{xl.stretchStartingKeyframe=!0,this.disabledNodes.has(xl.element)||o4.push(xl)}),Cs.timelines=o4,i.append(ca,Cs.timelines),d.push({instruction:Cs,player:Ai,element:ca}),Cs.queriedElements.forEach(xl=>Pd(m,xl,[]).push(Ai)),Cs.preStyleProps.forEach((xl,a0)=>{if(xl.size){let Lu=v.get(a0);Lu||v.set(a0,Lu=new Set),xl.forEach((XM,P2)=>Lu.add(P2))}}),Cs.postStyleProps.forEach((xl,a0)=>{let Lu=x.get(a0);Lu||x.set(a0,Lu=new Set),xl.forEach((XM,P2)=>Lu.add(P2))})});if(hn.length){const nn=[];hn.forEach(xn=>{nn.push(function cie(n,t){return new a.vHH(3505,!1)}())}),an.forEach(xn=>xn.destroy()),this.reportError(nn)}const ti=new Map,ro=new Map;d.forEach(nn=>{const xn=nn.element;i.has(xn)&&(ro.set(xn,xn),this._beforeAnimationBuild(nn.player.namespaceId,nn.instruction,ti))}),r.forEach(nn=>{const xn=nn.element;this._getPreviousPlayers(xn,!1,nn.namespaceId,nn.triggerName,null).forEach(Ai=>{Pd(ti,xn,[]).push(Ai),Ai.destroy()})});const Nd=xe.filter(nn=>K6(nn,v,x)),Xf=new Map;W6(Xf,this.driver,_t,x,Hf).forEach(nn=>{K6(nn,v,x)&&Nd.push(nn)});const VS=new Map;G.forEach((nn,xn)=>{W6(VS,this.driver,new Set(nn),v,"!")}),Nd.forEach(nn=>{const xn=Xf.get(nn),In=VS.get(nn);Xf.set(nn,new Map([...Array.from(xn?.entries()??[]),...Array.from(In?.entries()??[])]))});const o0=[],r4=[],s4={};d.forEach(nn=>{const{element:xn,player:In,instruction:Ai}=nn;if(i.has(xn)){if(T.has(xn))return In.onDestroy(()=>fm(xn,Ai.toStyles)),In.disabled=!0,In.overrideTotalTime(Ai.totalTime),void r.push(In);let ca=s4;if(ro.size>1){let Fd=xn;const pv=[];for(;Fd=Fd.parentNode;){const Cs=ro.get(Fd);if(Cs){ca=Cs;break}pv.push(Fd)}pv.forEach(Cs=>ro.set(Cs,ca))}const _m=this._buildAnimation(In.namespaceId,Ai,ti,o,VS,Xf);if(In.setRealPlayer(_m),ca===s4)o0.push(In);else{const Fd=this.playersByElement.get(ca);Fd&&Fd.length&&(In.parentPlayer=dv(Fd)),r.push(In)}}else n0(xn,Ai.fromStyles),In.onDestroy(()=>fm(xn,Ai.toStyles)),r4.push(In),T.has(xn)&&r.push(In)}),r4.forEach(nn=>{const xn=o.get(nn.element);if(xn&&xn.length){const In=dv(xn);nn.setRealPlayer(In)}}),r.forEach(nn=>{nn.parentPlayer?nn.syncPlayerEvents(nn.parentPlayer):nn.destroy()});for(let nn=0;nn<xe.length;nn++){const xn=xe[nn],In=xn[Nu];if(bC(xn,yM),In&&In.hasAnimation)continue;let Ai=[];if(m.size){let _m=m.get(xn);_m&&_m.length&&Ai.push(..._m);let Fd=this.driver.query(xn,zF,!0);for(let pv=0;pv<Fd.length;pv++){let Cs=m.get(Fd[pv]);Cs&&Cs.length&&Ai.push(...Cs)}}const ca=Ai.filter(_m=>!_m.destroyed);ca.length?hre(this,xn,ca):this.processLeaveNode(xn)}return xe.length=0,o0.forEach(nn=>{this.players.push(nn),nn.onDone(()=>{nn.destroy();const xn=this.players.indexOf(nn);this.players.splice(xn,1)}),nn.play()}),o0}elementContainsData(t,e){let i=!1;const r=e[Nu];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let d=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(d=m)}else{const m=this.playersByElement.get(t);if(m){const v=!o||o==OS;m.forEach(x=>{x.queued||!v&&x.triggerName!=r||d.push(x)})}}return(i||r)&&(d=d.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),d}_beforeAnimationBuild(t,e,i){const o=e.element,d=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const x=v.element,T=x!==o,P=Pd(i,x,[]);this._getPreviousPlayers(x,T,d,m,e.toState).forEach(G=>{const Z=G.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),G.destroy(),P.push(G)})}n0(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,d){const m=e.triggerName,v=e.element,x=[],T=new Set,P=new Set,B=e.timelines.map(Z=>{const le=Z.element;T.add(le);const xe=le[Nu];if(xe&&xe.removedBeforeQueried)return new ST(Z.duration,Z.delay);const Xe=le!==v,_t=function pre(n){const t=[];return Z6(n,t),t}((i.get(le)||sre).map(ti=>ti.getRealPlayer())).filter(ti=>!!ti.element&&ti.element===le),vt=o.get(le),wt=d.get(le),an=w6(0,this._normalizer,0,Z.keyframes,vt,wt),hn=this._buildPlayer(Z,an,_t);if(Z.subTimeline&&r&&P.add(le),Xe){const ti=new s2(t,m,le);ti.setRealPlayer(hn),x.push(ti)}return hn});x.forEach(Z=>{Pd(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function cre(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>Fu(Z,A6));const G=dv(B);return G.onDestroy(()=>{T.forEach(Z=>bC(Z,A6)),fm(v,e.toStyles)}),P.forEach(Z=>{Pd(r,Z,[]).push(G)}),G}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ST(t.duration,t.delay)}}class s2{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ST,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>LF(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Pd(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function PM(n){return n&&1===n.nodeType}function q6(n,t){const e=n.style.display;return n.style.display=t??"none",e}function W6(n,t,e,i,r){const o=[];e.forEach(v=>o.push(q6(v)));const d=[];i.forEach((v,x)=>{const T=new Map;v.forEach(P=>{const B=t.computeStyle(x,P,r);T.set(P,B),(!B||0==B.length)&&(x[Nu]=ore,d.push(x))}),n.set(x,T)});let m=0;return e.forEach(v=>q6(v,o[m++])),d}function Y6(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const r=new Set(t),o=new Map;function d(m){if(!m)return 1;let v=o.get(m);if(v)return v;const x=m.parentNode;return v=e.has(x)?x:r.has(x)?1:d(x),o.set(m,v),v}return t.forEach(m=>{const v=d(m);1!==v&&e.get(v).push(m)}),e}function Fu(n,t){n.classList?.add(t)}function bC(n,t){n.classList?.remove(t)}function hre(n,t,e){dv(e).onDone(()=>n.processLeaveNode(t))}function Z6(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof y3?Z6(i.players,t):t.push(i)}}function K6(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class OM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new lre(t,e,i),this._timelineEngine=new ere(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const d=t+"-"+r;let m=this._triggerCache[d];if(!m){const v=[],T=YF(this._driver,o,v,[]);if(v.length)throw function Xne(n,t){return new a.vHH(3404,!1)}();m=function Kie(n,t,e){return new Qie(n,t,e)}(r,T,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(e,r,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,d]=x6(i);this._timelineEngine.command(o,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[d,m]=x6(i);return this._timelineEngine.listen(d,e,m,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let gre=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fm(this._element,this._initialStyles),this._endStyles&&(fm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(n0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(n0(this._element,this._endStyles),this._endStyles=null),fm(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function o2(n){let t=null;return n.forEach((e,i)=>{(function _re(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Q6{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:F6(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vre{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return T6(t,e)}getParentElement(t){return HF(t)}query(t,e,i){return S6(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,d=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(v.easing=o);const x=new Map,T=d.filter(G=>G instanceof Q6);(function xie(n,t){return 0===n||0===t})(i,r)&&T.forEach(G=>{G.currentSnapshot.forEach((Z,le)=>x.set(le,Z))});let P=function vie(n){return n.length?n[0]instanceof Map?n:n.map(t=>M6(t)):[]}(e).map(G=>uv(G));P=function Cie(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,d)=>{i.has(d)||r.push(d),i.set(d,o)}),r.length)for(let o=1;o<t.length;o++){let d=t[o];r.forEach(m=>d.set(m,F6(n,m)))}}return t}(t,P,x);const B=function fre(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=o2(t[0]),t.length>1&&(i=o2(t[t.length-1]))):t instanceof Map&&(e=o2(t)),e||i?new gre(n,e,i):null}(t,P);return new Q6(t,P,v,B)}}let bre=(()=>{class n extends _3{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?v3(e):e;return X6(this._renderer,null,i,"register",[r]),new yre(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(_e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class yre extends BW{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new wre(this._id,t,e||{},this._renderer)}}class wre{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return X6(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function X6(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const J6="@.disabled";let xre=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,d)=>{const m=d?.parentNode(o);m&&d.removeChild(m,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(o);return T||(T=new e$("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,T)),T}const d=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const v=T=>{Array.isArray(T)?T.forEach(v):this.engine.registerTrigger(d,m,e,T.name,T)};return i.data.animation.forEach(v),new Cre(this,m,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[d,m]=o;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(OM),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class e${constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==J6?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Cre extends e${constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==J6?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Ere(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),d="";return"@"!=o.charAt(0)&&([o,d]=function Dre(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(t,e,i)}}let Tre=(()=>{class n extends OM{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e),a.LFG(jF),a.LFG(JF),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const t$=[{provide:_3,useClass:bre},{provide:JF,useFactory:function Sre(){return new qie}},{provide:OM,useClass:Tre},{provide:a.FYo,useFactory:function Ire(n,t,e){return new xre(n,t,e)},deps:[Ka,OM,a.R0b]}],a2=[{provide:jF,useFactory:()=>new vre},{provide:a.QbO,useValue:"BrowserAnimations"},...t$],n$=[{provide:jF,useClass:I6},{provide:a.QbO,useValue:"NoopAnimations"},...t$];let l2=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?n$:a2}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:a2,imports:[Ja]}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Vre={provide:new a.OlP("mat-autocomplete-scroll-strategy"),deps:[zc],useFactory:function Bre(n){return()=>n.scrollStrategies.reposition()}};let s$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Vre],imports:[lm,uA,cn,yi,jf,uA,cn]}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,kd,cn]}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,kd,p$,cn,p$]}),n})();const _$=new a.OlP("mat-chips-default-options");let E$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[VO,{provide:_$,useValue:{separatorKeyCodes:[13]}}],imports:[cn,yi,kd,cn]}),n})();const jse={provide:new a.OlP("mat-menu-scroll-strategy"),deps:[zc],useFactory:function Hse(n){return()=>n.scrollStrategies.reposition()}};let T$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[jse],imports:[yi,kd,cn,lm,jf,cn]}),n})();const Wse={provide:new a.OlP("mat-select-scroll-strategy"),deps:[zc],useFactory:function qse(n){return()=>n.scrollStrategies.reposition()}};let g2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Wse],imports:[yi,lm,uA,cn,jf,xS,uA,cn]}),n})();const Qse={provide:new a.OlP("mat-tooltip-scroll-strategy"),deps:[zc],useFactory:function Kse(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let _2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Qse],imports:[xT,yi,lm,cn,cn,jf]}),n})(),v2=(()=>{class n{constructor(){this.changes=new gt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ioe={provide:v2,deps:[[new a.FiY,new a.tp0,v2]],useFactory:function noe(n){return n||new v2}};let S$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ioe],imports:[yi,TT,g2,_2]}),n})(),I$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[yi,cn]}),n})(),b2=(()=>{class n{constructor(){this.changes=new gt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aoe={provide:b2,deps:[[new a.FiY,new a.tp0,b2]],useFactory:function ooe(n){return n||new b2}};let k$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[aoe],imports:[yi,cn]}),n})(),woe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[GO]}),n})(),U$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,woe,cn]}),n})(),j$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[yi,cn,am,kd,lA,xT,cn]}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[p2,cn,cn]}),n})(),z$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xT,cn,cn]}),n})(),q$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[s3,cn,s3,cn]}),n})(),K$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cn,yi,kd,cn]}),n})(),uae=(()=>{class n{constructor(){this.changes=new gt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wae={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[zc],useFactory:function yae(n){return()=>n.scrollStrategies.reposition()}};let t4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[uae,wae],imports:[yi,TT,lm,xT,am,cn,jf]}),n})();const Iae=[p2,s$,TT,uj,m$,E$,XO,Rj,fU,Dj,IU,T$,I$,S$,kd,g2,PU,YO,k$,U$,j$,NU,xS,d$,$$,lm,am,z$,q$,K$,t4,_2,VU,l2];class TC{}TC.\u0275fac=function(t){return new(t||TC)},TC.\u0275mod=a.oAB({type:TC}),TC.\u0275inj=a.cJS({imports:[yi,Iae,p2,s$,TT,uj,m$,E$,XO,Rj,fU,Dj,IU,T$,I$,S$,kd,g2,PU,YO,k$,U$,j$,NU,xS,d$,$$,lm,am,z$,q$,K$,t4,_2,VU,l2]});class BS{constructor(){this.title="netcap"}}BS.\u0275fac=function(t){return new(t||BS)},BS.\u0275cmp=a.Xpm({type:BS,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&a._UZ(0,"router-outlet")},dependencies:[Sg]});class SC{}SC.\u0275fac=function(t){return new(t||SC)},SC.\u0275mod=a.oAB({type:SC,bootstrap:[BS]}),SC.\u0275inj=a.cJS({providers:[Gc],imports:[Ja,fC,Ns,Li.hO.initializeApp({apiKey:"AIzaSyDGi9exoB0u7Z5KbU3XLH-K6nJyM05e47Q",authDomain:"netcap-f23e0.firebaseapp.com",databaseURL:"https://netcap-f23e0-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"netcap-f23e0",storageBucket:"netcap-f23e0.appspot.com",messagingSenderId:"483151140785",appId:"1:483151140785:web:e915603f9042e005dc0f90",measurementId:"G-6HZMHKBJPJ"},"NetCap"),mq,xq,Ane,tJ,Lb,mw,l2,TC,O7,h7,kd]}),Gr().bootstrapModule(SC).catch(n=>console.error(n))},9751:(xt,je,K)=>{K.d(je,{y:()=>Me});var a=K(930),ie=K(727),q=K(8822),Ee=K(9635),he=K(2416),_e=K(576),Ve=K(2806);let Me=(()=>{class be{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const it=new be;return it.source=this,it.operator=Ke,it}subscribe(Ke,it,Ct){const Le=function oe(be){return be&&be instanceof a.Lv||function se(be){return be&&(0,_e.m)(be.next)&&(0,_e.m)(be.error)&&(0,_e.m)(be.complete)}(be)&&(0,ie.Nn)(be)}(Ke)?Ke:new a.Hp(Ke,it,Ct);return(0,Ve.x)(()=>{const{operator:Ye,source:qe}=this;Le.add(Ye?Ye.call(Le,qe):qe?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(it){Ke.error(it)}}forEach(Ke,it){return new(it=Fe(it))((Ct,Le)=>{const Ye=new a.Hp({next:qe=>{try{Ke(qe)}catch(Oe){Le(Oe),Ye.unsubscribe()}},error:Le,complete:Ct});this.subscribe(Ye)})}_subscribe(Ke){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Ke)}[q.L](){return this}pipe(...Ke){return(0,Ee.U)(Ke)(this)}toPromise(Ke){return new(Ke=Fe(Ke))((it,Ct)=>{let Le;this.subscribe(Ye=>Le=Ye,Ye=>Ct(Ye),()=>it(Le))})}}return be.create=ct=>new be(ct),be})();function Fe(be){var ct;return null!==(ct=be??he.v.Promise)&&void 0!==ct?ct:Promise}},7579:(xt,je,K)=>{K.d(je,{x:()=>Ve});var a=K(9751),ie=K(727);const Ee=(0,K(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=K(8737),_e=K(2806);let Ve=(()=>{class Fe extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const be=new Me(this,this);return be.operator=oe,be}_throwIfClosed(){if(this.closed)throw new Ee}next(oe){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(oe)}})}error(oe){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:be}=this;for(;be.length;)be.shift().error(oe)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:be,isStopped:ct,observers:Ke}=this;return be||ct?ie.Lc:(this.currentObservers=null,Ke.push(oe),new ie.w0(()=>{this.currentObservers=null,(0,he.P)(Ke,oe)}))}_checkFinalizedStatuses(oe){const{hasError:be,thrownError:ct,isStopped:Ke}=this;be?oe.error(ct):Ke&&oe.complete()}asObservable(){const oe=new a.y;return oe.source=this,oe}}return Fe.create=(se,oe)=>new Me(se,oe),Fe})();class Me extends Ve{constructor(se,oe){super(),this.destination=se,this.source=oe}next(se){var oe,be;null===(be=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===be||be.call(oe,se)}error(se){var oe,be;null===(be=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===be||be.call(oe,se)}complete(){var se,oe;null===(oe=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===oe||oe.call(se)}_subscribe(se){var oe,be;return null!==(be=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(se))&&void 0!==be?be:ie.Lc}}},930:(xt,je,K)=>{K.d(je,{Hp:()=>Ct,Lv:()=>be});var a=K(576),ie=K(727),q=K(2416),Ee=K(7849),he=K(5032);const _e=Fe("C",void 0,void 0);function Fe(Ge,et,Ze){return{kind:Ge,value:et,error:Ze}}var se=K(3410),oe=K(2806);class be extends ie.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,ie.Nn)(et)&&et.add(this)):this.destination=Oe}static create(et,Ze,ht){return new Ct(et,Ze,ht)}next(et){this.isStopped?qe(function Me(Ge){return Fe("N",Ge,void 0)}(et),this):this._next(et)}error(et){this.isStopped?qe(function Ve(Ge){return Fe("E",void 0,Ge)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?qe(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ct=Function.prototype.bind;function Ke(Ge,et){return ct.call(Ge,et)}class it{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(et)}catch(ht){Le(ht)}}error(et){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(et)}catch(ht){Le(ht)}else Le(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Ze){Le(Ze)}}}class Ct extends be{constructor(et,Ze,ht){let ye;if(super(),(0,a.m)(et)||!et)ye={next:et??void 0,error:Ze??void 0,complete:ht??void 0};else{let Ae;this&&q.v.useDeprecatedNextContext?(Ae=Object.create(et),Ae.unsubscribe=()=>this.unsubscribe(),ye={next:et.next&&Ke(et.next,Ae),error:et.error&&Ke(et.error,Ae),complete:et.complete&&Ke(et.complete,Ae)}):ye=et}this.destination=new it(ye)}}function Le(Ge){q.v.useDeprecatedSynchronousErrorHandling?(0,oe.O)(Ge):(0,Ee.h)(Ge)}function qe(Ge,et){const{onStoppedNotification:Ze}=q.v;Ze&&se.z.setTimeout(()=>Ze(Ge,et))}const Oe={closed:!0,next:he.Z,error:function Ye(Ge){throw Ge},complete:he.Z}},727:(xt,je,K)=>{K.d(je,{Lc:()=>_e,w0:()=>he,Nn:()=>Ve});var a=K(576);const q=(0,K(3888).d)(Fe=>function(oe){Fe(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((be,ct)=>`${ct+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var Ee=K(8737);class he{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Ke of oe)Ke.remove(this);else oe.remove(this);const{initialTeardown:be}=this;if((0,a.m)(be))try{be()}catch(Ke){se=Ke instanceof q?Ke.errors:[Ke]}const{_finalizers:ct}=this;if(ct){this._finalizers=null;for(const Ke of ct)try{Me(Ke)}catch(it){se=se??[],it instanceof q?se=[...se,...it.errors]:se.push(it)}}if(se)throw new q(se)}}add(se){var oe;if(se&&se!==this)if(this.closed)Me(se);else{if(se instanceof he){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(se)}}_hasParent(se){const{_parentage:oe}=this;return oe===se||Array.isArray(oe)&&oe.includes(se)}_addParent(se){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(se),oe):oe?[oe,se]:se}_removeParent(se){const{_parentage:oe}=this;oe===se?this._parentage=null:Array.isArray(oe)&&(0,Ee.P)(oe,se)}remove(se){const{_finalizers:oe}=this;oe&&(0,Ee.P)(oe,se),se instanceof he&&se._removeParent(this)}}he.EMPTY=(()=>{const Fe=new he;return Fe.closed=!0,Fe})();const _e=he.EMPTY;function Ve(Fe){return Fe instanceof he||Fe&&"closed"in Fe&&(0,a.m)(Fe.remove)&&(0,a.m)(Fe.add)&&(0,a.m)(Fe.unsubscribe)}function Me(Fe){(0,a.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(xt,je,K)=>{K.d(je,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,je,K)=>{K.d(je,{E:()=>ie});const ie=new(K(9751).y)(he=>he.complete())},8996:(xt,je,K)=>{K.d(je,{D:()=>et});var a=K(8421),ie=K(5363),q=K(9468),_e=K(9751),Me=K(2202),Fe=K(576),se=K(9672);function be(Ze,ht){if(!Ze)throw new Error("Iterable cannot be null");return new _e.y(ye=>{(0,se.f)(ye,ht,()=>{const Ae=Ze[Symbol.asyncIterator]();(0,se.f)(ye,ht,()=>{Ae.next().then(ze=>{ze.done?ye.complete():ye.next(ze.value)})},0,!0)})})}var ct=K(3670),Ke=K(8239),it=K(1144),Ct=K(6495),Le=K(2206),Ye=K(4532),qe=K(3260);function et(Ze,ht){return ht?function Ge(Ze,ht){if(null!=Ze){if((0,ct.c)(Ze))return function Ee(Ze,ht){return(0,a.Xf)(Ze).pipe((0,q.R)(ht),(0,ie.Q)(ht))}(Ze,ht);if((0,it.z)(Ze))return function Ve(Ze,ht){return new _e.y(ye=>{let Ae=0;return ht.schedule(function(){Ae===Ze.length?ye.complete():(ye.next(Ze[Ae++]),ye.closed||this.schedule())})})}(Ze,ht);if((0,Ke.t)(Ze))return function he(Ze,ht){return(0,a.Xf)(Ze).pipe((0,q.R)(ht),(0,ie.Q)(ht))}(Ze,ht);if((0,Le.D)(Ze))return be(Ze,ht);if((0,Ct.T)(Ze))return function oe(Ze,ht){return new _e.y(ye=>{let Ae;return(0,se.f)(ye,ht,()=>{Ae=Ze[Me.h](),(0,se.f)(ye,ht,()=>{let ze,pe;try{({value:ze,done:pe}=Ae.next())}catch(me){return void ye.error(me)}pe?ye.complete():ye.next(ze)},0,!0)}),()=>(0,Fe.m)(Ae?.return)&&Ae.return()})}(Ze,ht);if((0,qe.L)(Ze))return function Oe(Ze,ht){return be((0,qe.Q)(Ze),ht)}(Ze,ht)}throw(0,Ye.z)(Ze)}(Ze,ht):(0,a.Xf)(Ze)}},8421:(xt,je,K)=>{K.d(je,{Xf:()=>ct});var a=K(655),ie=K(1144),q=K(8239),Ee=K(9751),he=K(3670),_e=K(2206),Ve=K(4532),Me=K(6495),Fe=K(3260),se=K(576),oe=K(7849),be=K(8822);function ct(Ge){if(Ge instanceof Ee.y)return Ge;if(null!=Ge){if((0,he.c)(Ge))return function Ke(Ge){return new Ee.y(et=>{const Ze=Ge[be.L]();if((0,se.m)(Ze.subscribe))return Ze.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,ie.z)(Ge))return function it(Ge){return new Ee.y(et=>{for(let Ze=0;Ze<Ge.length&&!et.closed;Ze++)et.next(Ge[Ze]);et.complete()})}(Ge);if((0,q.t)(Ge))return function Ct(Ge){return new Ee.y(et=>{Ge.then(Ze=>{et.closed||(et.next(Ze),et.complete())},Ze=>et.error(Ze)).then(null,oe.h)})}(Ge);if((0,_e.D)(Ge))return Ye(Ge);if((0,Me.T)(Ge))return function Le(Ge){return new Ee.y(et=>{for(const Ze of Ge)if(et.next(Ze),et.closed)return;et.complete()})}(Ge);if((0,Fe.L)(Ge))return function qe(Ge){return Ye((0,Fe.Q)(Ge))}(Ge)}throw(0,Ve.z)(Ge)}function Ye(Ge){return new Ee.y(et=>{(function Oe(Ge,et){var Ze,ht,ye,Ae;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,a.KL)(Ge);!(ht=yield Ze.next()).done;)if(et.next(ht.value),et.closed)return}catch(ze){ye={error:ze}}finally{try{ht&&!ht.done&&(Ae=Ze.return)&&(yield Ae.call(Ze))}finally{if(ye)throw ye.error}}et.complete()})})(Ge,et).catch(Ze=>et.error(Ze))})}},6451:(xt,je,K)=>{K.d(je,{T:()=>_e});var a=K(8189),ie=K(8421),q=K(515),Ee=K(3269),he=K(8996);function _e(...Ve){const Me=(0,Ee.yG)(Ve),Fe=(0,Ee._6)(Ve,1/0),se=Ve;return se.length?1===se.length?(0,ie.Xf)(se[0]):(0,a.J)(Fe)((0,he.D)(se,Me)):q.E}},5403:(xt,je,K)=>{K.d(je,{x:()=>ie});var a=K(930);function ie(Ee,he,_e,Ve,Me){return new q(Ee,he,_e,Ve,Me)}class q extends a.Lv{constructor(he,_e,Ve,Me,Fe,se){super(he),this.onFinalize=Fe,this.shouldUnsubscribe=se,this._next=_e?function(oe){try{_e(oe)}catch(be){he.error(be)}}:super._next,this._error=Me?function(oe){try{Me(oe)}catch(be){he.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(oe){he.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(xt,je,K)=>{K.d(je,{U:()=>q});var a=K(4482),ie=K(5403);function q(Ee,he){return(0,a.e)((_e,Ve)=>{let Me=0;_e.subscribe((0,ie.x)(Ve,Fe=>{Ve.next(Ee.call(he,Fe,Me++))}))})}},8189:(xt,je,K)=>{K.d(je,{J:()=>q});var a=K(5577),ie=K(4671);function q(Ee=1/0){return(0,a.z)(ie.y,Ee)}},5577:(xt,je,K)=>{K.d(je,{z:()=>Me});var a=K(4004),ie=K(8421),q=K(4482),Ee=K(9672),he=K(5403),Ve=K(576);function Me(Fe,se,oe=1/0){return(0,Ve.m)(se)?Me((be,ct)=>(0,a.U)((Ke,it)=>se(be,Ke,ct,it))((0,ie.Xf)(Fe(be,ct))),oe):("number"==typeof se&&(oe=se),(0,q.e)((be,ct)=>function _e(Fe,se,oe,be,ct,Ke,it,Ct){const Le=[];let Ye=0,qe=0,Oe=!1;const Ge=()=>{Oe&&!Le.length&&!Ye&&se.complete()},et=ht=>Ye<be?Ze(ht):Le.push(ht),Ze=ht=>{Ke&&se.next(ht),Ye++;let ye=!1;(0,ie.Xf)(oe(ht,qe++)).subscribe((0,he.x)(se,Ae=>{ct?.(Ae),Ke?et(Ae):se.next(Ae)},()=>{ye=!0},void 0,()=>{if(ye)try{for(Ye--;Le.length&&Ye<be;){const Ae=Le.shift();it?(0,Ee.f)(se,it,()=>Ze(Ae)):Ze(Ae)}Ge()}catch(Ae){se.error(Ae)}}))};return Fe.subscribe((0,he.x)(se,et,()=>{Oe=!0,Ge()})),()=>{Ct?.()}}(be,ct,Fe,oe)))}},5363:(xt,je,K)=>{K.d(je,{Q:()=>Ee});var a=K(9672),ie=K(4482),q=K(5403);function Ee(he,_e=0){return(0,ie.e)((Ve,Me)=>{Ve.subscribe((0,q.x)(Me,Fe=>(0,a.f)(Me,he,()=>Me.next(Fe),_e),()=>(0,a.f)(Me,he,()=>Me.complete(),_e),Fe=>(0,a.f)(Me,he,()=>Me.error(Fe),_e)))})}},3099:(xt,je,K)=>{K.d(je,{B:()=>he});var a=K(8421),ie=K(7579),q=K(930),Ee=K(4482);function he(Ve={}){const{connector:Me=(()=>new ie.x),resetOnError:Fe=!0,resetOnComplete:se=!0,resetOnRefCountZero:oe=!0}=Ve;return be=>{let ct,Ke,it,Ct=0,Le=!1,Ye=!1;const qe=()=>{Ke?.unsubscribe(),Ke=void 0},Oe=()=>{qe(),ct=it=void 0,Le=Ye=!1},Ge=()=>{const et=ct;Oe(),et?.unsubscribe()};return(0,Ee.e)((et,Ze)=>{Ct++,!Ye&&!Le&&qe();const ht=it=it??Me();Ze.add(()=>{Ct--,0===Ct&&!Ye&&!Le&&(Ke=_e(Ge,oe))}),ht.subscribe(Ze),!ct&&Ct>0&&(ct=new q.Hp({next:ye=>ht.next(ye),error:ye=>{Ye=!0,qe(),Ke=_e(Oe,Fe,ye),ht.error(ye)},complete:()=>{Le=!0,qe(),Ke=_e(Oe,se),ht.complete()}}),(0,a.Xf)(et).subscribe(ct))})(be)}}function _e(Ve,Me,...Fe){if(!0===Me)return void Ve();if(!1===Me)return;const se=new q.Hp({next:()=>{se.unsubscribe(),Ve()}});return Me(...Fe).subscribe(se)}},9468:(xt,je,K)=>{K.d(je,{R:()=>ie});var a=K(4482);function ie(q,Ee=0){return(0,a.e)((he,_e)=>{_e.add(q.schedule(()=>he.subscribe(_e),Ee))})}},8505:(xt,je,K)=>{K.d(je,{b:()=>he});var a=K(576),ie=K(4482),q=K(5403),Ee=K(4671);function he(_e,Ve,Me){const Fe=(0,a.m)(_e)||Ve||Me?{next:_e,error:Ve,complete:Me}:_e;return Fe?(0,ie.e)((se,oe)=>{var be;null===(be=Fe.subscribe)||void 0===be||be.call(Fe);let ct=!0;se.subscribe((0,q.x)(oe,Ke=>{var it;null===(it=Fe.next)||void 0===it||it.call(Fe,Ke),oe.next(Ke)},()=>{var Ke;ct=!1,null===(Ke=Fe.complete)||void 0===Ke||Ke.call(Fe),oe.complete()},Ke=>{var it;ct=!1,null===(it=Fe.error)||void 0===it||it.call(Fe,Ke),oe.error(Ke)},()=>{var Ke,it;ct&&(null===(Ke=Fe.unsubscribe)||void 0===Ke||Ke.call(Fe)),null===(it=Fe.finalize)||void 0===it||it.call(Fe)}))}):Ee.y}},4408:(xt,je,K)=>{K.d(je,{o:()=>he});var a=K(727);class ie extends a.w0{constructor(Ve,Me){super()}schedule(Ve,Me=0){return this}}const q={setInterval(_e,Ve,...Me){const{delegate:Fe}=q;return Fe?.setInterval?Fe.setInterval(_e,Ve,...Me):setInterval(_e,Ve,...Me)},clearInterval(_e){const{delegate:Ve}=q;return(Ve?.clearInterval||clearInterval)(_e)},delegate:void 0};var Ee=K(8737);class he extends ie{constructor(Ve,Me){super(Ve,Me),this.scheduler=Ve,this.work=Me,this.pending=!1}schedule(Ve,Me=0){var Fe;if(this.closed)return this;this.state=Ve;const se=this.id,oe=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(oe,se,Me)),this.pending=!0,this.delay=Me,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(oe,this.id,Me),this}requestAsyncId(Ve,Me,Fe=0){return q.setInterval(Ve.flush.bind(Ve,this),Fe)}recycleAsyncId(Ve,Me,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return Me;null!=Me&&q.clearInterval(Me)}execute(Ve,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(Ve,Me);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ve,Me){let se,Fe=!1;try{this.work(Ve)}catch(oe){Fe=!0,se=oe||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Ve,scheduler:Me}=this,{actions:Fe}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.P)(Fe,this),null!=Ve&&(this.id=this.recycleAsyncId(Me,Ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,je,K)=>{K.d(je,{v:()=>q});var a=K(6063);class ie{constructor(he,_e=ie.now){this.schedulerActionCtor=he,this.now=_e}schedule(he,_e=0,Ve){return new this.schedulerActionCtor(this,he).schedule(Ve,_e)}}ie.now=a.l.now;class q extends ie{constructor(he,_e=ie.now){super(he,_e),this.actions=[],this._active=!1}flush(he){const{actions:_e}=this;if(this._active)return void _e.push(he);let Ve;this._active=!0;do{if(Ve=he.execute(he.state,he.delay))break}while(he=_e.shift());if(this._active=!1,Ve){for(;he=_e.shift();)he.unsubscribe();throw Ve}}}},4986:(xt,je,K)=>{K.d(je,{P:()=>Ee,z:()=>q});var a=K(4408);const q=new(K(7565).v)(a.o),Ee=q},6063:(xt,je,K)=>{K.d(je,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(xt,je,K)=>{K.d(je,{z:()=>a});const a={setTimeout(ie,q,...Ee){const{delegate:he}=a;return he?.setTimeout?he.setTimeout(ie,q,...Ee):setTimeout(ie,q,...Ee)},clearTimeout(ie){const{delegate:q}=a;return(q?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},2202:(xt,je,K)=>{K.d(je,{h:()=>ie});const ie=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,je,K)=>{K.d(je,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,je,K)=>{K.d(je,{_6:()=>_e,jO:()=>Ee,yG:()=>he});var a=K(576),ie=K(3532);function q(Ve){return Ve[Ve.length-1]}function Ee(Ve){return(0,a.m)(q(Ve))?Ve.pop():void 0}function he(Ve){return(0,ie.K)(q(Ve))?Ve.pop():void 0}function _e(Ve,Me){return"number"==typeof q(Ve)?Ve.pop():Me}},8737:(xt,je,K)=>{function a(ie,q){if(ie){const Ee=ie.indexOf(q);0<=Ee&&ie.splice(Ee,1)}}K.d(je,{P:()=>a})},3888:(xt,je,K)=>{function a(ie){const Ee=ie(he=>{Error.call(he),he.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}K.d(je,{d:()=>a})},2806:(xt,je,K)=>{K.d(je,{O:()=>Ee,x:()=>q});var a=K(2416);let ie=null;function q(he){if(a.v.useDeprecatedSynchronousErrorHandling){const _e=!ie;if(_e&&(ie={errorThrown:!1,error:null}),he(),_e){const{errorThrown:Ve,error:Me}=ie;if(ie=null,Ve)throw Me}}else he()}function Ee(he){a.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=he)}},9672:(xt,je,K)=>{function a(ie,q,Ee,he=0,_e=!1){const Ve=q.schedule(function(){Ee(),_e?ie.add(this.schedule(null,he)):this.unsubscribe()},he);if(ie.add(Ve),!_e)return Ve}K.d(je,{f:()=>a})},4671:(xt,je,K)=>{function a(ie){return ie}K.d(je,{y:()=>a})},1144:(xt,je,K)=>{K.d(je,{z:()=>a});const a=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(xt,je,K)=>{K.d(je,{D:()=>ie});var a=K(576);function ie(q){return Symbol.asyncIterator&&(0,a.m)(q?.[Symbol.asyncIterator])}},576:(xt,je,K)=>{function a(ie){return"function"==typeof ie}K.d(je,{m:()=>a})},3670:(xt,je,K)=>{K.d(je,{c:()=>q});var a=K(8822),ie=K(576);function q(Ee){return(0,ie.m)(Ee[a.L])}},6495:(xt,je,K)=>{K.d(je,{T:()=>q});var a=K(2202),ie=K(576);function q(Ee){return(0,ie.m)(Ee?.[a.h])}},8239:(xt,je,K)=>{K.d(je,{t:()=>ie});var a=K(576);function ie(q){return(0,a.m)(q?.then)}},3260:(xt,je,K)=>{K.d(je,{L:()=>Ee,Q:()=>q});var a=K(655),ie=K(576);function q(he){return(0,a.FC)(this,arguments,function*(){const Ve=he.getReader();try{for(;;){const{value:Me,done:Fe}=yield(0,a.qq)(Ve.read());if(Fe)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Me)}}finally{Ve.releaseLock()}})}function Ee(he){return(0,ie.m)(he?.getReader)}},3532:(xt,je,K)=>{K.d(je,{K:()=>ie});var a=K(576);function ie(q){return q&&(0,a.m)(q.schedule)}},4482:(xt,je,K)=>{K.d(je,{A:()=>ie,e:()=>q});var a=K(576);function ie(Ee){return(0,a.m)(Ee?.lift)}function q(Ee){return he=>{if(ie(he))return he.lift(function(_e){try{return Ee(_e,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,je,K)=>{function a(){}K.d(je,{Z:()=>a})},9635:(xt,je,K)=>{K.d(je,{U:()=>q,z:()=>ie});var a=K(4671);function ie(...Ee){return q(Ee)}function q(Ee){return 0===Ee.length?a.y:1===Ee.length?Ee[0]:function(_e){return Ee.reduce((Ve,Me)=>Me(Ve),_e)}}},7849:(xt,je,K)=>{K.d(je,{h:()=>q});var a=K(2416),ie=K(3410);function q(Ee){ie.z.setTimeout(()=>{const{onUnhandledError:he}=a.v;if(!he)throw Ee;he(Ee)})}},4532:(xt,je,K)=>{function a(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(je,{z:()=>a})},655:(xt,je,K)=>{function Ee(pe,me){var Pe={};for(var Ie in pe)Object.prototype.hasOwnProperty.call(pe,Ie)&&me.indexOf(Ie)<0&&(Pe[Ie]=pe[Ie]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(Ie=Object.getOwnPropertySymbols(pe);at<Ie.length;at++)me.indexOf(Ie[at])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ie[at])&&(Pe[Ie[at]]=pe[Ie[at]])}return Pe}function Me(pe,me,Pe,Ie){return new(Pe||(Pe=Promise))(function(st,Yt){function zn(wn){try{pn(Ie.next(wn))}catch(Xt){Yt(Xt)}}function si(wn){try{pn(Ie.throw(wn))}catch(Xt){Yt(Xt)}}function pn(wn){wn.done?st(wn.value):function at(st){return st instanceof Pe?st:new Pe(function(Yt){Yt(st)})}(wn.value).then(zn,si)}pn((Ie=Ie.apply(pe,me||[])).next())})}function Le(pe){return this instanceof Le?(this.v=pe,this):new Le(pe)}function Ye(pe,me,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Ie=Pe.apply(pe,me||[]),st=[];return at={},Yt("next"),Yt("throw"),Yt("return"),at[Symbol.asyncIterator]=function(){return this},at;function Yt(Gn){Ie[Gn]&&(at[Gn]=function(Gi){return new Promise(function(Rn,Jt){st.push([Gn,Gi,Rn,Jt])>1||zn(Gn,Gi)})})}function zn(Gn,Gi){try{!function si(Gn){Gn.value instanceof Le?Promise.resolve(Gn.value.v).then(pn,wn):Xt(st[0][2],Gn)}(Ie[Gn](Gi))}catch(Rn){Xt(st[0][3],Rn)}}function pn(Gn){zn("next",Gn)}function wn(Gn){zn("throw",Gn)}function Xt(Gn,Gi){Gn(Gi),st.shift(),st.length&&zn(st[0][0],st[0][1])}}function Oe(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,me=pe[Symbol.asyncIterator];return me?me.call(pe):(pe=function be(pe){var me="function"==typeof Symbol&&Symbol.iterator,Pe=me&&pe[me],Ie=0;if(Pe)return Pe.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Ie>=pe.length&&(pe=void 0),{value:pe&&pe[Ie++],done:!pe}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Pe={},Ie("next"),Ie("throw"),Ie("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Ie(st){Pe[st]=pe[st]&&function(Yt){return new Promise(function(zn,si){!function at(st,Yt,zn,si){Promise.resolve(si).then(function(pn){st({value:pn,done:zn})},Yt)}(zn,si,(Yt=pe[st](Yt)).done,Yt.value)})}}}K.d(je,{FC:()=>Ye,KL:()=>Oe,_T:()=>Ee,mG:()=>Me,qq:()=>Le})},4650:(xt,je,K)=>{K.d(je,{$8M:()=>Xh,$Z:()=>G0,AFp:()=>R_,ALo:()=>Kw,AaK:()=>Me,AsE:()=>vw,BQk:()=>vd,CHM:()=>bm,CRH:()=>Ls,CZH:()=>Zl,CqO:()=>Tb,D6c:()=>ku,DdM:()=>Eu,EJc:()=>ZI,EiD:()=>UC,EpF:()=>d_,F$t:()=>kb,F4k:()=>df,FYo:()=>Uv,FiY:()=>Ta,Gf:()=>Ne,GfV:()=>Hm,GkF:()=>Eb,Gpc:()=>oe,Hsn:()=>Ab,Ikx:()=>f,JOm:()=>yn,JVY:()=>OC,JZr:()=>Ct,Jf7:()=>Gv,KtG:()=>Wh,L6k:()=>mp,LAX:()=>NC,LFG:()=>ot,LSH:()=>jo,Lbi:()=>kf,Lck:()=>tD,MAs:()=>Sh,MMx:()=>iD,MR2:()=>mh,NdJ:()=>Sb,O4$:()=>nd,OlP:()=>Zn,Oqu:()=>Fs,P3R:()=>ph,PXZ:()=>G1,Q6J:()=>wb,QGY:()=>Db,QP$:()=>rr,QbO:()=>WI,Qsj:()=>YC,R0b:()=>Ql,RDi:()=>vg,Rgc:()=>Du,SBq:()=>yp,Sil:()=>Xp,Suo:()=>tt,TTD:()=>we,TgZ:()=>Ap,Tol:()=>Op,Udp:()=>ml,VKq:()=>sD,W1O:()=>BI,WFA:()=>u_,X6Q:()=>vy,XFs:()=>At,Xpm:()=>ua,Xts:()=>fd,Y36:()=>yh,YKP:()=>zw,YNc:()=>ow,Yjl:()=>Go,Yz7:()=>Jt,Z0I:()=>Hi,ZZ4:()=>ds,_Bn:()=>eD,_UZ:()=>xb,_Vd:()=>hu,_c5:()=>yy,_uU:()=>mf,aQg:()=>bx,c2e:()=>YI,cJS:()=>Es,cg1:()=>F,d8E:()=>s,dDg:()=>$1,dqk:()=>Ot,eBb:()=>wg,eFA:()=>gy,ekj:()=>fl,eoX:()=>Kr,f3M:()=>St,g9A:()=>sx,h0i:()=>yf,hGG:()=>pk,hij:()=>Wl,iGM:()=>Tt,ifc:()=>ue,ip1:()=>Zp,jDz:()=>ry,kL8:()=>j,kcU:()=>zr,lG2:()=>pa,lcZ:()=>hD,lqb:()=>$l,lri:()=>ik,mCW:()=>Dg,n5z:()=>Xu,n_E:()=>cy,oAB:()=>Hr,oxw:()=>yu,pB0:()=>xg,q3G:()=>Lr,q4F:()=>sl,qLn:()=>wp,qOj:()=>t_,qZA:()=>Mp,qzn:()=>uh,rWj:()=>Af,s9C:()=>lw,sBO:()=>ak,sIi:()=>af,s_b:()=>Xw,soG:()=>Qp,tBr:()=>ld,tb:()=>ox,tp0:()=>N,uIk:()=>_b,vHH:()=>Le,vpe:()=>ls,wAp:()=>ve,xp6:()=>P0,ynx:()=>pl,z2F:()=>Iu,z3N:()=>na,zSh:()=>fh,zs3:()=>xp});var a=K(7579),ie=K(727),q=K(9751),Ee=K(6451),he=K(3099);function _e(l){for(let c in l)if(l[c]===_e)return c;throw Error("Could not find renamed property on target object.")}function Ve(l,c){for(const h in c)c.hasOwnProperty(h)&&!l.hasOwnProperty(h)&&(l[h]=c[h])}function Me(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Me).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const h=c.indexOf("\n");return-1===h?c:c.substring(0,h)}function Fe(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const se=_e({__forward_ref__:_e});function oe(l){return l.__forward_ref__=oe,l.toString=function(){return Me(this())},l}function be(l){return ct(l)?l():l}function ct(l){return"function"==typeof l&&l.hasOwnProperty(se)&&l.__forward_ref__===oe}function Ke(l){return l&&!!l.\u0275providers}const Ct="https://g.co/ng/security#xss";class Le extends Error{constructor(c,h){super(function Ye(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,h)),this.code=c}}function qe(l){return"string"==typeof l?l:null==l?"":String(l)}function ht(l,c){throw new Le(-201,!1)}function wn(l,c){null==l&&function Xt(l,c,h,g){throw new Error(`ASSERTION ERROR: ${l}`+(null==g?"":` [Expected=> ${h} ${g} ${c} <=Actual]`))}(c,l,null,"!=")}function Jt(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Es(l){return{providers:l.providers||[],imports:l.imports||[]}}function Ir(l){return so(l,Vs)||so(l,di)}function Hi(l){return null!==Ir(l)}function so(l,c){return l.hasOwnProperty(c)?l[c]:null}function cr(l){return l&&(l.hasOwnProperty(oo)||l.hasOwnProperty(kr))?l[oo]:null}const Vs=_e({\u0275prov:_e}),oo=_e({\u0275inj:_e}),di=_e({ngInjectableDef:_e}),kr=_e({ngInjectorDef:_e});var At=(()=>((At=At||{})[At.Default=0]="Default",At[At.Host=1]="Host",At[At.Self=2]="Self",At[At.SkipSelf=4]="SkipSelf",At[At.Optional=8]="Optional",At))();let Ar;function qn(l){const c=Ar;return Ar=l,c}function tr(l,c,h){const g=Ir(l);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:h&At.Optional?null:void 0!==c?c:void ht(Me(l))}const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nr={},oi="__NG_DI_FLAG__",Us="ngTempTokenPath",ao=/\n/gm,lo="__source";let _n;function br(l){const c=_n;return _n=l,c}function vn(l,c=At.Default){if(void 0===_n)throw new Le(-203,!1);return null===_n?tr(l,void 0,c):_n.get(l,c&At.Optional?null:void 0,c)}function ot(l,c=At.Default){return(function ni(){return Ar}()||vn)(be(l),c)}function St(l,c=At.Default){return ot(l,rn(c))}function rn(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function en(l){const c=[];for(let h=0;h<l.length;h++){const g=be(l[h]);if(Array.isArray(g)){if(0===g.length)throw new Le(900,!1);let _,y=At.Default;for(let D=0;D<g.length;D++){const k=g[D],R=ae(k);"number"==typeof R?-1===R?_=k.token:y|=R:_=k}c.push(ot(_,y))}else c.push(ot(g))}return c}function dn(l,c){return l[oi]=c,l.prototype[oi]=c,l}function ae(l){return l[oi]}function ee(l){return{toString:l}.toString()}var z=(()=>((z=z||{})[z.OnPush=0]="OnPush",z[z.Default=1]="Default",z))(),ue=(()=>{return(l=ue||(ue={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",ue;var l})();const Nt={},ft=[],Zt=_e({\u0275cmp:_e}),mt=_e({\u0275dir:_e}),ii=_e({\u0275pipe:_e}),ir=_e({\u0275mod:_e}),dt=_e({\u0275fac:_e}),Mr=_e({__NG_ELEMENT_ID__:_e});let ac=0;function ua(l){return ee(()=>{const h=!0===l.standalone,g={},_={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===z.OnPush,directiveDefs:null,pipeDefs:null,standalone:h,dependencies:h&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||ft,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||ue.Emulated,id:"c"+ac++,styles:l.styles||ft,_:null,setInput:null,schemas:l.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},y=l.dependencies,D=l.features;return _.inputs=Yc(l.inputs,g),_.outputs=Yc(l.outputs),D&&D.forEach(k=>k(_)),_.directiveDefs=y?()=>("function"==typeof y?y():y).map(lc).filter(qi):null,_.pipeDefs=y?()=>("function"==typeof y?y():y).map(Jr).filter(qi):null,_})}function lc(l){return Yn(l)||Mi(l)}function qi(l){return null!==l}function Hr(l){return ee(()=>({type:l.type,bootstrap:l.bootstrap||ft,declarations:l.declarations||ft,imports:l.imports||ft,exports:l.exports||ft,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Yc(l,c){if(null==l)return Nt;const h={};for(const g in l)if(l.hasOwnProperty(g)){let _=l[g],y=_;Array.isArray(_)&&(y=_[1],_=_[0]),h[_]=g,c&&(c[_]=y)}return h}const pa=ua;function Go(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function Yn(l){return l[Zt]||null}function Mi(l){return l[mt]||null}function Jr(l){return l[ii]||null}function rr(l){const c=Yn(l)||Mi(l)||Jr(l);return null!==c&&c.standalone}function Rr(l,c){const h=l[ir]||null;if(!h&&!0===c)throw new Error(`Type ${Me(l)} does not have '\u0275mod' property.`);return h}function Ss(l){return Array.isArray(l)&&"object"==typeof l[1]}function mn(l){return Array.isArray(l)&&!0===l[1]}function pt(l){return 0!=(4&l.flags)}function Zc(l){return l.componentOffset>-1}function wr(l){return 1==(1&l.flags)}function sr(l){return null!==l.template}function kn(l){return 0!=(256&l[2])}function Tl(l,c){return l.hasOwnProperty(dt)?l[dt]:null}class Va{constructor(c,h,g){this.previousValue=c,this.currentValue=h,this.firstChange=g}isFirstChange(){return this.firstChange}}function we(){return te}function te(l){return l.type.prototype.ngOnChanges&&(l.setInput=Xc),Vd}function Vd(){const l=Ud(this),c=l?.current;if(c){const h=l.previous;if(h===Nt)l.previous=c;else for(let g in c)h[g]=c[g];l.current=null,this.ngOnChanges(c)}}function Xc(l,c,h,g){const _=this.declaredInputs[h],y=Ud(l)||function Ua(l,c){return l[Sl]=c}(l,{previous:Nt,current:null}),D=y.current||(y.current={}),k=y.previous,R=k[_];D[_]=new Va(R&&R.currentValue,c,k===Nt),l[g]=c}we.ngInherit=!0;const Sl="__ngSimpleChanges__";function Ud(l){return l[Sl]||null}function Ki(l){for(;Array.isArray(l);)l=l[0];return l}function Ha(l,c){return Ki(c[l])}function pr(l,c){return Ki(c[l.index])}function kl(l,c){return l.data[c]}function Po(l,c){return l[c]}function xr(l,c){const h=c[l];return Ss(h)?h:h[0]}function uc(l){return 64==(64&l[2])}function fo(l,c){return null==c?null:l[c]}function Hu(l){l[18]=0}function ja(l,c){l[5]+=c;let h=l,g=l[3];for(;null!==g&&(1===c&&1===h[5]||-1===c&&0===h[5]);)g[5]+=c,h=g,g=g[3]}const Ht={lFrame:td(null),bindingsEnabled:!0};function $s(){return Ht.bindingsEnabled}function Qe(){return Ht.lFrame.lView}function Vn(){return Ht.lFrame.tView}function bm(l){return Ht.lFrame.contextLView=l,l[8]}function Wh(l){return Ht.lFrame.contextLView=null,l}function Cr(){let l=$d();for(;null!==l&&64===l.type;)l=l.parent;return l}function $d(){return Ht.lFrame.currentTNode}function Zo(l,c){const h=Ht.lFrame;h.currentTNode=l,h.isParent=c}function va(){return Ht.lFrame.isParent}function pc(){Ht.lFrame.isParent=!1}function Pi(){const l=Ht.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function go(){return Ht.lFrame.bindingIndex++}function Ko(l){const c=Ht.lFrame,h=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,h}function Gu(l,c){const h=Ht.lFrame;h.bindingIndex=h.bindingRootIndex=l,Er(c)}function Er(l){Ht.lFrame.currentDirectiveIndex=l}function Is(l){const c=Ht.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function ba(){return Ht.lFrame.currentQueryIndex}function No(l){Ht.lFrame.currentQueryIndex=l}function Qo(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function mc(l,c,h){if(h&At.SkipSelf){let _=c,y=l;for(;!(_=_.parent,null!==_||h&At.Host||(_=Qo(y),null===_||(y=y[15],10&_.type))););if(null===_)return!1;c=_,l=y}const g=Ht.lFrame=$a();return g.currentTNode=c,g.lView=l,!0}function fc(l){const c=$a(),h=l[1];Ht.lFrame=c,c.currentTNode=h.firstChild,c.lView=l,c.tView=h,c.contextLView=l,c.bindingIndex=h.bindingStartIndex,c.inI18n=!1}function $a(){const l=Ht.lFrame,c=null===l?null:l.child;return null===c?td(l):c}function td(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function mv(){const l=Ht.lFrame;return Ht.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Zh=mv;function tg(){const l=mv();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function ks(){return Ht.lFrame.selectedIndex}function za(l){Ht.lFrame.selectedIndex=l}function pi(){const l=Ht.lFrame;return kl(l.tView,l.selectedIndex)}function nd(){Ht.lFrame.currentNamespace="svg"}function zr(){!function An(){Ht.lFrame.currentNamespace=null}()}function Ga(l,c){for(let h=c.directiveStart,g=c.directiveEnd;h<g;h++){const y=l.data[h].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:k,ngAfterViewInit:R,ngAfterViewChecked:L,ngOnDestroy:$}=y;D&&(l.contentHooks||(l.contentHooks=[])).push(-h,D),k&&((l.contentHooks||(l.contentHooks=[])).push(h,k),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(h,k)),R&&(l.viewHooks||(l.viewHooks=[])).push(-h,R),L&&((l.viewHooks||(l.viewHooks=[])).push(h,L),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(h,L)),null!=$&&(l.destroyHooks||(l.destroyHooks=[])).push(h,$)}}function zs(l,c,h){gc(l,c,3,h)}function qa(l,c,h,g){(3&l[2])===h&&gc(l,c,h,g)}function ya(l,c){let h=l[2];(3&h)===c&&(h&=2047,h+=1,l[2]=h)}function gc(l,c,h,g){const y=g??-1,D=c.length-1;let k=0;for(let R=void 0!==g?65535&l[18]:0;R<D;R++)if("number"==typeof c[R+1]){if(k=c[R],null!=g&&k>=g)break}else c[R]<0&&(l[18]+=65536),(k<y||-1==y)&&(_c(l,h,c,R),l[18]=(4294901760&l[18])+R+2),R++}function _c(l,c,h,g){const _=h[g]<0,y=h[g+1],k=l[_?-h[g]:h[g]];if(_){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{y.call(k)}finally{}}}else try{y.call(k)}finally{}}class zd{constructor(c,h,g){this.factory=c,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=g}}function Ml(l,c,h){let g=0;for(;g<h.length;){const _=h[g];if("number"==typeof _){if(0!==_)break;g++;const y=h[g++],D=h[g++],k=h[g++];l.setAttribute(c,D,k,y)}else{const y=_,D=h[++g];qd(y)?l.setProperty(c,y,D):l.setAttribute(c,y,D),g++}}return g}function Wa(l){return 3===l||4===l||6===l}function qd(l){return 64===l.charCodeAt(0)}function Fo(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let h=-1;for(let g=0;g<c.length;g++){const _=c[g];"number"==typeof _?h=_:0===h||Yu(l,h,_,null,-1===h||2===h?c[++g]:null)}}return l}function Yu(l,c,h,g,_){let y=0,D=l.length;if(-1===c)D=-1;else for(;y<l.length;){const k=l[y++];if("number"==typeof k){if(k===c){D=-1;break}if(k>c){D=y-1;break}}}for(;y<l.length;){const k=l[y];if("number"==typeof k)break;if(k===h){if(null===g)return void(null!==_&&(l[y+1]=_));if(g===l[y+1])return void(l[y+2]=_)}y++,null!==g&&y++,null!==_&&y++}-1!==D&&(l.splice(D,0,c),y=D+1),l.splice(y++,0,h),null!==g&&l.splice(y++,0,g),null!==_&&l.splice(y++,0,_)}function yc(l){return-1!==l}function Ya(l){return 32767&l}function xa(l,c){let h=function Zu(l){return l>>16}(l),g=c;for(;h>0;)g=g[15],h--;return g}let Za=!0;function Xo(l){const c=Za;return Za=l,c}let wc=0;const ns={};function _o(l,c){const h=Yd(l,c);if(-1!==h)return h;const g=c[1];g.firstCreatePass&&(l.injectorIndex=c.length,Pl(g.data,l),Pl(c,null),Pl(g.blueprint,null));const _=Zd(l,c),y=l.injectorIndex;if(yc(_)){const D=Ya(_),k=xa(_,c),R=k[1].data;for(let L=0;L<8;L++)c[y+L]=k[D+L]|R[D+L]}return c[y+8]=_,y}function Pl(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Yd(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Zd(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let h=0,g=null,_=c;for(;null!==_;){if(g=gr(_),null===g)return-1;if(h++,_=_[15],-1!==g.injectorIndex)return g.injectorIndex|h<<16}return-1}function Kd(l,c,h){!function Ku(l,c,h){let g;"string"==typeof h?g=h.charCodeAt(0)||0:h.hasOwnProperty(Mr)&&(g=h[Mr]),null==g&&(g=h[Mr]=wc++);const _=255&g;c.data[l+(_>>5)]|=1<<_}(l,c,h)}function Qa(l,c,h){if(h&At.Optional||void 0!==l)return l;ht()}function Qu(l,c,h,g){if(h&At.Optional&&void 0===g&&(g=null),0==(h&(At.Self|At.Host))){const _=l[9],y=qn(void 0);try{return _?_.get(c,g,h&At.Optional):tr(c,g,h&At.Optional)}finally{qn(y)}}return Qa(g,0,h)}function xm(l,c,h,g=At.Default,_){if(null!==l){if(1024&c[2]){const D=function _v(l,c,h,g,_){let y=l,D=c;for(;null!==y&&null!==D&&1024&D[2]&&!(256&D[2]);){const k=Gs(y,D,h,g|At.Self,ns);if(k!==ns)return k;let R=y.parent;if(!R){const L=D[21];if(L){const $=L.get(h,ns,g);if($!==ns)return $}R=gr(D),D=D[15]}y=R}return _}(l,c,h,g,ns);if(D!==ns)return D}const y=Gs(l,c,h,g,ns);if(y!==ns)return y}return Qu(c,h,g,_)}function Gs(l,c,h,g,_){const y=function Xa(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(Mr)?l[Mr]:void 0;return"number"==typeof c?c>=0?255&c:Qd:c}(h);if("function"==typeof y){if(!mc(c,l,g))return g&At.Host?Qa(_,0,g):Qu(c,h,g,_);try{const D=y(g);if(null!=D||g&At.Optional)return D;ht()}finally{Zh()}}else if("number"==typeof y){let D=null,k=Yd(l,c),R=-1,L=g&At.Host?c[16][6]:null;for((-1===k||g&At.SkipSelf)&&(R=-1===k?Zd(l,c):c[k+8],-1!==R&&Gr(g,!1)?(D=c[1],k=Ya(R),c=xa(R,c)):k=-1);-1!==k;){const $=c[1];if(rd(y,k,$.data)){const Q=Qh(k,c,h,D,g,L);if(Q!==ns)return Q}R=c[k+8],-1!==R&&Gr(g,c[1].data[k+8]===L)&&rd(y,k,c)?(D=$,k=Ya(R),c=xa(R,c)):k=-1}}return _}function Qh(l,c,h,g,_,y){const D=c[1],k=D.data[l+8],$=xc(k,D,h,null==g?Zc(k)&&Za:g!=D&&0!=(3&k.type),_&At.Host&&y===k);return null!==$?Lo(c,D,$,k):ns}function xc(l,c,h,g,_){const y=l.providerIndexes,D=c.data,k=1048575&y,R=l.directiveStart,$=y>>20,de=_?k+$:l.directiveEnd;for(let Se=g?k:k+$;Se<de;Se++){const $e=D[Se];if(Se<R&&h===$e||Se>=R&&$e.type===h)return Se}if(_){const Se=D[R];if(Se&&sr(Se)&&Se.type===h)return R}return null}function Lo(l,c,h,g){let _=l[h];const y=c.data;if(function As(l){return l instanceof zd}(_)){const D=_;D.resolving&&function Ge(l,c){const h=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new Le(-200,`Circular dependency in DI detected for ${l}${h}`)}(function Oe(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():qe(l)}(y[h]));const k=Xo(D.canSeeViewProviders);D.resolving=!0;const R=D.injectImpl?qn(D.injectImpl):null;mc(l,g,At.Default);try{_=l[h]=D.factory(void 0,y,l,g),c.firstCreatePass&&h>=g.directiveStart&&function Nn(l,c,h){const{ngOnChanges:g,ngOnInit:_,ngDoCheck:y}=c.type.prototype;if(g){const D=te(c);(h.preOrderHooks||(h.preOrderHooks=[])).push(l,D),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(l,D)}_&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-l,_),y&&((h.preOrderHooks||(h.preOrderHooks=[])).push(l,y),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(l,y))}(h,y[h],c)}finally{null!==R&&qn(R),Xo(k),D.resolving=!1,Zh()}}return _}function rd(l,c,h){return!!(h[c+(l>>5)]&1<<l)}function Gr(l,c){return!(l&At.Self||l&At.Host&&c)}class fr{constructor(c,h){this._tNode=c,this._lView=h}get(c,h,g){return xm(this._tNode,this._lView,c,rn(g),h)}}function Qd(){return new fr(Cr(),Qe())}function Xu(l){return ee(()=>{const c=l.prototype.constructor,h=c[dt]||Ja(c),g=Object.prototype;let _=Object.getPrototypeOf(l.prototype).constructor;for(;_&&_!==g;){const y=_[dt]||Ja(_);if(y&&y!==h)return y;_=Object.getPrototypeOf(_)}return y=>new y})}function Ja(l){return ct(l)?()=>{const c=Ja(be(l));return c&&c()}:Tl(l)}function gr(l){const c=l[1],h=c.type;return 2===h?c.declTNode:1===h?l[6]:null}function Xh(l){return function Ms(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const h=l.attrs;if(h){const g=h.length;let _=0;for(;_<g;){const y=h[_];if(Wa(y))break;if(0===y)_+=2;else if("number"==typeof y)for(_++;_<g&&"string"==typeof h[_];)_++;else{if(y===c)return h[_+1];_+=2}}}return null}(Cr(),l)}const Ca="__parameters__";function sd(l,c,h){return ee(()=>{const g=function ep(l){return function(...h){if(l){const g=l(...h);for(const _ in g)this[_]=g[_]}}}(c);function _(...y){if(this instanceof _)return g.apply(this,y),this;const D=new _(...y);return k.annotation=D,k;function k(R,L,$){const Q=R.hasOwnProperty(Ca)?R[Ca]:Object.defineProperty(R,Ca,{value:[]})[Ca];for(;Q.length<=$;)Q.push(null);return(Q[$]=Q[$]||[]).push(D),R}}return h&&(_.prototype=Object.create(h.prototype)),_.prototype.ngMetadataName=l,_.annotationCls=_,_})}class Zn{constructor(c,h){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Jt({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qs(l,c){l.forEach(h=>Array.isArray(h)?qs(h,c):c(h))}function Ec(l,c,h){c>=l.length?l.push(h):l.splice(c,0,h)}function Ea(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function tl(l,c){const h=[];for(let g=0;g<l;g++)h.push(c);return h}function ji(l,c,h){let g=ai(l,c);return g>=0?l[1|g]=h:(g=~g,function Xd(l,c,h,g){let _=l.length;if(_==c)l.push(h,g);else if(1===_)l.push(g,l[0]),l[0]=h;else{for(_--,l.push(l[_-1],l[_]);_>c;)l[_]=l[_-2],_--;l[c]=h,l[c+1]=g}}(l,g,c,h)),g}function Pn(l,c){const h=ai(l,c);if(h>=0)return l[1|h]}function ai(l,c){return function gt(l,c,h){let g=0,_=l.length>>h;for(;_!==g;){const y=g+(_-g>>1),D=l[y<<h];if(c===D)return y<<h;D>c?_=y:g=y+1}return~(_<<h)}(l,c,1)}const ld=dn(sd("Inject",l=>({token:l})),-1),Ta=dn(sd("Optional"),8),N=dn(sd("SkipSelf"),4);var yn=(()=>((yn=yn||{})[yn.Important=1]="Important",yn[yn.DashCase=2]="DashCase",yn))();const Sm=new Map;let Vo=0;const ap="__ngContext__";function is(l,c){Ss(c)?(l[ap]=c[20],function km(l){Sm.set(l[20],l)}(c)):l[ap]=c}function We(l,c){return undefined(l,c)}function Ut(l){const c=l[3];return mn(c)?c[3]:c}function Os(l){return Sc(l[13])}function zi(l){return Sc(l[4])}function Sc(l){for(;null!==l&&!mn(l);)l=l[4];return l}function Sa(l,c,h,g,_){if(null!=g){let y,D=!1;mn(g)?y=g:Ss(g)&&(D=!0,g=g[0]);const k=Ki(g);0===l&&null!==h?null==_?cg(c,h,k):iu(c,h,k,_||null,!0):1===l&&null!==h?iu(c,h,k,_||null,!0):2===l?function wv(l,c,h){const g=kc(l,c);g&&function Mm(l,c,h,g){l.removeChild(c,h,g)}(l,g,c,h)}(c,k,D):3===l&&c.destroyNode(k),null!=y&&function Ac(l,c,h,g,_){const y=h[7];y!==Ki(h)&&Sa(c,l,g,y,_);for(let k=10;k<h.length;k++){const R=h[k];dp(R[1],R,l,c,g,y)}}(c,l,y,h,_)}}function ud(l,c,h){return l.createElement(c,h)}function ag(l,c){const h=l[9],g=h.indexOf(c),_=c[3];512&c[2]&&(c[2]&=-513,ja(_,-1)),h.splice(g,1)}function vv(l,c){if(l.length<=10)return;const h=10+c,g=l[h];if(g){const _=g[17];null!==_&&_!==l&&ag(_,g),c>0&&(l[h-1][4]=g[4]);const y=Ea(l,10+c);!function lp(l,c){dp(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(g[1],g);const D=y[19];null!==D&&D.detachView(y[1]),g[3]=null,g[4]=null,g[2]&=-65}return g}function lg(l,c){if(!(128&c[2])){const h=c[11];h.destroyNode&&dp(l,c,h,3,null,null),function ta(l){let c=l[13];if(!c)return cp(l[1],l);for(;c;){let h=null;if(Ss(c))h=c[13];else{const g=c[10];g&&(h=g)}if(!h){for(;c&&!c[4]&&c!==l;)Ss(c)&&cp(c[1],c),c=c[3];null===c&&(c=l),Ss(c)&&cp(c[1],c),h=c&&c[4]}c=h}}(c)}}function cp(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function rs(l,c){let h;if(null!=l&&null!=(h=l.destroyHooks))for(let g=0;g<h.length;g+=2){const _=c[h[g]];if(!(_ instanceof zd)){const y=h[g+1];if(Array.isArray(y))for(let D=0;D<y.length;D+=2){const k=_[y[D]],R=y[D+1];try{R.call(k)}finally{}}else try{y.call(_)}finally{}}}}(l,c),function bv(l,c){const h=l.cleanup,g=c[7];let _=-1;if(null!==h)for(let y=0;y<h.length-1;y+=2)if("string"==typeof h[y]){const D=h[y+3];D>=0?g[_=D]():g[_=-D].unsubscribe(),y+=2}else{const D=g[_=h[y+1]];h[y].call(D)}if(null!==g){for(let y=_+1;y<g.length;y++)(0,g[y])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const h=c[17];if(null!==h&&mn(c[3])){h!==c[3]&&ag(h,c);const g=c[19];null!==g&&g.detachView(l)}!function og(l){Sm.delete(l[20])}(c)}}function Am(l,c,h){return function IC(l,c,h){let g=c;for(;null!==g&&40&g.type;)g=(c=g).parent;if(null===g)return h[0];{const{componentOffset:_}=g;if(_>-1){const{encapsulation:y}=l.data[g.directiveStart+_];if(y===ue.None||y===ue.Emulated)return null}return pr(g,h)}}(l,c.parent,h)}function iu(l,c,h,g,_){l.insertBefore(c,h,g,_)}function cg(l,c,h){l.appendChild(c,h)}function l0(l,c,h,g,_){null!==g?iu(l,c,h,g,_):cg(l,c,h)}function kc(l,c){return l.parentNode(c)}function ug(l,c,h){return pd(l,c,h)}let fg,_g,pp,pd=function yv(l,c,h){return 40&l.type?pr(l,h):null};function Ln(l,c,h,g){const _=Am(l,g,c),y=c[11],k=ug(g.parent||c[6],g,c);if(null!=_)if(Array.isArray(h))for(let R=0;R<h.length;R++)l0(y,_,h[R],k,!1);else l0(y,_,h,k,!1)}function pg(l,c){if(null!==c){const h=c.type;if(3&h)return pr(c,l);if(4&h)return Yr(-1,l[c.index]);if(8&h){const g=c.child;if(null!==g)return pg(l,g);{const _=l[c.index];return mn(_)?Yr(-1,_):Ki(_)}}if(32&h)return We(c,l)()||Ki(l[c.index]);{const g=Rm(l,c);return null!==g?Array.isArray(g)?g[0]:pg(Ut(l[16]),g):pg(l,c.next)}}return null}function Rm(l,c){return null!==c?l[16][6].projection[c.projection]:null}function Yr(l,c){const h=10+l+1;if(h<c.length){const g=c[h],_=g[1].firstChild;if(null!==_)return pg(g,_)}return c[7]}function lh(l,c,h,g,_,y,D){for(;null!=h;){const k=g[h.index],R=h.type;if(D&&0===c&&(k&&is(Ki(k),g),h.flags|=2),32!=(32&h.flags))if(8&R)lh(l,c,h.child,g,_,y,!1),Sa(c,l,_,k,y);else if(32&R){const L=We(h,g);let $;for(;$=L();)Sa(c,l,_,$,y);Sa(c,l,_,k,y)}else 16&R?xv(l,c,g,h,_,y):Sa(c,l,_,k,y);h=D?h.projectionNext:h.next}}function dp(l,c,h,g,_,y){lh(h,g,l.firstChild,c,_,y,!1)}function xv(l,c,h,g,_,y){const D=h[16],R=D[6].projection[g.projection];if(Array.isArray(R))for(let L=0;L<R.length;L++)Sa(c,l,_,R[L],y);else lh(l,c,R,D[3],_,y,!0)}function up(l,c,h){""===h?l.removeAttribute(c,"class"):l.setAttribute(c,"class",h)}function hp(l,c,h){const{mergedAttrs:g,classes:_,styles:y}=h;null!==g&&Ml(l,c,g),null!==_&&up(l,c,_),null!==y&&function Mc(l,c,h){l.setAttribute(c,"style",h)}(l,c,y)}function ch(l){return function gg(){if(void 0===fg&&(fg=null,Ot.trustedTypes))try{fg=Ot.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return fg}()?.createHTML(l)||l}function vg(l){_g=l}function su(l){return function yg(){if(void 0===pp&&(pp=null,Ot.trustedTypes))try{pp=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return pp}()?.createScriptURL(l)||l}class dh{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}class PC extends dh{getTypeName(){return"HTML"}}class Cv extends dh{getTypeName(){return"Style"}}class Ev extends dh{getTypeName(){return"Script"}}class ou extends dh{getTypeName(){return"URL"}}class md extends dh{getTypeName(){return"ResourceURL"}}function na(l){return l instanceof dh?l.changingThisBreaksApplicationSecurity:l}function uh(l,c){const h=function h0(l){return l instanceof dh&&l.getTypeName()||null}(l);if(null!=h&&h!==c){if("ResourceURL"===h&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${h} (see ${Ct})`)}return h===c}function OC(l){return new PC(l)}function mp(l){return new Cv(l)}function wg(l){return new Ev(l)}function NC(l){return new ou(l)}function xg(l){return new md(l)}class Eg{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const h=(new window.DOMParser).parseFromString(ch(c),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(c):(h.removeChild(h.firstChild),h)}catch{return null}}}class Dv{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const g=this.inertDocument.createElement("body");h.appendChild(g)}}getInertBodyElement(c){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=ch(c),h;const g=this.inertDocument.createElement("body");return g.innerHTML=ch(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}stripCustomNsAttrs(c){const h=c.attributes;for(let _=h.length-1;0<_;_--){const D=h.item(_).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&c.removeAttribute(D)}let g=c.firstChild;for(;g;)g.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(g),g=g.nextSibling}}const Sv=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Dg(l){return(l=String(l)).match(Sv)?l:"unsafe:"+l}function Ho(l){const c={};for(const h of l.split(","))c[h]=!0;return c}function au(...l){const c={};for(const h of l)for(const g in h)h.hasOwnProperty(g)&&(c[g]=!0);return c}const p0=Ho("area,br,col,hr,img,wbr"),Tg=Ho("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Iv=Ho("rp,rt"),kv=au(p0,au(Tg,Ho("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),au(Iv,Ho("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),au(Iv,Tg)),hh=Ho("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mv=au(hh,Ho("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ho("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),BC=Ho("script,style,template");class fp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let h=c.firstChild,g=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?g=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,g&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let _=this.checkClobberedElement(h,h.nextSibling);if(_){h=_;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(c){const h=c.nodeName.toLowerCase();if(!kv.hasOwnProperty(h))return this.sanitizedSomething=!0,!BC.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const g=c.attributes;for(let _=0;_<g.length;_++){const y=g.item(_),D=y.name,k=D.toLowerCase();if(!Mv.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let R=y.value;hh[k]&&(R=Dg(R)),this.buf.push(" ",D,'="',f0(R),'"')}return this.buf.push(">"),!0}endElement(c){const h=c.nodeName.toLowerCase();kv.hasOwnProperty(h)&&!p0.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(c){this.buf.push(f0(c))}checkClobberedElement(c,h){if(h&&(c.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return h}}const Rv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VC=/([^\#-~ |!])/g;function f0(l){return l.replace(/&/g,"&amp;").replace(Rv,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(VC,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pv;function UC(l,c){let h=null;try{Pv=Pv||function Cg(l){const c=new Dv(l);return function Tv(){try{return!!(new window.DOMParser).parseFromString(ch(""),"text/html")}catch{return!1}}()?new Eg(c):c}(l);let g=c?String(c):"";h=Pv.getInertBodyElement(g);let _=5,y=g;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,g=y,y=h.innerHTML,h=Pv.getInertBodyElement(g)}while(g!==y);return ch((new fp).sanitizeChildren(Pm(h)||h))}finally{if(h){const g=Pm(h)||h;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function Pm(l){return"content"in l&&function HC(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Lr=(()=>((Lr=Lr||{})[Lr.NONE=0]="NONE",Lr[Lr.HTML=1]="HTML",Lr[Lr.STYLE=2]="STYLE",Lr[Lr.SCRIPT=3]="SCRIPT",Lr[Lr.URL=4]="URL",Lr[Lr.RESOURCE_URL=5]="RESOURCE_URL",Lr))();function jo(l){const c=Rc();return c?c.sanitize(Lr.URL,l)||"":uh(l,"URL")?na(l):Dg(qe(l))}function jl(l){const c=Rc();if(c)return su(c.sanitize(Lr.RESOURCE_URL,l)||"");if(uh(l,"ResourceURL"))return su(na(l));throw new Le(904,!1)}function ph(l,c,h){return function g0(l,c){return"src"===c&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===c&&("base"===l||"link"===l)?jl:jo}(c,h)(l)}function Rc(){const l=Qe();return l&&l[12]}const fd=new Zn("ENVIRONMENT_INITIALIZER"),Nv=new Zn("INJECTOR",-1),Ig=new Zn("INJECTOR_DEF_TYPES");class Om{get(c,h=nr){if(h===nr){const g=new Error(`NullInjectorError: No provider for ${Me(c)}!`);throw g.name="NullInjectorError",g}return h}}function mh(l){return{\u0275providers:l}}function zC(...l){return{\u0275providers:_0(0,l),\u0275fromNgModule:!0}}function _0(l,...c){const h=[],g=new Set;let _;return qs(c,y=>{const D=y;Fv(D,h,[],g)&&(_||(_=[]),_.push(D))}),void 0!==_&&v0(_,h),h}function v0(l,c){for(let h=0;h<l.length;h++){const{providers:_}=l[h];Lv(_,y=>{c.push(y)})}}function Fv(l,c,h,g){if(!(l=be(l)))return!1;let _=null,y=cr(l);const D=!y&&Yn(l);if(y||D){if(D&&!D.standalone)return!1;_=l}else{const R=l.ngModule;if(y=cr(R),!y)return!1;_=R}const k=g.has(_);if(D){if(k)return!1;if(g.add(_),D.dependencies){const R="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const L of R)Fv(L,c,h,g)}}else{if(!y)return!1;{if(null!=y.imports&&!k){let L;g.add(_);try{qs(y.imports,$=>{Fv($,c,h,g)&&(L||(L=[]),L.push($))})}finally{}void 0!==L&&v0(L,c)}if(!k){const L=Tl(_)||(()=>new _);c.push({provide:_,useFactory:L,deps:ft},{provide:Ig,useValue:_,multi:!0},{provide:fd,useValue:()=>ot(_),multi:!0})}const R=y.providers;null==R||k||Lv(R,$=>{c.push($)})}}return _!==l&&void 0!==l.providers}function Lv(l,c){for(let h of l)Ke(h)&&(h=h.\u0275providers),Array.isArray(h)?Lv(h,c):c(h)}const GC=_e({provide:String,useValue:_e});function ka(l){return null!==l&&"object"==typeof l&&GC in l}function rl(l){return"function"==typeof l}const fh=new Zn("Set Injector scope."),cu={},b0={};let _p;function du(){return void 0===_p&&(_p=new Om),_p}class $l{}class Un extends $l{constructor(c,h,g,_){super(),this.parent=h,this.source=g,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ag(c,D=>this.processProvider(D)),this.records.set(Nv,gh(void 0,this)),_.has("environment")&&this.records.set($l,gh(void 0,this));const y=this.records.get(fh);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Ig.multi,ft,At.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const h=br(this),g=qn(void 0);try{return c()}finally{br(h),qn(g)}}get(c,h=nr,g=At.Default){this.assertNotDestroyed(),g=rn(g);const _=br(this),y=qn(void 0);try{if(!(g&At.SkipSelf)){let k=this.records.get(c);if(void 0===k){const R=function Bm(l){return"function"==typeof l||"object"==typeof l&&l instanceof Zn}(c)&&Ir(c);k=R&&this.injectableDefInScope(R)?gh(y0(c),cu):null,this.records.set(c,k)}if(null!=k)return this.hydrate(c,k)}return(g&At.Self?du():this.parent).get(c,h=g&At.Optional&&h===nr?null:h)}catch(D){if("NullInjectorError"===D.name){if((D[Us]=D[Us]||[]).unshift(Me(c)),_)throw D;return function re(l,c,h,g){const _=l[Us];throw c[lo]&&_.unshift(c[lo]),l.message=function ce(l,c,h,g=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let _=Me(c);if(Array.isArray(c))_=c.map(Me).join(" -> ");else if("object"==typeof c){let y=[];for(let D in c)if(c.hasOwnProperty(D)){let k=c[D];y.push(D+":"+("string"==typeof k?JSON.stringify(k):Me(k)))}_=`{${y.join(", ")}}`}return`${h}${g?"("+g+")":""}[${_}]: ${l.replace(ao,"\n  ")}`}("\n"+l.message,_,h,g),l.ngTokenPath=_,l[Us]=null,l}(D,c,"R3InjectorError",this.source)}throw D}finally{qn(y),br(_)}}resolveInjectorInitializers(){const c=br(this),h=qn(void 0);try{const g=this.get(fd.multi,ft,At.Self);for(const _ of g)_()}finally{br(c),qn(h)}}toString(){const c=[],h=this.records;for(const g of h.keys())c.push(Me(g));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(c){let h=rl(c=be(c))?c:be(c&&c.provide);const g=function w0(l){return ka(l)?gh(void 0,l.useValue):gh(vp(l),cu)}(c);if(rl(c)||!0!==c.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=gh(void 0,cu,!0),_.factory=()=>en(_.multi),this.records.set(h,_)),h=c,_.multi.push(c)}this.records.set(h,g)}hydrate(c,h){return h.value===cu&&(h.value=b0,h.value=h.factory()),"object"==typeof h.value&&h.value&&function kg(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(c){if(!c.providedIn)return!1;const h=be(c.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function y0(l){const c=Ir(l),h=null!==c?c.factory:Tl(l);if(null!==h)return h;if(l instanceof Zn)throw new Le(204,!1);if(l instanceof Function)return function Lm(l){const c=l.length;if(c>0)throw tl(c,"?"),new Le(204,!1);const h=function da(l){const c=l&&(l[Vs]||l[di]);if(c){const h=function ko(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),c}return null}(l);return null!==h?()=>h.factory(l):()=>new l}(l);throw new Le(204,!1)}function vp(l,c,h){let g;if(rl(l)){const _=be(l);return Tl(_)||y0(_)}if(ka(l))g=()=>be(l.useValue);else if(function Nm(l){return!(!l||!l.useFactory)}(l))g=()=>l.useFactory(...en(l.deps||[]));else if(function lu(l){return!(!l||!l.useExisting)}(l))g=()=>ot(be(l.useExisting));else{const _=be(l&&(l.useClass||l.provide));if(!function Bv(l){return!!l.deps}(l))return Tl(_)||y0(_);g=()=>new _(...en(l.deps))}return g}function gh(l,c,h=!1){return{factory:l,value:c,multi:h?[]:void 0}}function Ag(l,c){for(const h of l)Array.isArray(h)?Ag(h,c):h&&Ke(h)?Ag(h.\u0275providers,c):c(h)}class qC{}class uu{}class Vm{resolveComponentFactory(c){throw function bp(l){const c=Error(`No component factory found for ${Me(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let hu=(()=>{class l{}return l.NULL=new Vm,l})();function x0(){return Pc(Cr(),Qe())}function Pc(l,c){return new yp(pr(l,c))}let yp=(()=>{class l{constructor(h){this.nativeElement=h}}return l.__NG_ELEMENT_ID__=x0,l})();function WC(l){return l instanceof yp?l.nativeElement:l}class Uv{}let YC=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Um(){const l=Qe(),h=xr(Cr().index,l);return(Ss(h)?h:l)[11]}(),l})(),Mg=(()=>{class l{}return l.\u0275prov=Jt({token:l,providedIn:"root",factory:()=>null}),l})();class Hm{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const sl=new Hm("15.0.4"),_h={};function Rg(l){return l.ngOriginalError}class wp{constructor(){this._console=console}handleError(c){const h=this._findOriginalError(c);this._console.error("ERROR",c),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(c){let h=c&&Rg(c);for(;h&&Rg(h);)h=Rg(h);return h||null}}function Gv(l){return l.ownerDocument.defaultView}function Oc(l){return l instanceof Function?l():l}function Og(l,c,h){let g=l.length;for(;;){const _=l.indexOf(c,h);if(-1===_)return _;if(0===_||l.charCodeAt(_-1)<=32){const y=c.length;if(_+y===g||l.charCodeAt(_+y)<=32)return _}h=_+1}}const T0="ng-template";function S0(l,c,h){let g=0;for(;g<l.length;){let _=l[g++];if(h&&"class"===_){if(_=l[g],-1!==Og(_.toLowerCase(),c,0))return!0}else if(1===_){for(;g<l.length&&"string"==typeof(_=l[g++]);)if(_.toLowerCase()===c)return!0;return!1}}return!1}function vh(l){return 4===l.type&&l.value!==T0}function qv(l,c,h){return c===(4!==l.type||h?l.value:T0)}function XC(l,c,h){let g=4;const _=l.attrs||[],y=function Wv(l){for(let c=0;c<l.length;c++)if(Wa(l[c]))return c;return l.length}(_);let D=!1;for(let k=0;k<c.length;k++){const R=c[k];if("number"!=typeof R){if(!D)if(4&g){if(g=2|1&g,""!==R&&!qv(l,R,h)||""===R&&1===c.length){if(Ma(g))return!1;D=!0}}else{const L=8&g?R:c[++k];if(8&g&&null!==l.attrs){if(!S0(l.attrs,L,h)){if(Ma(g))return!1;D=!0}continue}const Q=I0(8&g?"class":R,_,vh(l),h);if(-1===Q){if(Ma(g))return!1;D=!0;continue}if(""!==L){let de;de=Q>y?"":_[Q+1].toLowerCase();const Se=8&g?de:null;if(Se&&-1!==Og(Se,L,0)||2&g&&L!==de){if(Ma(g))return!1;D=!0}}}}else{if(!D&&!Ma(g)&&!Ma(R))return!1;if(D&&Ma(R))continue;D=!1,g=R|1&g}}return Ma(g)||D}function Ma(l){return 0==(1&l)}function I0(l,c,h,g){if(null===c)return-1;let _=0;if(g||!h){let y=!1;for(;_<c.length;){const D=c[_];if(D===l)return _;if(3===D||6===D)y=!0;else{if(1===D||2===D){let k=c[++_];for(;"string"==typeof k;)k=c[++_];continue}if(4===D)break;if(0===D){_+=4;continue}}_+=y?1:2}return-1}return function A0(l,c){let h=l.indexOf(4);if(h>-1)for(h++;h<l.length;){const g=l[h];if("number"==typeof g)return-1;if(g===c)return h;h++}return-1}(c,l)}function jm(l,c,h=!1){for(let g=0;g<c.length;g++)if(XC(l,c[g],h))return!0;return!1}function M0(l,c){e:for(let h=0;h<c.length;h++){const g=c[h];if(l.length===g.length){for(let _=0;_<l.length;_++)if(l[_]!==g[_])continue e;return!0}}return!1}function R0(l,c){return l?":not("+c.trim()+")":c}function JC(l){let c=l[0],h=1,g=2,_="",y=!1;for(;h<l.length;){let D=l[h];if("string"==typeof D)if(2&g){const k=l[++h];_+="["+D+(k.length>0?'="'+k+'"':"")+"]"}else 8&g?_+="."+D:4&g&&(_+=" "+D);else""!==_&&!Ma(D)&&(c+=R0(y,_),_=""),g=D,y=y||!Ma(g);h++}return""!==_&&(c+=R0(y,_)),c}const Tn={};function P0(l){O0(Vn(),Qe(),ks()+l,!1)}function O0(l,c,h,g){if(!g)if(3==(3&c[2])){const y=l.preOrderCheckHooks;null!==y&&zs(c,y,h)}else{const y=l.preOrderHooks;null!==y&&qa(c,y,0,h)}za(h)}function Zv(l,c=null,h=null,g){const _=nE(l,c,h,g);return _.resolveInjectorInitializers(),_}function nE(l,c=null,h=null,g,_=new Set){const y=[h||ft,zC(l)];return g=g||("object"==typeof l?void 0:Me(l)),new Un(y,c||du(),g||null,_)}let xp=(()=>{class l{static create(h,g){if(Array.isArray(h))return Zv({name:""},g,h,"");{const _=h.name??"";return Zv({name:_},h.parent,h.providers,_)}}}return l.THROW_IF_NOT_FOUND=nr,l.NULL=new Om,l.\u0275prov=Jt({token:l,providedIn:"any",factory:()=>ot(Nv)}),l.__NG_ELEMENT_ID__=-1,l})();function yh(l,c=At.Default){const h=Qe();return null===h?ot(l,c):xm(Cr(),h,be(l),c)}function G0(){throw new Error("invalid")}function Bg(l,c){const h=l.contentQueries;if(null!==h)for(let g=0;g<h.length;g+=2){const _=h[g],y=h[g+1];if(-1!==y){const D=l.data[y];No(_),D.contentQueries(2,c[y],y)}}}function Zr(l,c,h,g,_,y,D,k,R,L,$){const Q=c.blueprint.slice();return Q[0]=_,Q[2]=76|g,(null!==$||l&&1024&l[2])&&(Q[2]|=1024),Hu(Q),Q[3]=Q[15]=l,Q[8]=h,Q[10]=D||l&&l[10],Q[11]=k||l&&l[11],Q[12]=R||l&&l[12]||null,Q[9]=L||l&&l[9]||null,Q[6]=y,Q[20]=function Im(){return Vo++}(),Q[21]=$,Q[16]=2==c.type?l[16]:Q,Q}function xh(l,c,h,g,_){let y=l.data[c];if(null===y)y=function Vg(l,c,h,g,_){const y=$d(),D=va(),R=l.data[c]=function q0(l,c,h,g,_,y){return{type:h,index:g,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?y:y&&y.parent,h,c,g,_);return null===l.firstChild&&(l.firstChild=R),null!==y&&(D?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R)),R}(l,c,h,g,_),function wm(){return Ht.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=h,y.value=g,y.attrs=_;const D=function hc(){const l=Ht.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();y.injectorIndex=null===D?-1:D.injectorIndex}return Zo(y,!0),y}function Wm(l,c,h,g){if(0===h)return-1;const _=c.length;for(let y=0;y<h;y++)c.push(g),l.blueprint.push(g),l.data.push(null);return _}function eb(l,c,h){fc(c);try{const g=l.viewQuery;null!==g&&Xm(1,g,h);const _=l.template;null!==_&&Ym(l,c,_,1,h),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Bg(l,c),l.staticViewQueries&&Xm(2,l.viewQuery,h);const y=l.components;null!==y&&function wh(l,c){for(let h=0;h<c.length;h++)J0(l,c[h])}(c,y)}catch(g){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),g}finally{c[2]&=-5,tg()}}function Ug(l,c,h,g){const _=c[2];if(128!=(128&_)){fc(c);try{Hu(c),function ym(l){return Ht.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==h&&Ym(l,c,h,2,g);const D=3==(3&_);if(D){const L=l.preOrderCheckHooks;null!==L&&zs(c,L,null)}else{const L=l.preOrderHooks;null!==L&&qa(c,L,0,null),ya(c,0)}if(function Km(l){for(let c=Os(l);null!==c;c=zi(c)){if(!c[2])continue;const h=c[9];for(let g=0;g<h.length;g++){const _=h[g],y=_[3];0==(512&_[2])&&ja(y,1),_[2]|=512}}}(c),function cb(l){for(let c=Os(l);null!==c;c=zi(c))for(let h=10;h<c.length;h++){const g=c[h],_=g[1];uc(g)&&Ug(_,g,_.template,g[8])}}(c),null!==l.contentQueries&&Bg(l,c),D){const L=l.contentCheckHooks;null!==L&&zs(c,L)}else{const L=l.contentHooks;null!==L&&qa(c,L,1),ya(c,1)}!function ZS(l,c){const h=l.hostBindingOpCodes;if(null!==h)try{for(let g=0;g<h.length;g++){const _=h[g];if(_<0)za(~_);else{const y=_,D=h[++g],k=h[++g];Gu(D,y),k(2,c[y])}}}finally{za(-1)}}(l,c);const k=l.components;null!==k&&function Jv(l,c){for(let h=0;h<c.length;h++)db(l,c[h])}(c,k);const R=l.viewQuery;if(null!==R&&Xm(2,R,g),D){const L=l.viewCheckHooks;null!==L&&zs(c,L)}else{const L=l.viewHooks;null!==L&&qa(c,L,2),ya(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,ja(c[3],-1))}finally{tg()}}}function Ym(l,c,h,g,_){const y=ks(),D=2&g;try{za(-1),D&&c.length>22&&O0(l,c,22,!1),h(g,_)}finally{za(y)}}function tb(l,c,h){if(pt(c)){const _=c.directiveEnd;for(let y=c.directiveStart;y<_;y++){const D=l.data[y];D.contentQueries&&D.contentQueries(1,h[y],y)}}}function Nc(l,c,h){!$s()||(function Z0(l,c,h,g){const _=h.directiveStart,y=h.directiveEnd;Zc(h)&&function Wg(l,c,h){const g=pr(c,l),_=ss(h),y=l[10],D=Ch(l,Zr(l,_,null,h.onPush?32:16,g,c,y,y.createRenderer(g,h),null,null,null));l[c.index]=D}(c,h,l.data[_+h.componentOffset]),l.firstCreatePass||_o(h,c),is(g,c);const D=h.initialInputs;for(let k=_;k<y;k++){const R=l.data[k],L=Lo(c,l,k,h);is(L,c),null!==D&&X0(0,k-_,L,R,0,D),sr(R)&&(xr(h.index,c)[8]=Lo(c,l,k,h))}}(l,c,h,pr(h,c)),64==(64&h.flags)&&zg(l,c,h))}function ol(l,c,h=pr){const g=c.localNames;if(null!==g){let _=c.index+1;for(let y=0;y<g.length;y+=2){const D=g[y+1],k=-1===D?h(c,l):l[D];l[_++]=k}}}function ss(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=Gl(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function Gl(l,c,h,g,_,y,D,k,R,L){const $=22+g,Q=$+_,de=function cE(l,c){const h=[];for(let g=0;g<c;g++)h.push(g<l?null:Tn);return h}($,Q),Se="function"==typeof L?L():L;return de[1]={type:l,blueprint:de,template:h,queries:null,viewQuery:k,declTNode:c,data:de.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:R,consts:Se,incompleteFirstPass:!1}}function ib(l,c,h,g){const _=pE(c);null===h?_.push(g):(_.push(h),l.firstCreatePass&&mE(l).push(g,_.length-1))}function rb(l,c,h,g){for(let _ in l)if(l.hasOwnProperty(_)){h=null===h?{}:h;const y=l[_];null===g?sb(h,c,_,y):g.hasOwnProperty(_)&&sb(h,c,g[_],y)}return h}function sb(l,c,h,g){l.hasOwnProperty(h)?l[h].push(c,g):l[h]=[c,g]}function ia(l,c,h,g,_,y,D,k){const R=pr(c,h);let $,L=c.inputs;!k&&null!=L&&($=L[g])?(Kg(l,h,$,g,_),Zc(c)&&ob(h,c.index)):3&c.type&&(g=function Y0(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(g),_=null!=D?D(_,c.value||"",g):_,y.setProperty(R,g,_))}function ob(l,c){const h=xr(c,l);16&h[2]||(h[2]|=32)}function jg(l,c,h,g){let _=!1;if($s()){const y=null===g?null:{"":-1},D=function K0(l,c){const h=l.directiveRegistry;let g=null,_=null;if(h)for(let y=0;y<h.length;y++){const D=h[y];if(jm(c,D.selectors,!1))if(g||(g=[]),sr(D))if(null!==D.findHostDirectiveDefs){const k=[];_=_||new Map,D.findHostDirectiveDefs(D,k,_),g.unshift(...k,D),al(l,c,k.length)}else g.unshift(D),al(l,c,0);else _=_||new Map,D.findHostDirectiveDefs?.(D,g,_),g.push(D)}return null===g?null:[g,_]}(l,h);let k,R;null===D?k=R=null:[k,R]=D,null!==k&&(_=!0,ab(l,c,h,k,y,R)),y&&function lb(l,c,h){if(c){const g=l.localNames=[];for(let _=0;_<c.length;_+=2){const y=h[c[_+1]];if(null==y)throw new Le(-301,!1);g.push(c[_],y)}}}(h,g,y)}return h.mergedAttrs=Fo(h.mergedAttrs,h.attrs),_}function ab(l,c,h,g,_,y){for(let L=0;L<g.length;L++)Kd(_o(h,c),l,g[L].type);!function Gg(l,c,h){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+h,l.providerIndexes=c}(h,l.data.length,g.length);for(let L=0;L<g.length;L++){const $=g[L];$.providersResolver&&$.providersResolver($)}let D=!1,k=!1,R=Wm(l,c,g.length,null);for(let L=0;L<g.length;L++){const $=g[L];h.mergedAttrs=Fo(h.mergedAttrs,$.hostAttrs),qg(l,h,c,R,$),Q0(R,$,_),null!==$.contentQueries&&(h.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(h.flags|=64);const Q=$.type.prototype;!D&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(h.index),D=!0),!k&&(Q.ngOnChanges||Q.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(h.index),k=!0),R++}!function W0(l,c,h){const _=c.directiveEnd,y=l.data,D=c.attrs,k=[];let R=null,L=null;for(let $=c.directiveStart;$<_;$++){const Q=y[$],de=h?h.get(Q):null,$e=de?de.outputs:null;R=rb(Q.inputs,$,R,de?de.inputs:null),L=rb(Q.outputs,$,L,$e);const lt=null===R||null===D||vh(c)?null:Zs(R,$,D);k.push(lt)}null!==R&&(R.hasOwnProperty("class")&&(c.flags|=8),R.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=k,c.inputs=R,c.outputs=L}(l,h,y)}function zg(l,c,h){const g=h.directiveStart,_=h.directiveEnd,y=h.index,D=function Yh(){return Ht.lFrame.currentDirectiveIndex}();try{za(y);for(let k=g;k<_;k++){const R=l.data[k],L=c[k];Er(k),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Zm(R,L)}}finally{za(-1),Er(D)}}function Zm(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function al(l,c,h){c.componentOffset=h,(l.components||(l.components=[])).push(c.index)}function Q0(l,c,h){if(h){if(c.exportAs)for(let g=0;g<c.exportAs.length;g++)h[c.exportAs[g]]=l;sr(c)&&(h[""]=l)}}function qg(l,c,h,g,_){l.data[g]=_;const y=_.factory||(_.factory=Tl(_.type)),D=new zd(y,sr(_),yh);l.blueprint[g]=D,h[g]=D,function $g(l,c,h,g,_){const y=_.hostBindings;if(y){let D=l.hostBindingOpCodes;null===D&&(D=l.hostBindingOpCodes=[]);const k=~c.index;(function uE(l){let c=l.length;for(;c>0;){const h=l[--c];if("number"==typeof h&&h<0)return h}return 0})(D)!=k&&D.push(k),D.push(h,g,y)}}(l,c,g,Wm(l,h,_.hostVars,Tn),_)}function ql(l,c,h,g,_,y){const D=pr(l,c);!function Yg(l,c,h,g,_,y,D){if(null==y)l.removeAttribute(c,_,h);else{const k=null==D?qe(y):D(y,g||"",_);l.setAttribute(c,_,k,h)}}(c[11],D,y,l.value,h,g,_)}function X0(l,c,h,g,_,y){const D=y[c];if(null!==D){const k=g.setInput;for(let R=0;R<D.length;){const L=D[R++],$=D[R++],Q=D[R++];null!==k?g.setInput(h,Q,L,$):h[$]=Q}}}function Zs(l,c,h){let g=null,_=0;for(;_<h.length;){const y=h[_];if(0!==y)if(5!==y){if("number"==typeof y)break;if(l.hasOwnProperty(y)){null===g&&(g=[]);const D=l[y];for(let k=0;k<D.length;k+=2)if(D[k]===c){g.push(y,D[k+1],h[_+1]);break}}_+=2}else _+=2;else _+=4}return g}function ll(l,c,h,g){return[l,!0,!1,c,null,0,g,h,null,null]}function db(l,c){const h=xr(c,l);if(uc(h)){const g=h[1];48&h[2]?Ug(g,h,g.template,h[8]):h[5]>0&&Qm(h)}}function Qm(l){for(let g=Os(l);null!==g;g=zi(g))for(let _=10;_<g.length;_++){const y=g[_];if(uc(y))if(512&y[2]){const D=y[1];Ug(D,y,D.template,y[8])}else y[5]>0&&Qm(y)}const h=l[1].components;if(null!==h)for(let g=0;g<h.length;g++){const _=xr(h[g],l);uc(_)&&_[5]>0&&Qm(_)}}function J0(l,c){const h=xr(c,l),g=h[1];(function Zg(l,c){for(let h=c.length;h<l.blueprint.length;h++)c.push(l.blueprint[h])})(g,h),eb(g,h,h[8])}function Ch(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function ub(l){for(;l;){l[2]|=32;const c=Ut(l);if(kn(l)&&!c)return l;l=c}return null}function Ep(l,c,h,g=!0){const _=c[10];_.begin&&_.begin();try{Ug(l,c,l.template,h)}catch(D){throw g&&gE(c,D),D}finally{_.end&&_.end()}}function Xm(l,c,h){No(0),c(l,h)}function pE(l){return l[7]||(l[7]=[])}function mE(l){return l.cleanup||(l.cleanup=[])}function fE(l,c,h){return(null===l||sr(l))&&(h=function Il(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(h[c.index])),h[11]}function gE(l,c){const h=l[9],g=h?h.get(wp,null):null;g&&g.handleError(c)}function Kg(l,c,h,g,_){for(let y=0;y<h.length;){const D=h[y++],k=h[y++],R=c[D],L=l.data[D];null!==L.setInput?L.setInput(R,_,g,k):R[k]=_}}function cl(l,c,h){const g=Ha(c,l);!function Uo(l,c,h){l.setValue(c,h)}(l[11],g,h)}function Dp(l,c,h){let g=h?l.styles:null,_=h?l.classes:null,y=0;if(null!==c)for(let D=0;D<c.length;D++){const k=c[D];"number"==typeof k?y=k:1==y?_=Fe(_,k):2==y&&(g=Fe(g,k+": "+c[++D]+";"))}h?l.styles=g:l.stylesWithoutHost=g,h?l.classes=_:l.classesWithoutHost=_}function Qg(l,c,h,g,_=!1){for(;null!==h;){const y=c[h.index];if(null!==y&&g.push(Ki(y)),mn(y))for(let k=10;k<y.length;k++){const R=y[k],L=R[1].firstChild;null!==L&&Qg(R[1],R,L,g)}const D=h.type;if(8&D)Qg(l,c,h.child,g);else if(32&D){const k=We(h,c);let R;for(;R=k();)g.push(R)}else if(16&D){const k=Rm(c,h);if(Array.isArray(k))g.push(...k);else{const R=Ut(c[16]);Qg(R[1],R,k,g,!0)}}h=_?h.projectionNext:h.next}return g}class Jm{constructor(c,h){this._lView=c,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,h=c[1];return Qg(h,c,h.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(mn(c)){const h=c[8],g=h?h.indexOf(this):-1;g>-1&&(vv(c,g),Ea(h,g))}this._attachedToViewContainer=!1}lg(this._lView[1],this._lView)}onDestroy(c){ib(this._lView[1],this._lView,null,c)}markForCheck(){ub(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ep(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hl(l,c){dp(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=c}}class _E extends Jm{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Ep(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class ef extends hu{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const h=Yn(c);return new Fc(h,this.ngModule)}}function Tp(l){const c=[];for(let h in l)l.hasOwnProperty(h)&&c.push({propName:l[h],templateName:h});return c}class Eh{constructor(c,h){this.injector=c,this.parentInjector=h}get(c,h,g){g=rn(g);const _=this.injector.get(c,_h,g);return _!==_h||h===_h?_:this.parentInjector.get(c,h,g)}}class Fc extends uu{constructor(c,h){super(),this.componentDef=c,this.ngModule=h,this.componentType=c.type,this.selector=function eE(l){return l.map(JC).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return Tp(this.componentDef.inputs)}get outputs(){return Tp(this.componentDef.outputs)}create(c,h,g,_){let y=(_=_||this.ngModule)instanceof $l?_:_?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const D=y?new Eh(c,y):c,k=D.get(Uv,null);if(null===k)throw new Le(407,!1);const R=D.get(Mg,null),L=k.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",Q=g?function nb(l,c,h){return l.selectRootElement(c,h===ue.ShadowDom)}(L,g,this.componentDef.encapsulation):ud(L,$,function Xg(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}($)),de=this.componentDef.onPush?288:272,Se=Gl(0,null,null,1,0,null,null,null,null,null),$e=Zr(null,Se,null,de,null,null,k,L,R,D,null);let lt,Dt;fc($e);try{const $t=this.componentDef;let fn,rt=null;$t.findHostDirectiveDefs?(fn=[],rt=new Map,$t.findHostDirectiveDefs($t,fn,rt),fn.push($t)):fn=[$t];const Mn=function Jg(l,c){const h=l[1];return l[22]=c,xh(h,22,2,"#host",null)}($e,Q),Tr=function vE(l,c,h,g,_,y,D,k){const R=_[1];!function tf(l,c,h,g){for(const _ of l)c.mergedAttrs=Fo(c.mergedAttrs,_.hostAttrs);null!==c.mergedAttrs&&(Dp(c,c.mergedAttrs,!0),null!==h&&hp(g,h,c))}(g,l,c,D);const L=y.createRenderer(c,h),$=Zr(_,ss(h),null,h.onPush?32:16,_[l.index],l,y,L,k||null,null,null);return R.firstCreatePass&&al(R,l,g.length-1),Ch(_,$),_[l.index]=$}(Mn,Q,$t,fn,$e,k,L);Dt=kl(Se,22),Q&&function tw(l,c,h,g){if(g)Ml(l,h,["ng-version",sl.full]);else{const{attrs:_,classes:y}=function Ng(l){const c=[],h=[];let g=1,_=2;for(;g<l.length;){let y=l[g];if("string"==typeof y)2===_?""!==y&&c.push(y,l[++g]):8===_&&h.push(y);else{if(!Ma(_))break;_=y}g++}return{attrs:c,classes:h}}(c.selectors[0]);_&&Ml(l,h,_),y&&y.length>0&&up(l,h,y.join(" "))}}(L,$t,Q,g),void 0!==h&&function nw(l,c,h){const g=l.projection=[];for(let _=0;_<c.length;_++){const y=h[_];g.push(null!=y?Array.from(y):null)}}(Dt,this.ngContentSelectors,h),lt=function ew(l,c,h,g,_,y){const D=Cr(),k=_[1],R=pr(D,_);ab(k,_,D,h,null,g);for(let $=0;$<h.length;$++)is(Lo(_,k,D.directiveStart+$,D),_);zg(k,_,D),R&&is(R,_);const L=Lo(_,k,D.directiveStart+D.componentOffset,D);if(l[8]=_[8]=L,null!==y)for(const $ of y)$(L,c);return tb(k,D,l),L}(Tr,$t,fn,rt,$e,[pb]),eb(Se,$e,null)}finally{tg()}return new hb(this.componentType,lt,Pc(Dt,$e),$e,Dt)}}class hb extends qC{constructor(c,h,g,_,y){super(),this.location=g,this._rootLView=_,this._tNode=y,this.instance=h,this.hostView=this.changeDetectorRef=new _E(_),this.componentType=c}setInput(c,h){const g=this._tNode.inputs;let _;if(null!==g&&(_=g[c])){const y=this._rootLView;Kg(y[1],y,_,c,h),ob(y,this._tNode.index)}}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function pb(){const l=Cr();Ga(Qe()[1],l)}function t_(l){let c=function e_(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),h=!0;const g=[l];for(;c;){let _;if(sr(l))_=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Le(903,!1);_=c.\u0275dir}if(_){if(h){g.push(_);const D=l;D.inputs=mb(l.inputs),D.declaredInputs=mb(l.declaredInputs),D.outputs=mb(l.outputs);const k=_.hostBindings;k&&nf(l,k);const R=_.viewQuery,L=_.contentQueries;if(R&&Sp(l,R),L&&n_(l,L),Ve(l.inputs,_.inputs),Ve(l.declaredInputs,_.declaredInputs),Ve(l.outputs,_.outputs),sr(_)&&_.data.animation){const $=l.data;$.animation=($.animation||[]).concat(_.data.animation)}}const y=_.features;if(y)for(let D=0;D<y.length;D++){const k=y[D];k&&k.ngInherit&&k(l),k===t_&&(h=!1)}}c=Object.getPrototypeOf(c)}!function iw(l){let c=0,h=null;for(let g=l.length-1;g>=0;g--){const _=l[g];_.hostVars=c+=_.hostVars,_.hostAttrs=Fo(_.hostAttrs,h=Fo(h,_.hostAttrs))}}(g)}function mb(l){return l===Nt?{}:l===ft?[]:l}function Sp(l,c){const h=l.viewQuery;l.viewQuery=h?(g,_)=>{c(g,_),h(g,_)}:c}function n_(l,c){const h=l.contentQueries;l.contentQueries=h?(g,_,y)=>{c(g,_,y),h(g,_,y)}:c}function nf(l,c){const h=l.hostBindings;l.hostBindings=h?(g,_)=>{c(g,_),h(g,_)}:c}let Dh=null;function _u(){if(!Dh){const l=Ot.Symbol;if(l&&l.iterator)Dh=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<c.length;++h){const g=c[h];"entries"!==g&&"size"!==g&&Map.prototype[g]===Map.prototype.entries&&(Dh=g)}}}return Dh}function af(l){return!!gb(l)&&(Array.isArray(l)||!(l instanceof Map)&&_u()in l)}function gb(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function dl(l,c,h){return l[c]=h}function Ks(l,c,h){return!Object.is(l[c],h)&&(l[c]=h,!0)}function _b(l,c,h,g){const _=Qe();return Ks(_,go(),c)&&(Vn(),ql(pi(),_,l,c,h,g)),_b}function ul(l,c,h,g){return Ks(l,go(),h)?c+qe(h)+g:Tn}function hl(l,c,h,g,_,y){const k=function gd(l,c,h,g){const _=Ks(l,c,h);return Ks(l,c+1,g)||_}(l,function mr(){return Ht.lFrame.bindingIndex}(),h,_);return Ko(2),k?c+qe(h)+g+qe(_)+y:Tn}function ow(l,c,h,g,_,y,D,k){const R=Qe(),L=Vn(),$=l+22,Q=L.firstCreatePass?function TE(l,c,h,g,_,y,D,k,R){const L=c.consts,$=xh(c,l,4,D||null,fo(L,k));jg(c,h,$,fo(L,R)),Ga(c,$);const Q=$.tViews=Gl(2,$,g,_,y,c.directiveRegistry,c.pipeRegistry,null,c.schemas,L);return null!==c.queries&&(c.queries.template(c,$),Q.queries=c.queries.embeddedTView($)),$}($,L,R,c,h,g,_,y,D):L.data[$];Zo(Q,!1);const de=R[11].createComment("");Ln(L,R,de,Q),is(de,R),Ch(R,R[$]=ll(de,R,de,Q)),wr(Q)&&Nc(L,R,Q),null!=D&&ol(R,Q,k)}function Sh(l){return Po(function Al(){return Ht.lFrame.contextLView}(),22+l)}function wb(l,c,h){const g=Qe();return Ks(g,go(),c)&&ia(Vn(),pi(),g,l,c,g[11],h,!1),wb}function c_(l,c,h,g,_){const D=_?"class":"style";Kg(l,h,c.inputs[D],D,g)}function Ap(l,c,h,g){const _=Qe(),y=Vn(),D=22+l,k=_[11],R=_[D]=ud(k,c,function mi(){return Ht.lFrame.currentNamespace}()),L=y.firstCreatePass?function IE(l,c,h,g,_,y,D){const k=c.consts,L=xh(c,l,2,_,fo(k,y));return jg(c,h,L,fo(k,D)),null!==L.attrs&&Dp(L,L.attrs,!1),null!==L.mergedAttrs&&Dp(L,L.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,L),L}(D,y,_,0,c,h,g):y.data[D];return Zo(L,!0),hp(k,R,L),32!=(32&L.flags)&&Ln(y,_,R,L),0===function Yo(){return Ht.lFrame.elementDepthCount}()&&is(R,_),function ju(){Ht.lFrame.elementDepthCount++}(),wr(L)&&(Nc(y,_,L),tb(y,L,_)),null!==g&&ol(_,L),Ap}function Mp(){let l=Cr();va()?pc():(l=l.parent,Zo(l,!1));const c=l;!function js(){Ht.lFrame.elementDepthCount--}();const h=Vn();return h.firstCreatePass&&(Ga(h,l),pt(l)&&h.queries.elementEnd(l)),null!=c.classesWithoutHost&&function id(l){return 0!=(8&l.flags)}(c)&&c_(h,c,Qe(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function bc(l){return 0!=(16&l.flags)}(c)&&c_(h,c,Qe(),c.stylesWithoutHost,!1),Mp}function xb(l,c,h,g){return Ap(l,c,h,g),Mp(),xb}function pl(l,c,h){const g=Qe(),_=Vn(),y=l+22,D=_.firstCreatePass?function Cb(l,c,h,g,_){const y=c.consts,D=fo(y,g),k=xh(c,l,8,"ng-container",D);return null!==D&&Dp(k,D,!0),jg(c,h,k,fo(y,_)),null!==c.queries&&c.queries.elementStart(c,k),k}(y,_,g,c,h):_.data[y];Zo(D,!0);const k=g[y]=g[11].createComment("");return Ln(_,g,k,D),is(k,g),wr(D)&&(Nc(_,g,D),tb(_,D,g)),null!=h&&ol(g,D),pl}function vd(){let l=Cr();const c=Vn();return va()?pc():(l=l.parent,Zo(l,!1)),c.firstCreatePass&&(Ga(c,l),pt(l)&&c.queries.elementEnd(l)),vd}function Eb(l,c,h){return pl(l,c,h),vd(),Eb}function d_(){return Qe()}function Db(l){return!!l&&"function"==typeof l.then}function df(l){return!!l&&"function"==typeof l.subscribe}const Tb=df;function Sb(l,c,h,g){const _=Qe(),y=Vn(),D=Cr();return Ib(y,_,_[11],D,l,c,g),Sb}function u_(l,c){const h=Cr(),g=Qe(),_=Vn();return Ib(_,g,fE(Is(_.data),h,g),h,l,c),u_}function Ib(l,c,h,g,_,y,D){const k=wr(g),L=l.firstCreatePass&&mE(l),$=c[8],Q=pE(c);let de=!0;if(3&g.type||D){const lt=pr(g,c),Dt=D?D(lt):lt,$t=Q.length,fn=D?Mn=>D(Ki(Mn[g.index])):g.index;let rt=null;if(!D&&k&&(rt=function Rp(l,c,h,g){const _=l.cleanup;if(null!=_)for(let y=0;y<_.length-1;y+=2){const D=_[y];if(D===h&&_[y+1]===g){const k=c[7],R=_[y+2];return k.length>R?k[R]:null}"string"==typeof D&&(y+=2)}return null}(l,c,_,g.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=y,rt.__ngLastListenerFn__=y,de=!1;else{y=h_(g,c,$,y,!1);const Mn=h.listen(Dt,_,y);Q.push(y,Mn),L&&L.push(_,fn,$t,$t+1)}}else y=h_(g,c,$,y,!1);const Se=g.outputs;let $e;if(de&&null!==Se&&($e=Se[_])){const lt=$e.length;if(lt)for(let Dt=0;Dt<lt;Dt+=2){const Tr=c[$e[Dt]][$e[Dt+1]].subscribe(y),ys=Q.length;Q.push(y,Tr),L&&L.push(_,g.index,ys,-(ys+1))}}}function aw(l,c,h,g){try{return!1!==h(g)}catch(_){return gE(l,_),!1}}function h_(l,c,h,g,_){return function y(D){if(D===Function)return g;ub(l.componentOffset>-1?xr(l.index,c):c);let R=aw(c,0,g,D),L=y.__ngNextListenerFn__;for(;L;)R=aw(c,0,L,D)&&R,L=L.__ngNextListenerFn__;return _&&!1===R&&(D.preventDefault(),D.returnValue=!1),R}}function yu(l=1){return function fv(l){return(Ht.lFrame.contextLView=function Kh(l,c){for(;l>0;)c=c[15],l--;return c}(l,Ht.lFrame.contextLView))[8]}(l)}function kE(l,c){let h=null;const g=function k0(l){const c=l.attrs;if(null!=c){const h=c.indexOf(5);if(0==(1&h))return c[h+1]}return null}(l);for(let _=0;_<c.length;_++){const y=c[_];if("*"!==y){if(null===g?jm(l,y,!0):M0(g,y))return _}else h=_}return h}function kb(l){const c=Qe()[16][6];if(!c.projection){const g=c.projection=tl(l?l.length:1,null),_=g.slice();let y=c.child;for(;null!==y;){const D=l?kE(y,l):0;null!==D&&(_[D]?_[D].projectionNext=y:g[D]=y,_[D]=y),y=y.next}}}function Ab(l,c=0,h){const g=Qe(),_=Vn(),y=xh(_,22+l,16,null,h||null);null===y.projection&&(y.projection=c),pc(),32!=(32&y.flags)&&function mg(l,c,h){xv(c[11],0,c,h,Am(l,h,c),ug(h.parent||c[6],h,c))}(_,g,y)}function lw(l,c,h){return uf(l,"",c,"",h),lw}function uf(l,c,h,g,_){const y=Qe(),D=ul(y,c,h,g);return D!==Tn&&ia(Vn(),pi(),y,l,D,y[11],_,!1),uf}function p_(l,c){return l<<17|c<<2}function wu(l){return l>>17&32767}function yd(l){return 2|l}function wd(l){return(131068&l)>>2}function Nb(l,c){return-131069&l|c<<2}function f_(l){return 1|l}function ME(l,c,h,g,_){const y=l[h+1],D=null===c;let k=g?wu(y):wd(y),R=!1;for(;0!==k&&(!1===R||D);){const $=l[k+1];tI(l[k],c)&&(R=!0,l[k+1]=g?f_($):yd($)),k=g?wu($):wd($)}R&&(l[h+1]=g?yd(y):f_(y))}function tI(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&ai(l,c)>=0}const os={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Lb(l){return l.substring(os.key,os.keyEnd)}function RE(l,c){const h=os.textEnd;return h===c?-1:(c=os.keyEnd=function iI(l,c,h){for(;c<h&&l.charCodeAt(c)>32;)c++;return c}(l,os.key=c,h),xu(l,c,h))}function xu(l,c,h){for(;c<h&&l.charCodeAt(c)<=32;)c++;return c}function ml(l,c,h){return Li(l,c,h,!1),ml}function fl(l,c){return Li(l,c,null,!0),fl}function Op(l){!function Vc(l,c,h,g){const _=Vn(),y=Ko(2);_.firstUpdatePass&&Be(_,null,y,g);const D=Qe();if(h!==Tn&&Ks(D,y,h)){const k=_.data[ks()];if(Qs(k,g)&&!Bb(_,y)){let R=g?k.classesWithoutHost:k.stylesWithoutHost;null!==R&&(h=Fe(R,h||"")),c_(_,k,D,h,g)}else!function NE(l,c,h,g,_,y,D,k){_===Tn&&(_=ft);let R=0,L=0,$=0<_.length?_[0]:null,Q=0<y.length?y[0]:null;for(;null!==$||null!==Q;){const de=R<_.length?_[R+1]:void 0,Se=L<y.length?y[L+1]:void 0;let lt,$e=null;$===Q?(R+=2,L+=2,de!==Se&&($e=Q,lt=Se)):null===Q||null!==$&&$<Q?(R+=2,$e=$):(L+=2,$e=Q,lt=Se),null!==$e&&Hb(l,c,h,g,$e,lt,D,k),$=R<_.length?_[R]:null,Q=L<y.length?y[L]:null}}(_,k,D,D[11],D[y+1],D[y+1]=function pf(l,c,h){if(null==h||""===h)return ft;const g=[],_=na(h);if(Array.isArray(_))for(let y=0;y<_.length;y++)l(g,_[y],!0);else if("object"==typeof _)for(const y in _)_.hasOwnProperty(y)&&l(g,y,_[y]);else"string"==typeof _&&c(g,_);return g}(l,c,h),g,y)}}(ji,Bc,l,!0)}function Bc(l,c){for(let h=function fw(l){return function OE(l){os.key=0,os.keyEnd=0,os.value=0,os.valueEnd=0,os.textEnd=l.length}(l),RE(l,xu(l,0,os.textEnd))}(c);h>=0;h=RE(c,h))ji(l,Lb(c),!0)}function Li(l,c,h,g){const _=Qe(),y=Vn(),D=Ko(2);y.firstUpdatePass&&Be(y,l,D,g),c!==Tn&&Ks(_,D,c)&&Hb(y,y.data[ks()],_,_[11],l,_[D+1]=function FE(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Me(na(l)))),l}(c,h),g,D)}function Bb(l,c){return c>=l.expandoStartIndex}function Be(l,c,h,g){const _=l.data;if(null===_[h+1]){const y=_[ks()],D=Bb(l,h);Qs(y,g)&&null===c&&!D&&(c=!1),c=function Vb(l,c,h,g){const _=Is(l);let y=g?c.residualClasses:c.residualStyles;if(null===_)0===(g?c.classBindings:c.styleBindings)&&(h=Ed(h=Sn(null,l,c,h,g),c.attrs,g),y=null);else{const D=c.directiveStylingLast;if(-1===D||l[D]!==_)if(h=Sn(_,l,c,h,g),null===y){let R=function Cd(l,c,h){const g=h?c.classBindings:c.styleBindings;if(0!==wd(g))return l[wu(g)]}(l,c,g);void 0!==R&&Array.isArray(R)&&(R=Sn(null,l,c,R[1],g),R=Ed(R,c.attrs,g),function qt(l,c,h,g){l[wu(h?c.classBindings:c.styleBindings)]=g}(l,c,g,R))}else y=function Ub(l,c,h){let g;const _=c.directiveEnd;for(let y=1+c.directiveStylingLast;y<_;y++)g=Ed(g,l[y].hostAttrs,h);return Ed(g,c.attrs,h)}(l,c,g)}return void 0!==y&&(g?c.residualClasses=y:c.residualStyles=y),h}(_,y,c,g),function pw(l,c,h,g,_,y){let D=y?c.classBindings:c.styleBindings,k=wu(D),R=wd(D);l[g]=h;let $,L=!1;if(Array.isArray(h)){const Q=h;$=Q[1],(null===$||ai(Q,$)>0)&&(L=!0)}else $=h;if(_)if(0!==R){const de=wu(l[k+1]);l[g+1]=p_(de,k),0!==de&&(l[de+1]=Nb(l[de+1],g)),l[k+1]=function m_(l,c){return 131071&l|c<<17}(l[k+1],g)}else l[g+1]=p_(k,0),0!==k&&(l[k+1]=Nb(l[k+1],g)),k=g;else l[g+1]=p_(R,0),0===k?k=g:l[R+1]=Nb(l[R+1],g),R=g;L&&(l[g+1]=yd(l[g+1])),ME(l,$,g,!0),ME(l,$,g,!1),function eI(l,c,h,g,_){const y=_?l.residualClasses:l.residualStyles;null!=y&&"string"==typeof c&&ai(y,c)>=0&&(h[g+1]=f_(h[g+1]))}(c,$,l,g,y),D=p_(k,R),y?c.classBindings=D:c.styleBindings=D}(_,y,c,h,D,g)}}function Sn(l,c,h,g,_){let y=null;const D=h.directiveEnd;let k=h.directiveStylingLast;for(-1===k?k=h.directiveStart:k++;k<D&&(y=c[k],g=Ed(g,y.hostAttrs,_),y!==l);)k++;return null!==l&&(h.directiveStylingLast=k),g}function Ed(l,c,h){const g=h?1:2;let _=-1;if(null!==c)for(let y=0;y<c.length;y++){const D=c[y];"number"==typeof D?_=D:_===g&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),ji(l,D,!!h||c[++y]))}return void 0===l?null:l}function Hb(l,c,h,g,_,y,D,k){if(!(3&c.type))return;const R=l.data,L=R[k+1],$=function Fb(l){return 1==(1&l)}(L)?_w(R,c,h,_,wd(L),D):void 0;g_($)||(g_(y)||function Ob(l){return 2==(2&l)}(L)&&(y=_w(R,null,h,_,k,D)),function ru(l,c,h,g,_){if(c)_?l.addClass(h,g):l.removeClass(h,g);else{let y=-1===g.indexOf("-")?void 0:yn.DashCase;null==_?l.removeStyle(h,g,y):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),y|=yn.Important),l.setStyle(h,g,_,y))}}(g,D,Ha(ks(),h),_,y))}function _w(l,c,h,g,_,y){const D=null===c;let k;for(;_>0;){const R=l[_],L=Array.isArray(R),$=L?R[1]:R,Q=null===$;let de=h[_+1];de===Tn&&(de=Q?ft:void 0);let Se=Q?Pn(de,g):$===g?de:void 0;if(L&&!g_(Se)&&(Se=Pn(R,g)),g_(Se)&&(k=Se,D))return k;const $e=l[_+1];_=D?wu($e):wd($e)}if(null!==c){let R=y?c.residualClasses:c.residualStyles;null!=R&&(k=Pn(R,g))}return k}function g_(l){return void 0!==l}function Qs(l,c){return 0!=(l.flags&(c?8:16))}function mf(l,c=""){const h=Qe(),g=Vn(),_=l+22,y=g.firstCreatePass?xh(g,_,1,c,null):g.data[_],D=h[_]=function _r(l,c){return l.createText(c)}(h[11],c);Ln(g,h,D,y),Zo(y,!1)}function Fs(l){return Wl("",l,""),Fs}function Wl(l,c,h){const g=Qe(),_=ul(g,l,c,h);return _!==Tn&&cl(g,ks(),_),Wl}function vw(l,c,h,g,_){const y=Qe(),D=hl(y,l,c,h,g,_);return D!==Tn&&cl(y,ks(),D),vw}function f(l,c,h){const g=Qe();return Ks(g,go(),c)&&ia(Vn(),pi(),g,l,c,g[11],h,!0),f}function s(l,c,h){const g=Qe();if(Ks(g,go(),c)){const y=Vn(),D=pi();ia(y,D,g,l,c,fE(Is(y.data),D,g),h,!0)}return s}const u=void 0;var b=["en",[["a","p"],["AM","PM"],u],[["AM","PM"],u,u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u,"{1} 'at' {0}",u],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p(l){const h=Math.floor(Math.abs(l)),g=l.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===g?1:5}];let C={};function F(l){const c=function Je(l){return l.toLowerCase().replace(/_/g,"-")}(l);let h=X(c);if(h)return h;const g=c.split("-")[0];if(h=X(g),h)return h;if("en"===g)return b;throw new Le(701,!1)}function j(l){return F(l)[ve.PluralCase]}function X(l){return l in C||(C[l]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[l]),C[l]}var ve=(()=>((ve=ve||{})[ve.LocaleId=0]="LocaleId",ve[ve.DayPeriodsFormat=1]="DayPeriodsFormat",ve[ve.DayPeriodsStandalone=2]="DayPeriodsStandalone",ve[ve.DaysFormat=3]="DaysFormat",ve[ve.DaysStandalone=4]="DaysStandalone",ve[ve.MonthsFormat=5]="MonthsFormat",ve[ve.MonthsStandalone=6]="MonthsStandalone",ve[ve.Eras=7]="Eras",ve[ve.FirstDayOfWeek=8]="FirstDayOfWeek",ve[ve.WeekendRange=9]="WeekendRange",ve[ve.DateFormat=10]="DateFormat",ve[ve.TimeFormat=11]="TimeFormat",ve[ve.DateTimeFormat=12]="DateTimeFormat",ve[ve.NumberSymbols=13]="NumberSymbols",ve[ve.NumberFormats=14]="NumberFormats",ve[ve.CurrencyCode=15]="CurrencyCode",ve[ve.CurrencySymbol=16]="CurrencySymbol",ve[ve.CurrencyName=17]="CurrencyName",ve[ve.Currencies=18]="Currencies",ve[ve.Directionality=19]="Directionality",ve[ve.PluralCase=20]="PluralCase",ve[ve.ExtraData=21]="ExtraData",ve))();const yt="en-US";let Pa=yt;function Hw(l,c,h,g,_){if(l=be(l),Array.isArray(l))for(let y=0;y<l.length;y++)Hw(l[y],c,h,g,_);else{const y=Vn(),D=Qe();let k=rl(l)?l:be(l.provide),R=vp(l);const L=Cr(),$=1048575&L.providerIndexes,Q=L.directiveStart,de=L.providerIndexes>>20;if(rl(l)||!l.multi){const Se=new zd(R,_,yh),$e=zp(k,c,_?$:$+de,Q);-1===$e?(Kd(_o(L,D),y,k),jw(y,l,c.length),c.push(k),L.directiveStart++,L.directiveEnd++,_&&(L.providerIndexes+=1048576),h.push(Se),D.push(Se)):(h[$e]=Se,D[$e]=Se)}else{const Se=zp(k,c,$+de,Q),$e=zp(k,c,$,$+de),lt=Se>=0&&h[Se],Dt=$e>=0&&h[$e];if(_&&!Dt||!_&&!lt){Kd(_o(L,D),y,k);const $t=function v1(l,c,h,g,_){const y=new zd(l,h,yh);return y.multi=[],y.index=c,y.componentProviders=0,JE(y,_,g&&!h),y}(_?_1:g1,h.length,_,g,R);!_&&Dt&&(h[$e].providerFactory=$t),jw(y,l,c.length,0),c.push(k),L.directiveStart++,L.directiveEnd++,_&&(L.providerIndexes+=1048576),h.push($t),D.push($t)}else jw(y,l,Se>-1?Se:$e,JE(h[_?$e:Se],R,!_&&g));!_&&g&&Dt&&h[$e].componentProviders++}}}function jw(l,c,h,g){const _=rl(c),y=function Fm(l){return!!l.useClass}(c);if(_||y){const R=(y?be(c.useClass):c).prototype.ngOnDestroy;if(R){const L=l.destroyHooks||(l.destroyHooks=[]);if(!_&&c.multi){const $=L.indexOf(h);-1===$?L.push(h,[g,R]):L[$+1].push(g,R)}else L.push(h,R)}}}function JE(l,c,h){return h&&l.componentProviders++,l.multi.push(c)-1}function zp(l,c,h,g){for(let _=h;_<g;_++)if(c[_]===l)return _;return-1}function g1(l,c,h,g){return $w(this.multi,[])}function _1(l,c,h,g){const _=this.multi;let y;if(this.providerFactory){const D=this.providerFactory.componentProviders,k=Lo(h,h[1],this.providerFactory.index,g);y=k.slice(0,D),$w(_,y);for(let R=D;R<k.length;R++)y.push(k[R])}else y=[],$w(_,y);return y}function $w(l,c){for(let h=0;h<l.length;h++)c.push((0,l[h])());return c}function eD(l,c=[]){return h=>{h.providersResolver=(g,_)=>function $p(l,c,h){const g=Vn();if(g.firstCreatePass){const _=sr(l);Hw(h,g.data,g.blueprint,_,!0),Hw(c,g.data,g.blueprint,_,!1)}}(g,_?_(l):l,c)}}class yf{}class zw{}function tD(l,c){return new nD(l,c??null)}class nD extends yf{constructor(c,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ef(this);const g=Rr(c);this._bootstrapComponents=Oc(g.bootstrap),this._r3Injector=nE(c,h,[{provide:yf,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],Me(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class iy extends zw{constructor(c){super(),this.moduleType=c}create(c){return new nD(this.moduleType,c)}}class y1 extends yf{constructor(c,h,g){super(),this.componentFactoryResolver=new ef(this),this.instance=null;const _=new Un([...c,{provide:yf,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],h||du(),g,new Set(["environment"]));this.injector=_,_.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function iD(l,c,h=null){return new y1(l,c,h).injector}let w1=(()=>{class l{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h.id)){const g=_0(0,h.type),_=g.length>0?iD([g],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h.id,_)}return this.cachedInjectors.get(h.id)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=Jt({token:l,providedIn:"environment",factory:()=>new l(ot($l))}),l})();function ry(l){l.getStandaloneInjector=c=>c.get(w1).getOrCreateStandaloneInjector(l)}function Eu(l,c,h){const g=Pi()+l,_=Qe();return _[g]===Tn?dl(_,g,h?c.call(h):c()):function Ip(l,c){return l[c]}(_,g)}function sD(l,c,h,g){return lD(Qe(),Pi(),l,c,h,g)}function lD(l,c,h,g,_,y){const D=c+h;return Ks(l,D,_)?dl(l,D+1,y?g.call(y,_):g(_)):function ly(l,c){const h=l[c];return h===Tn?void 0:h}(l,D+1)}function Kw(l,c){const h=Vn();let g;const _=l+22;h.firstCreatePass?(g=function TI(l,c){if(c)for(let h=c.length-1;h>=0;h--){const g=c[h];if(l===g.name)return g}}(c,h.pipeRegistry),h.data[_]=g,g.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(_,g.onDestroy)):g=h.data[_];const y=g.factory||(g.factory=Tl(g.type)),D=qn(yh);try{const k=Xo(!1),R=y();return Xo(k),function SE(l,c,h,g){h>=l.data.length&&(l.data[h]=null,l.blueprint[h]=null),c[h]=g}(h,Qe(),_,R),R}finally{qn(D)}}function hD(l,c,h){const g=l+22,_=Qe(),y=Po(_,g);return function I_(l,c){return l[1].data[c].pure}(_,g)?lD(_,Pi(),c,y.transform,h,y):y.transform(h)}function k_(l){return c=>{setTimeout(l,void 0,c)}}const ls=class AI extends a.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,h,g){let _=c,y=h||(()=>null),D=g;if(c&&"object"==typeof c){const R=c;_=R.next?.bind(R),y=R.error?.bind(R),D=R.complete?.bind(R)}this.__isAsync&&(y=k_(y),_&&(_=k_(_)),D&&(D=k_(D)));const k=super.subscribe({next:_,error:y,complete:D});return c instanceof ie.w0&&c.add(k),k}};function MI(){return this._results[_u()]()}class cy{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=_u(),g=cy.prototype;g[h]||(g[h]=MI)}get changes(){return this._changes||(this._changes=new ls)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,h){return this._results.reduce(c,h)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,h){const g=this;g.dirty=!1;const _=function Pr(l){return l.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function np(l,c,h){if(l.length!==c.length)return!1;for(let g=0;g<l.length;g++){let _=l[g],y=c[g];if(h&&(_=h(_),y=h(y)),y!==_)return!1}return!0}(g._results,_,h))&&(g._results=_,g.length=_.length,g.last=_[this.length-1],g.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Du=(()=>{class l{}return l.__NG_ELEMENT_ID__=pD,l})();const E1=Du,D1=class extends E1{constructor(c,h,g){super(),this._declarationLView=c,this._declarationTContainer=h,this.elementRef=g}createEmbeddedView(c,h){const g=this._declarationTContainer.tViews,_=Zr(this._declarationLView,g,c,16,null,g.declTNode,null,null,null,null,h||null);_[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(_[19]=D.createEmbeddedView(g)),eb(g,_,c),new Jm(_)}};function pD(){return Qw(Cr(),Qe())}function Qw(l,c){return 4&l.type?new D1(c,l,Pc(l,c)):null}let Xw=(()=>{class l{}return l.__NG_ELEMENT_ID__=RI,l})();function RI(){return Js(Cr(),Qe())}const T1=Xw,dy=class extends T1{constructor(c,h,g){super(),this._lContainer=c,this._hostTNode=h,this._hostLView=g}get element(){return Pc(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){const c=Zd(this._hostTNode,this._hostLView);if(yc(c)){const h=xa(c,this._hostLView),g=Ya(c);return new fr(h[1].data[g+8],h)}return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const h=PI(this._lContainer);return null!==h&&h[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,h,g){let _,y;"number"==typeof g?_=g:null!=g&&(_=g.index,y=g.injector);const D=c.createEmbeddedView(h||{},y);return this.insert(D,_),D}createComponent(c,h,g,_,y){const D=c&&!function Cc(l){return"function"==typeof l}(c);let k;if(D)k=h;else{const Q=h||{};k=Q.index,g=Q.injector,_=Q.projectableNodes,y=Q.environmentInjector||Q.ngModuleRef}const R=D?c:new Fc(Yn(c)),L=g||this.parentInjector;if(!y&&null==R.ngModule){const de=(D?L:this.parentInjector).get($l,null);de&&(y=de)}const $=R.create(L,_,void 0,y);return this.insert($.hostView,k),$}insert(c,h){const g=c._lView,_=g[1];if(function qh(l){return mn(l[3])}(g)){const $=this.indexOf(c);if(-1!==$)this.detach($);else{const Q=g[3],de=new dy(Q,Q[6],Q[3]);de.detach(de.indexOf(c))}}const y=this._adjustIndex(h),D=this._lContainer;!function Ic(l,c,h,g){const _=10+g,y=h.length;g>0&&(h[_-1][4]=c),g<y-10?(c[4]=h[_],Ec(h,10+g,c)):(h.push(c),c[4]=null),c[3]=h;const D=c[17];null!==D&&h!==D&&function ah(l,c){const h=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===h?l[9]=[c]:h.push(c)}(D,c);const k=c[19];null!==k&&k.insertView(l),c[2]|=64}(_,g,D,y);const k=Yr(y,D),R=g[11],L=kc(R,D[7]);return null!==L&&function hd(l,c,h,g,_,y){g[0]=_,g[6]=c,dp(l,g,h,1,_,y)}(_,D[6],R,g,L,k),c.attachToViewContainerRef(),Ec(Jw(D),y,c),c}move(c,h){return this.insert(c,h)}indexOf(c){const h=PI(this._lContainer);return null!==h?h.indexOf(c):-1}remove(c){const h=this._adjustIndex(c,-1),g=vv(this._lContainer,h);g&&(Ea(Jw(this._lContainer),h),lg(g[1],g))}detach(c){const h=this._adjustIndex(c,-1),g=vv(this._lContainer,h);return g&&null!=Ea(Jw(this._lContainer),h)?new Jm(g):null}_adjustIndex(c,h=0){return c??this.length+h}};function PI(l){return l[8]}function Jw(l){return l[8]||(l[8]=[])}function Js(l,c){let h;const g=c[l.index];if(mn(g))h=g;else{let _;if(8&l.type)_=Ki(g);else{const y=c[11];_=y.createComment("");const D=pr(l,c);iu(y,kc(y,D),_,function c0(l,c){return l.nextSibling(c)}(y,D),!1)}c[l.index]=h=ll(g,c,_,l),Ch(c,h)}return new dy(h,l,c)}class Gp{constructor(c){this.queryList=c,this.matches=null}clone(){return new Gp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tu{constructor(c=[]){this.queries=c}createEmbeddedView(c){const h=c.queries;if(null!==h){const g=null!==c.contentQueries?c.contentQueries[0]:h.length,_=[];for(let y=0;y<g;y++){const D=h.getByIndex(y);_.push(this.queries[D.indexInDeclarationView].clone())}return new Tu(_)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let h=0;h<this.queries.length;h++)null!==LI(c,h).matches&&this.queries[h].setDirty()}}class ex{constructor(c,h,g=null){this.predicate=c,this.flags=h,this.read=g}}class mD{constructor(c=[]){this.queries=c}elementStart(c,h){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(c,h)}elementEnd(c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(c)}embeddedTView(c){let h=null;for(let g=0;g<this.length;g++){const _=null!==h?h.length:0,y=this.getByIndex(g).embeddedTView(c,_);y&&(y.indexInDeclarationView=g,null!==h?h.push(y):h=[y])}return null!==h?new mD(h):null}template(c,h){for(let g=0;g<this.queries.length;g++)this.queries[g].template(c,h)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class ut{constructor(c,h=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(c,h){this.isApplyingToNode(h)&&this.matchTNode(c,h)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,h){this.elementStart(c,h)}embeddedTView(c,h){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,h),new ut(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let g=c.parent;for(;null!==g&&8&g.type&&g.index!==h;)g=g.parent;return h===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(c,h){const g=this.metadata.predicate;if(Array.isArray(g))for(let _=0;_<g.length;_++){const y=g[_];this.matchTNodeWithReadOption(c,h,_s(h,y)),this.matchTNodeWithReadOption(c,h,xc(h,c,y,!1,!1))}else g===Du?4&h.type&&this.matchTNodeWithReadOption(c,h,-1):this.matchTNodeWithReadOption(c,h,xc(h,c,g,!1,!1))}matchTNodeWithReadOption(c,h,g){if(null!==g){const _=this.metadata.read;if(null!==_)if(_===yp||_===Xw||_===Du&&4&h.type)this.addMatch(h.index,-2);else{const y=xc(h,c,_,!1,!1);null!==y&&this.addMatch(h.index,y)}else this.addMatch(h.index,g)}}addMatch(c,h){null===this.matches?this.matches=[c,h]:this.matches.push(c,h)}}function _s(l,c){const h=l.localNames;if(null!==h)for(let g=0;g<h.length;g+=2)if(h[g]===c)return h[g+1];return null}function fD(l,c,h,g){return-1===h?function Cf(l,c){return 11&l.type?Pc(l,c):4&l.type?Qw(l,c):null}(c,l):-2===h?function Vt(l,c,h){return h===yp?Pc(c,l):h===Du?Qw(c,l):h===Xw?Js(c,l):void 0}(l,c,g):Lo(l,l[1],h,c)}function Qt(l,c,h,g){const _=c[19].queries[g];if(null===_.matches){const y=l.data,D=h.matches,k=[];for(let R=0;R<D.length;R+=2){const L=D[R];k.push(L<0?null:fD(c,y[L],D[R+1],h.metadata.read))}_.matches=k}return _.matches}function gD(l,c,h,g){const _=l.queries.getByIndex(h),y=_.matches;if(null!==y){const D=Qt(l,c,_,h);for(let k=0;k<y.length;k+=2){const R=y[k];if(R>0)g.push(D[k/2]);else{const L=y[k+1],$=c[-R];for(let Q=10;Q<$.length;Q++){const de=$[Q];de[17]===de[3]&&gD(de[1],de,L,g)}if(null!==$[9]){const Q=$[9];for(let de=0;de<Q.length;de++){const Se=Q[de];gD(Se[1],Se,L,g)}}}}}return g}function Tt(l){const c=Qe(),h=Vn(),g=ba();No(g+1);const _=LI(h,g);if(l.dirty&&function Hd(l){return 4==(4&l[2])}(c)===(2==(2&_.metadata.flags))){if(null===_.matches)l.reset([]);else{const y=_.crossesNgTemplate?gD(h,c,g,[]):Qt(h,c,_,g);l.reset(y,WC),l.notifyOnChanges()}return!0}return!1}function Ne(l,c,h){const g=Vn();g.firstCreatePass&&(FI(g,new ex(l,c,h),-1),2==(2&c)&&(g.staticViewQueries=!0)),NI(g,Qe(),c)}function tt(l,c,h,g){const _=Vn();if(_.firstCreatePass){const y=Cr();FI(_,new ex(c,h,g),y.index),function S1(l,c){const h=l.contentQueries||(l.contentQueries=[]);c!==(h.length?h[h.length-1]:-1)&&h.push(l.queries.length-1,c)}(_,l),2==(2&h)&&(_.staticContentQueries=!0)}NI(_,Qe(),h)}function Ls(){return function OI(l,c){return l[19].queries[c].queryList}(Qe(),ba())}function NI(l,c,h){const g=new cy(4==(4&h));ib(l,c,g,g.destroy),null===c[19]&&(c[19]=new Tu),c[19].queries.push(new Gp(g))}function FI(l,c,h){null===l.queries&&(l.queries=new mD),l.queries.track(new ut(c,h))}function LI(l,c){return l.queries.getByIndex(c)}function BI(l,c){return Qw(l,c)}function Td(...l){}const Zp=new Zn("Application Initializer");let Zl=(()=>{class l{constructor(h){this.appInits=h,this.resolve=Td,this.reject=Td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,_)=>{this.resolve=g,this.reject=_})}runInitializers(){if(this.initialized)return;const h=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const y=this.appInits[_]();if(Db(y))h.push(y);else if(Tb(y)){const D=new Promise((k,R)=>{y.subscribe({complete:k,error:R})});h.push(D)}}Promise.all(h).then(()=>{g()}).catch(_=>{this.reject(_)}),0===h.length&&g(),this.initialized=!0}}return l.\u0275fac=function(h){return new(h||l)(ot(Zp,8))},l.\u0275prov=Jt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const R_=new Zn("AppId",{providedIn:"root",factory:function Ph(){return`${Kp()}${Kp()}${Kp()}`}});function Kp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sx=new Zn("Platform Initializer"),kf=new Zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ox=new Zn("appBootstrapListener"),WI=new Zn("AnimationModuleType");let YI=(()=>{class l{log(h){console.log(h)}warn(h){console.warn(h)}}return l.\u0275fac=function(h){return new(h||l)},l.\u0275prov=Jt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Qp=new Zn("LocaleId",{providedIn:"root",factory:()=>St(Qp,At.Optional|At.SkipSelf)||function lx(){return typeof $localize<"u"&&$localize.locale||yt}()}),ZI=new Zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class KI{constructor(c,h){this.ngModuleFactory=c,this.componentFactories=h}}let Xp=(()=>{class l{compileModuleSync(h){return new iy(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const g=this.compileModuleSync(h),y=Oc(Rr(h).declarations).reduce((D,k)=>{const R=Yn(k);return R&&D.push(new Fc(R)),D},[]);return new KI(g,y)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return l.\u0275fac=function(h){return new(h||l)},l.\u0275prov=Jt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const JI=(()=>Promise.resolve(0))();function cx(l){typeof Zone>"u"?JI.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Ql{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ls(!1),this.onMicrotaskEmpty=new ls(!1),this.onStable=new ls(!1),this.onError=new ls(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!g&&h,_.shouldCoalesceRunChangeDetection=g,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function ek(){let l=Ot.requestAnimationFrame,c=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h);const g=c[Zone.__symbol__("OriginalDelegate")];g&&(c=g)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function H1(l){const c=()=>{!function U1(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Ot,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,dx(l),l.isCheckStableRunning=!0,TD(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),dx(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,g,_,y,D,k)=>{try{return nk(l),h.invokeTask(_,y,D,k)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||l.shouldCoalesceRunChangeDetection)&&c(),SD(l)}},onInvoke:(h,g,_,y,D,k,R)=>{try{return nk(l),h.invoke(_,y,D,k,R)}finally{l.shouldCoalesceRunChangeDetection&&c(),SD(l)}},onHasTask:(h,g,_,y)=>{h.hasTask(_,y),g===_&&("microTask"==y.change?(l._hasPendingMicrotasks=y.microTask,dx(l),TD(l)):"macroTask"==y.change&&(l.hasPendingMacrotasks=y.macroTask))},onHandleError:(h,g,_,y)=>(h.handleError(_,y),l.runOutsideAngular(()=>l.onError.emit(y)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ql.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Ql.isInAngularZone())throw new Le(909,!1)}run(c,h,g){return this._inner.run(c,h,g)}runTask(c,h,g,_){const y=this._inner,D=y.scheduleEventTask("NgZoneEvent: "+_,c,tk,Td,Td);try{return y.runTask(D,h,g)}finally{y.cancelTask(D)}}runGuarded(c,h,g){return this._inner.runGuarded(c,h,g)}runOutsideAngular(c){return this._outer.run(c)}}const tk={};function TD(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function dx(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function nk(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function SD(l){l._nesting--,TD(l)}class j1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ls,this.onMicrotaskEmpty=new ls,this.onStable=new ls,this.onError=new ls}run(c,h,g){return c.apply(h,g)}runGuarded(c,h,g){return c.apply(h,g)}runOutsideAngular(c){return c()}runTask(c,h,g,_){return c.apply(h,g)}}const ik=new Zn(""),Af=new Zn("");let eo,$1=(()=>{class l{constructor(h,g,_){this._ngZone=h,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,eo||(function ux(l){eo=l}(_),_.addToWindow(g)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ql.assertNotInAngularZone(),cx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cx(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(h)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,g,_){let y=-1;g&&g>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==y),h(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:h,timeoutId:y,updateCb:_})}whenStable(h,g,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,g,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,g,_){return[]}}return l.\u0275fac=function(h){return new(h||l)(ot(Ql),ot(Kr),ot(Af))},l.\u0275prov=Jt({token:l,factory:l.\u0275fac}),l})(),Kr=(()=>{class l{constructor(){this._applications=new Map}registerApplication(h,g){this._applications.set(h,g)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,g=!0){return eo?.findTestabilityInTree(this,h,g)??null}}return l.\u0275fac=function(h){return new(h||l)},l.\u0275prov=Jt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),ci=null;const ID=new Zn("AllowMultipleToken"),Jp=new Zn("PlatformDestroyListeners");class G1{constructor(c,h){this.name=c,this.token=h}}function gy(l,c,h=[]){const g=`Platform: ${c}`,_=new Zn(g);return(y=[])=>{let D=hx();if(!D||D.injector.get(ID,!1)){const k=[...h,...y,{provide:_,useValue:!0}];l?l(k):function kD(l){if(ci&&!ci.get(ID,!1))throw new Le(400,!1);ci=l;const c=l.get(Rf);(function P_(l){const c=l.get(sx,null);c&&c.forEach(h=>h())})(l)}(function MD(l=[],c){return xp.create({name:c,providers:[{provide:fh,useValue:"platform"},{provide:Jp,useValue:new Set([()=>ci=null])},...l]})}(k,g))}return function rk(l){const c=hx();if(!c)throw new Le(401,!1);return c}()}}function hx(){return ci?.get(Rf)??null}let Rf=(()=>{class l{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,g){const _=function px(l,c){let h;return h="noop"===l?new j1:("zone.js"===l?void 0:l)||new Ql(c),h}(g?.ngZone,function RD(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(g)),y=[{provide:Ql,useValue:_}];return _.run(()=>{const D=xp.create({providers:y,parent:this.injector,name:h.moduleType.name}),k=h.create(D),R=k.injector.get(wp,null);if(!R)throw new Le(402,!1);return _.runOutsideAngular(()=>{const L=_.onError.subscribe({next:$=>{R.handleError($)}});k.onDestroy(()=>{To(this._modules,k),L.unsubscribe()})}),function _y(l,c,h){try{const g=h();return Db(g)?g.catch(_=>{throw c.runOutsideAngular(()=>l.handleError(_)),_}):g}catch(g){throw c.runOutsideAngular(()=>l.handleError(g)),g}}(R,_,()=>{const L=k.injector.get(Zl);return L.runInitializers(),L.donePromise.then(()=>(function Yl(l){wn(l,"Expected localeId to be defined"),"string"==typeof l&&(Pa=l.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Qp,yt)||yt),this._moduleDoBootstrap(k),k))})})}bootstrapModule(h,g=[]){const _=mx({},g);return function zo(l,c,h){const g=new iy(h);return Promise.resolve(g)}(0,0,h).then(y=>this.bootstrapModuleFactory(y,_))}_moduleDoBootstrap(h){const g=h.injector.get(Iu);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(_=>g.bootstrap(_));else{if(!h.instance.ngDoBootstrap)throw new Le(403,!1);h.instance.ngDoBootstrap(g)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const h=this._injector.get(Jp,null);h&&(h.forEach(g=>g()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(h){return new(h||l)(ot(xp))},l.\u0275prov=Jt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function mx(l,c){return Array.isArray(c)?c.reduce(mx,l):{...l,...c}}let Iu=(()=>{class l{constructor(h,g,_){this._zone=h,this._injector=g,this._exceptionHandler=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new q.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),D=new q.y(k=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Ql.assertNotInAngularZone(),cx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Ql.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{R.unsubscribe(),L.unsubscribe()}});this.isStable=(0,Ee.T)(y,D.pipe((0,he.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,g){const _=h instanceof uu;if(!this._injector.get(Zl).done)throw!_&&rr(h),new Le(405,false);let D;D=_?h:this._injector.get(hu).resolveComponentFactory(h),this.componentTypes.push(D.componentType);const k=function Dr(l){return l.isBoundToModule}(D)?void 0:this._injector.get(yf),L=D.create(xp.NULL,[],g||D.selector,k),$=L.location.nativeElement,Q=L.injector.get(ik,null);return Q?.registerApplication($),L.onDestroy(()=>{this.detachView(L.hostView),To(this.components,L),Q?.unregisterApplication($)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const g=h;this._views.push(g),g.attachToAppRef(this)}detachView(h){const g=h;To(this._views,g),g.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const g=this._injector.get(ox,[]);g.push(...this._bootstrapListeners),g.forEach(_=>_(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>To(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new Le(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(h){return new(h||l)(ot(Ql),ot($l),ot(wp))},l.\u0275prov=Jt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function To(l,c){const h=l.indexOf(c);h>-1&&l.splice(h,1)}function vy(){return!1}let ak=(()=>{class l{}return l.__NG_ELEMENT_ID__=W1,l})();function W1(l){return function lk(l,c,h){if(Zc(l)&&!h){const g=xr(l.index,c);return new Jm(g,g)}return 47&l.type?new Jm(c[16],c):null}(Cr(),Qe(),16==(16&l))}class O_{constructor(){}supports(c){return af(c)}create(c){return new uk(c)}}const Q1=(l,c)=>c;class uk{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Q1}forEachItem(c){let h;for(h=this._itHead;null!==h;h=h._next)c(h)}forEachOperation(c){let h=this._itHead,g=this._removalsHead,_=0,y=null;for(;h||g;){const D=!g||h&&h.currentIndex<UD(g,_,y)?h:g,k=UD(D,_,y),R=D.currentIndex;if(D===g)_--,g=g._nextRemoved;else if(h=h._next,null==D.previousIndex)_++;else{y||(y=[]);const L=k-_,$=R-_;if(L!=$){for(let de=0;de<L;de++){const Se=de<y.length?y[de]:y[de]=0,$e=Se+de;$<=$e&&$e<L&&(y[de]=Se+1)}y[D.previousIndex]=$-L}}k!==R&&c(D,k,R)}}forEachPreviousItem(c){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)c(h)}forEachAddedItem(c){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)c(h)}forEachMovedItem(c){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)c(h)}forEachRemovedItem(c){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)c(h)}forEachIdentityChange(c){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)c(h)}diff(c){if(null==c&&(c=[]),!af(c))throw new Le(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let _,y,D,h=this._itHead,g=!1;if(Array.isArray(c)){this.length=c.length;for(let k=0;k<this.length;k++)y=c[k],D=this._trackByFn(k,y),null!==h&&Object.is(h.trackById,D)?(g&&(h=this._verifyReinsertion(h,y,D,k)),Object.is(h.item,y)||this._addIdentityChange(h,y)):(h=this._mismatch(h,y,D,k),g=!0),h=h._next}else _=0,function o_(l,c){if(Array.isArray(l))for(let h=0;h<l.length;h++)c(l[h]);else{const h=l[_u()]();let g;for(;!(g=h.next()).done;)c(g.value)}}(c,k=>{D=this._trackByFn(_,k),null!==h&&Object.is(h.trackById,D)?(g&&(h=this._verifyReinsertion(h,k,D,_)),Object.is(h.item,k)||this._addIdentityChange(h,k)):(h=this._mismatch(h,k,D,_),g=!0),h=h._next,_++}),this.length=_;return this._truncate(h),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,h,g,_){let y;return null===c?y=this._itTail:(y=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(c.item,h)||this._addIdentityChange(c,h),this._reinsertAfter(c,y,_)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(g,_))?(Object.is(c.item,h)||this._addIdentityChange(c,h),this._moveAfter(c,y,_)):c=this._addAfter(new N_(h,g),y,_),c}_verifyReinsertion(c,h,g,_){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==y?c=this._reinsertAfter(y,c._prev,_):c.currentIndex!=_&&(c.currentIndex=_,this._addToMoves(c,_)),c}_truncate(c){for(;null!==c;){const h=c._next;this._addToRemovals(this._unlink(c)),c=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,h,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const _=c._prevRemoved,y=c._nextRemoved;return null===_?this._removalsHead=y:_._nextRemoved=y,null===y?this._removalsTail=_:y._prevRemoved=_,this._insertAfter(c,h,g),this._addToMoves(c,g),c}_moveAfter(c,h,g){return this._unlink(c),this._insertAfter(c,h,g),this._addToMoves(c,g),c}_addAfter(c,h,g){return this._insertAfter(c,h,g),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,h,g){const _=null===h?this._itHead:h._next;return c._next=_,c._prev=h,null===_?this._itTail=c:_._prev=c,null===h?this._itHead=c:h._next=c,null===this._linkedRecords&&(this._linkedRecords=new VD),this._linkedRecords.put(c),c.currentIndex=g,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const h=c._prev,g=c._next;return null===h?this._itHead=g:h._next=g,null===g?this._itTail=h:g._prev=h,c}_addToMoves(c,h){return c.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VD),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,h){return c.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class N_{constructor(c,h){this.item=c,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nh{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,h){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===h||h<=g.currentIndex)&&Object.is(g.trackById,c))return g;return null}remove(c){const h=c._prevDup,g=c._nextDup;return null===h?this._head=g:h._nextDup=g,null===g?this._tail=h:g._prevDup=h,null===this._head}}class VD{constructor(){this.map=new Map}put(c){const h=c.trackById;let g=this.map.get(h);g||(g=new Nh,this.map.set(h,g)),g.add(c)}get(c,h){const _=this.map.get(c);return _?_.get(c,h):null}remove(c){const h=c.trackById;return this.map.get(h).remove(c)&&this.map.delete(h),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UD(l,c,h){const g=l.previousIndex;if(null===g)return g;let _=0;return h&&g<h.length&&(_=h[g]),g+c+_}class HD{constructor(){}supports(c){return c instanceof Map||gb(c)}create(){return new F_}}class F_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let h;for(h=this._mapHead;null!==h;h=h._next)c(h)}forEachPreviousItem(c){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)c(h)}forEachChangedItem(c){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)c(h)}forEachAddedItem(c){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)c(h)}forEachRemovedItem(c){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)c(h)}diff(c){if(c){if(!(c instanceof Map||gb(c)))throw new Le(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(c,(g,_)=>{if(h&&h.key===_)this._maybeAddToChanges(h,g),this._appendAfter=h,h=h._next;else{const y=this._getOrCreateRecordForKey(_,g);h=this._insertBeforeOrAppend(h,y)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let g=h;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,h){if(c){const g=c._prev;return h._next=c,h._prev=g,c._prev=h,g&&(g._next=h),c===this._mapHead&&(this._mapHead=h),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(c,h){if(this._records.has(c)){const _=this._records.get(c);this._maybeAddToChanges(_,h);const y=_._prev,D=_._next;return y&&(y._next=D),D&&(D._prev=y),_._next=null,_._prev=null,_}const g=new jD(c);return this._records.set(c,g),g.currentValue=h,this._addToAdditions(g),g}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,h){Object.is(h,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=h,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,h){c instanceof Map?c.forEach(h):Object.keys(c).forEach(g=>h(c[g],g))}}class jD{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hk(){return new ds([new O_])}let ds=(()=>{class l{constructor(h){this.factories=h}static create(h,g){if(null!=g){const _=g.factories.slice();h=h.concat(_)}return new l(h)}static extend(h){return{provide:l,useFactory:g=>l.create(h,g||hk()),deps:[[l,new N,new Ta]]}}find(h){const g=this.factories.find(_=>_.supports(h));if(null!=g)return g;throw new Le(901,!1)}}return l.\u0275prov=Jt({token:l,providedIn:"root",factory:hk}),l})();function $D(){return new bx([new HD])}let bx=(()=>{class l{constructor(h){this.factories=h}static create(h,g){if(g){const _=g.factories.slice();h=h.concat(_)}return new l(h)}static extend(h){return{provide:l,useFactory:g=>l.create(h,g||$D()),deps:[[l,new N,new Ta]]}}find(h){const g=this.factories.find(_=>_.supports(h));if(g)return g;throw new Le(901,!1)}}return l.\u0275prov=Jt({token:l,providedIn:"root",factory:$D}),l})();const yy=gy(null,"core",[]);let pk=(()=>{class l{constructor(h){}}return l.\u0275fac=function(h){return new(h||l)(ot(Iu))},l.\u0275mod=Hr({type:l}),l.\u0275inj=Es({}),l})();function ku(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},310:()=>{class Wb extends Error{constructor(s){super(`No translation found for ${b_(s)}.`),this.parsedMessage=s,this.type="MissingTranslationError"}}const y_=function(f,...s){if(y_.translate){const p=y_.translate(f,s);f=p[0],s=p[1]}let u=Bp(f[0],f.raw[0]);for(let p=1;p<f.length;p++)u+=s[p-1]+Bp(f[p],f.raw[p]);return u};function Bp(f,s){return":"===s.charAt(0)?f.substring(function gf(f,s){for(let u=1,p=1;u<f.length;u++,p++)if("\\"===s[p])p++;else if(":"===f[u])return u;throw new Error(`Unterminated $localize metadata block in "${s}".`)}(f,s)+1):f}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=y_},3942:(xt,je,K)=>{K.d(je,{Z:()=>it});var a=K(2090),ie=K(4859),q=K(9681),Ee=K(1877);class he{constructor(Le,Ye){this._delegate=Le,this.firebase=Ye,(0,q._addComponent)(Le,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Le,Ye=q._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(Le);return!Oe.isInitialized()&&"EXPLICIT"===(null===(qe=Oe.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:Ye})}_removeServiceInstance(Le,Ye=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Ye)}_addComponent(Le){(0,q._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,q._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ve=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Fe(){const Ct=function Me(Ct){const Le={},Ye={__esModule:!0,initializeApp:function Ge(ye,Ae={}){const ze=q.initializeApp(ye,Ae);if((0,a.r3)(Le,ze.name))return Le[ze.name];const pe=new Ct(ze,Ye);return Le[ze.name]=pe,pe},app:Oe,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function Ze(ye){const Ae=ye.name,ze=Ae.replace("-compat","");if(q._registerComponent(ye)&&"PUBLIC"===ye.type){const pe=(me=Oe())=>{if("function"!=typeof me[ze])throw Ve.create("invalid-app-argument",{appName:Ae});return me[ze]()};void 0!==ye.serviceProps&&(0,a.ZB)(pe,ye.serviceProps),Ye[ze]=pe,Ct.prototype[ze]=function(...me){return this._getService.bind(this,Ae).apply(this,ye.multipleInstances?me:[])}}return"PUBLIC"===ye.type?Ye[ze]:null},removeApp:function qe(ye){delete Le[ye]},useAsService:function ht(ye,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:q}};function Oe(ye){if(!(0,a.r3)(Le,ye=ye||q._DEFAULT_ENTRY_NAME))throw Ve.create("no-app",{appName:ye});return Le[ye]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function et(){return Object.keys(Le).map(ye=>Le[ye])}}),Oe.App=Ct,Ye}(he);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function Le(Ye){(0,a.ZB)(Ct,Ye)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Ct}(),oe=new Ee.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=se;!function Ke(Ct){(0,q.registerVersion)("@firebase/app-compat","0.2.0",Ct)}()},9681:(xt,je,K)=>{K.r(je),K.d(je,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>da,_DEFAULT_ENTRY_NAME:()=>si,_addComponent:()=>Gn,_addOrOverwriteComponent:()=>Gi,_apps:()=>wn,_clearComponents:()=>Es,_components:()=>Xt,_getProvider:()=>Jt,_registerComponent:()=>Rn,_removeServiceInstance:()=>Bs,deleteApp:()=>oo,getApp:()=>cr,getApps:()=>Vs,initializeApp:()=>ko,onLog:()=>At,registerVersion:()=>kr,setLogLevel:()=>Ar});var a=K(5861),ie=K(4859),q=K(1877),Ee=K(2090),he=K(8766);class _e{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function Ve(ot){return"VERSION"===ot.getComponent()?.type}(St)){const rn=St.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(St=>St).join(" ")}}const Me="@firebase/app",se=new q.Yd("@firebase/app"),si="[DEFAULT]",pn={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wn=new Map,Xt=new Map;function Gn(ot,He){try{ot.container.addComponent(He)}catch(St){se.debug(`Component ${He.name} failed to register with FirebaseApp ${ot.name}`,St)}}function Gi(ot,He){ot.container.addOrOverwriteComponent(He)}function Rn(ot){const He=ot.name;if(Xt.has(He))return se.debug(`There were multiple attempts to register component ${He}.`),!1;Xt.set(He,ot);for(const St of wn.values())Gn(St,ot);return!0}function Jt(ot,He){const St=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),ot.container.getProvider(He)}function Bs(ot,He,St=si){Jt(ot,He).clearInstance(St)}function Es(){Xt.clear()}const Hi=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class so{constructor(He,St,rn){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}const da="9.15.0";function ko(ot,He={}){let St=ot;"object"!=typeof He&&(He={name:He});const rn=Object.assign({name:si,automaticDataCollectionEnabled:!1},He),en=rn.name;if("string"!=typeof en||!en)throw Hi.create("bad-app-name",{appName:String(en)});if(St||(St=(0,Ee.aH)()),!St)throw Hi.create("no-options");const dn=wn.get(en);if(dn){if((0,Ee.vZ)(St,dn.options)&&(0,Ee.vZ)(rn,dn.config))return dn;throw Hi.create("duplicate-app",{appName:en})}const ae=new ie.H0(en);for(const ce of Xt.values())ae.addComponent(ce);const re=new so(St,rn,ae);return wn.set(en,re),re}function cr(ot=si){const He=wn.get(ot);if(!He&&ot===si)return ko();if(!He)throw Hi.create("no-app",{appName:ot});return He}function Vs(){return Array.from(wn.values())}function oo(ot){return di.apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(ot){const He=ot.name;wn.has(He)&&(wn.delete(He),yield Promise.all(ot.container.getProviders().map(St=>St.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function kr(ot,He,St){var rn;let en=null!==(rn=pn[ot])&&void 0!==rn?rn:ot;St&&(en+=`-${St}`);const dn=en.match(/\s|\//),ae=He.match(/\s|\//);if(dn||ae){const re=[`Unable to register library "${en}" with version "${He}":`];return dn&&re.push(`library name "${en}" contains illegal characters (whitespace or "/")`),dn&&ae&&re.push("and"),ae&&re.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void se.warn(re.join(" "))}Rn(new ie.wA(`${en}-version`,()=>({library:en,version:He}),"VERSION"))}function At(ot,He){if(null!==ot&&"function"!=typeof ot)throw Hi.create("invalid-log-argument");(0,q.Am)(ot,He)}function Ar(ot){(0,q.Ub)(ot)}const tr="firebase-heartbeat-store";let Ds=null;function Ot(){return Ds||(Ds=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(ot,He)=>{0===He&&ot.createObjectStore(tr)}}).catch(ot=>{throw Hi.create("idb-open",{originalErrorMessage:ot.message})})),Ds}function gn(){return(gn=(0,a.Z)(function*(ot){try{return(yield Ot()).transaction(tr).objectStore(tr).get(oi(ot))}catch(He){if(He instanceof Ee.ZR)se.warn(He.message);else{const St=Hi.create("idb-get",{originalErrorMessage:He?.message});se.warn(St.message)}}})).apply(this,arguments)}function Ci(ot,He){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(ot,He){try{const rn=(yield Ot()).transaction(tr,"readwrite");return yield rn.objectStore(tr).put(He,oi(ot)),rn.done}catch(St){if(St instanceof Ee.ZR)se.warn(St.message);else{const rn=Hi.create("idb-set",{originalErrorMessage:St?.message});se.warn(rn.message)}}})).apply(this,arguments)}function oi(ot){return`${ot.name}!${ot.options.appId}`}class ao{constructor(He){this.container=He,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new _n(St),this._heartbeatsCachePromise=this._storage.read().then(rn=>(this._heartbeatsCache=rn,rn))}triggerHeartbeat(){var He=this;return(0,a.Z)(function*(){const rn=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=En();if(null===He._heartbeatsCache&&(He._heartbeatsCache=yield He._heartbeatsCachePromise),He._heartbeatsCache.lastSentHeartbeatDate!==en&&!He._heartbeatsCache.heartbeats.some(dn=>dn.date===en))return He._heartbeatsCache.heartbeats.push({date:en,agent:rn}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(dn=>{const ae=new Date(dn.date).valueOf();return Date.now()-ae<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,a.Z)(function*(){if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null===He._heartbeatsCache||0===He._heartbeatsCache.heartbeats.length)return"";const St=En(),{heartbeatsToSend:rn,unsentEntries:en}=function lo(ot,He=1024){const St=[];let rn=ot.slice();for(const en of ot){const dn=St.find(ae=>ae.agent===en.agent);if(dn){if(dn.dates.push(en.date),br(St)>He){dn.dates.pop();break}}else if(St.push({agent:en.agent,dates:[en.date]}),br(St)>He){St.pop();break}rn=rn.slice(1)}return{heartbeatsToSend:St,unsentEntries:rn}}(He._heartbeatsCache.heartbeats),dn=(0,Ee.L)(JSON.stringify({version:2,heartbeats:rn}));return He._heartbeatsCache.lastSentHeartbeatDate=St,en.length>0?(He._heartbeatsCache.heartbeats=en,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),dn})()}}function En(){return(new Date).toISOString().substring(0,10)}class _n{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Ee.hl)()&&(0,Ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,a.Z)(function*(){return(yield He._canUseIndexedDBPromise)&&(yield function zt(ot){return gn.apply(this,arguments)}(He.app))||{heartbeats:[]}})()}overwrite(He){var St=this;return(0,a.Z)(function*(){var rn;if(yield St._canUseIndexedDBPromise){const dn=yield St.read();return Ci(St.app,{lastSentHeartbeatDate:null!==(rn=He.lastSentHeartbeatDate)&&void 0!==rn?rn:dn.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var St=this;return(0,a.Z)(function*(){var rn;if(yield St._canUseIndexedDBPromise){const dn=yield St.read();return Ci(St.app,{lastSentHeartbeatDate:null!==(rn=He.lastSentHeartbeatDate)&&void 0!==rn?rn:dn.lastSentHeartbeatDate,heartbeats:[...dn.heartbeats,...He.heartbeats]})}})()}}function br(ot){return(0,Ee.L)(JSON.stringify({version:2,heartbeats:ot})).length}!function vn(ot){Rn(new ie.wA("platform-logger",He=>new _e(He),"PRIVATE")),Rn(new ie.wA("heartbeat",He=>new ao(He),"PRIVATE")),kr(Me,"0.9.0",ot),kr(Me,"0.9.0","esm2017"),kr("fire-js","")}("")},4859:(xt,je,K)=>{K.d(je,{H0:()=>Me,wA:()=>q,zt:()=>he});var a=K(5861),ie=K(2090);class q{constructor(se,oe,be){this.name=se,this.instanceFactory=oe,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const Ee="[DEFAULT]";class he{constructor(se,oe){this.name=se,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const oe=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(oe)){const be=new ie.BH;if(this.instancesDeferred.set(oe,be),this.isInitialized(oe)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:oe});ct&&be.resolve(ct)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(se){var oe;const be=this.normalizeInstanceIdentifier(se?.identifier),ct=null!==(oe=se?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Ke){if(ct)return null;throw Ke}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Ve(Fe){return"EAGER"===Fe.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[oe,be]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(oe);try{const Ke=this.getOrInitializeService({instanceIdentifier:ct});be.resolve(Ke)}catch{}}}}clearInstance(se=Ee){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,a.Z)(function*(){const oe=Array.from(se.instances.values());yield Promise.all([...oe.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...oe.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=Ee){return this.instances.has(se)}getOptions(se=Ee){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:oe={}}=se,be=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:be,options:oe});for(const[Ke,it]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Ke)&&it.resolve(ct);return ct}onInit(se,oe){var be;const ct=this.normalizeInstanceIdentifier(oe),Ke=null!==(be=this.onInitCallbacks.get(ct))&&void 0!==be?be:new Set;Ke.add(se),this.onInitCallbacks.set(ct,Ke);const it=this.instances.get(ct);return it&&se(it,ct),()=>{Ke.delete(se)}}invokeOnInitCallbacks(se,oe){const be=this.onInitCallbacks.get(oe);if(be)for(const ct of be)try{ct(se,oe)}catch{}}getOrInitializeService({instanceIdentifier:se,options:oe={}}){let be=this.instances.get(se);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=se,Fe===Ee?void 0:Fe),options:oe}),this.instances.set(se,be),this.instancesOptions.set(se,oe),this.invokeOnInitCallbacks(be,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,be)}catch{}var Fe;return be||null}normalizeInstanceIdentifier(se=Ee){return this.component?this.component.multipleInstances?se:Ee:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const oe=this.getProvider(se.name);if(oe.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);oe.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const oe=new he(se,this);return this.providers.set(se,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,je,K)=>{K.d(je,{Am:()=>Fe,Ub:()=>Me,Yd:()=>Ve,in:()=>ie});const a=[];var ie=(()=>{return(se=ie||(ie={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",ie;var se})();const q={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Ee=ie.INFO,he={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},_e=(se,oe,...be)=>{if(oe<se.logLevel)return;const ct=(new Date).toISOString(),Ke=he[oe];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Ke](`[${ct}]  ${se.name}:`,...be)};class Ve{constructor(oe){this.name=oe,this._logLevel=Ee,this._logHandler=_e,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in ie))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?q[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...oe),this._logHandler(this,ie.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...oe),this._logHandler(this,ie.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...oe),this._logHandler(this,ie.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...oe),this._logHandler(this,ie.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...oe),this._logHandler(this,ie.ERROR,...oe)}}function Me(se){a.forEach(oe=>{oe.setLogLevel(se)})}function Fe(se,oe){for(const be of a){let ct=null;oe&&oe.level&&(ct=q[oe.level]),be.userLogHandler=null===se?null:(Ke,it,...Ct)=>{const Le=Ct.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");it>=(ct??Ke.logLevel)&&se({level:ie[it].toLowerCase(),message:Le,args:Ct,type:Ke.name})}}}},259:(xt,je,K)=>{K.d(je,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=K(9681);(0,a.registerVersion)("firebase","9.15.0","app")},9260:(xt,je,K)=>{K.d(je,{Z:()=>a.Z});var a=K(3942);a.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(xt,je,K)=>{K.r(je);var a=K(5861),ie=K(3942),q=K(552),Ee=K(2090),Ve=(K(9681),K(1877),K(4859));function Me(){return window}function oe(){return(oe=(0,a.Z)(function*(ee,z,J){var Te;const{BuildInfo:ue}=Me();(0,q.ap)(z.sessionId,"AuthEvent did not contain a session ID");const Nt=yield Ye(z.sessionId),ft={};return(0,q.aq)()?ft.ibi=ue.packageName:(0,q.ar)()?ft.apn=ue.packageName:(0,q.as)(ee,"operation-not-supported-in-this-environment"),ue.displayName&&(ft.appDisplayName=ue.displayName),ft.sessionId=Nt,(0,q.at)(ee,J,z.type,void 0,null!==(Te=z.eventId)&&void 0!==Te?Te:void 0,ft)})).apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(ee){const{BuildInfo:z}=Me(),J={};(0,q.aq)()?J.iosBundleId=z.packageName:(0,q.ar)()?J.androidPackageName=z.packageName:(0,q.as)(ee,"operation-not-supported-in-this-environment"),yield(0,q.au)(ee,J)})).apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(ee,z,J){const{cordova:Te}=Me();let ue=()=>{};try{yield new Promise((Nt,ft)=>{let Zt=null;function mt(){var dt;Nt();const Mr=null===(dt=Te.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof Mr&&Mr(),"function"==typeof J?.close&&J.close()}function ii(){Zt||(Zt=window.setTimeout(()=>{ft((0,q.aw)(ee,"redirect-cancelled-by-user"))},2e3))}function ir(){"visible"===document?.visibilityState&&ii()}z.addPassiveListener(mt),document.addEventListener("resume",ii,!1),(0,q.ar)()&&document.addEventListener("visibilitychange",ir,!1),ue=()=>{z.removePassiveListener(mt),document.removeEventListener("resume",ii,!1),document.removeEventListener("visibilitychange",ir,!1),Zt&&window.clearTimeout(Zt)}})}finally{ue()}})).apply(this,arguments)}function Ye(ee){return qe.apply(this,arguments)}function qe(){return(qe=(0,a.Z)(function*(ee){const z=Oe(ee),J=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(J)).map(ue=>ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Oe(ee){if((0,q.ap)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ee);const z=new ArrayBuffer(ee.length),J=new Uint8Array(z);for(let Te=0;Te<ee.length;Te++)J[Te]=ee.charCodeAt(Te);return J}class et extends q.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(J=>J(z)),super.onEvent(z)}initialized(){var z=this;return(0,a.Z)(function*(){yield z.initPromise})()}}function ye(ee){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,a.Z)(function*(ee){const z=yield me()._get(Pe(ee));return z&&(yield me()._remove(Pe(ee))),z})).apply(this,arguments)}function pe(){const ee=[],z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let J=0;J<20;J++){const Te=Math.floor(Math.random()*z.length);ee.push(z.charAt(Te))}return ee.join("")}function me(){return(0,q.az)(q.b)}function Pe(ee){return(0,q.aA)("authEvent",ee.config.apiKey,ee.name)}function st(ee){if(!ee?.includes("?"))return{};const[z,...J]=ee.split("?");return(0,Ee.zd)(J.join("?"))}const si=class zn{constructor(){this._redirectPersistence=q.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=q.aB,this._overrideRedirectResult=q.aC}_initialize(z){var J=this;return(0,a.Z)(function*(){const Te=z._key();let ue=J.eventManagers.get(Te);return ue||(ue=new et(z),J.eventManagers.set(Te,ue),J.attachCallbackListeners(z,ue)),ue})()}_openPopup(z){(0,q.as)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,J,Te,ue){var Nt=this;return(0,a.Z)(function*(){!function Le(ee){var z,J,Te,ue,Nt,ft,Zt,mt,ii,ir;const dt=Me();(0,q.ax)("function"==typeof(null===(z=dt?.universalLinks)||void 0===z?void 0:z.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,q.ax)(typeof(null===(J=dt?.BuildInfo)||void 0===J?void 0:J.packageName)<"u",ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,q.ax)("function"==typeof(null===(Nt=null===(ue=null===(Te=dt?.cordova)||void 0===Te?void 0:Te.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Nt?void 0:Nt.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.ax)("function"==typeof(null===(mt=null===(Zt=null===(ft=dt?.cordova)||void 0===ft?void 0:ft.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===mt?void 0:mt.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.ax)("function"==typeof(null===(ir=null===(ii=dt?.cordova)||void 0===ii?void 0:ii.InAppBrowser)||void 0===ir?void 0:ir.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const ft=yield Nt._initialize(z);yield ft.initialized(),ft.resetRedirect(),(0,q.aD)(),yield Nt._originValidation(z);const Zt=function Ze(ee,z,J=null){return{type:z,eventId:J,urlResponse:null,sessionId:pe(),postBody:null,tenantId:ee.tenantId,error:(0,q.aw)(ee,"no-auth-event")}}(z,Te,ue);yield function ht(ee,z){return me()._set(Pe(ee),z)}(z,Zt);const mt=yield function se(ee,z,J){return oe.apply(this,arguments)}(z,Zt,J),ii=yield function Ke(ee){const{cordova:z}=Me();return new Promise(J=>{z.plugins.browsertab.isAvailable(Te=>{let ue=null;Te?z.plugins.browsertab.openUrl(ee):ue=z.InAppBrowser.open(ee,(0,q.av)()?"_blank":"_system","location=yes"),J(ue)})})}(mt);return function it(ee,z,J){return Ct.apply(this,arguments)}(z,ft,ii)})()}_isIframeWebStorageSupported(z,J){throw new Error("Method not implemented.")}_originValidation(z){const J=z._key();return this.originValidationPromises[J]||(this.originValidationPromises[J]=function be(ee){return ct.apply(this,arguments)}(z)),this.originValidationPromises[J]}attachCallbackListeners(z,J){const{universalLinks:Te,handleOpenURL:ue,BuildInfo:Nt}=Me(),ft=setTimeout((0,a.Z)(function*(){yield ye(z),J.onEvent(pn())}),500),Zt=function(){var ir=(0,a.Z)(function*(dt){clearTimeout(ft);const Mr=yield ye(z);let ac=null;Mr&&dt?.url&&(ac=function ze(ee,z){var J,Te;const ue=function at(ee){const z=st(ee),J=z.link?decodeURIComponent(z.link):void 0,Te=st(J).link,ue=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return st(ue).link||ue||Te||J||ee}(z);if(ue.includes("/__/auth/callback")){const Nt=st(ue),ft=Nt.firebaseError?function Ie(ee){try{return JSON.parse(ee)}catch{return null}}(decodeURIComponent(Nt.firebaseError)):null,Zt=null===(Te=null===(J=ft?.code)||void 0===J?void 0:J.split("auth/"))||void 0===Te?void 0:Te[1],mt=Zt?(0,q.aw)(Zt):null;return mt?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:mt,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:ue,postBody:null}}return null}(Mr,dt.url)),J.onEvent(ac||pn())});return function(Mr){return ir.apply(this,arguments)}}();typeof Te<"u"&&"function"==typeof Te.subscribe&&Te.subscribe(null,Zt);const mt=ue,ii=`${Nt.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var ir=(0,a.Z)(function*(dt){if(dt.toLowerCase().startsWith(ii)&&Zt({url:dt}),"function"==typeof mt)try{mt(dt)}catch(Mr){console.error(Mr)}});return function(dt){return ir.apply(this,arguments)}}()}};function pn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,q.aw)("no-auth-event")}}function Rn(){var ee;return(null===(ee=self?.location)||void 0===ee?void 0:ee.protocol)||null}function Bs(ee=(0,Ee.z$)()){return!("file:"!==Rn()&&"ionic:"!==Rn()&&"capacitor:"!==Rn()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function da(){try{const ee=self.localStorage,z=q.aI();if(ee)return ee.setItem(z,"1"),ee.removeItem(z),!function so(ee=(0,Ee.z$)()){return function Ir(){return(0,Ee.w1)()&&11===document?.documentMode}()||function Hi(ee=(0,Ee.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,Ee.hl)()}catch{return ko()&&(0,Ee.hl)()}return!1}function ko(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cr(){return(function Jt(){return"http:"===Rn()||"https:"===Rn()}()||(0,Ee.ru)()||Bs())&&!function Es(){return(0,Ee.b$)()||(0,Ee.UG)()}()&&da()&&!ko()}function Vs(){return Bs()&&typeof document<"u"}function di(){return(di=(0,a.Z)(function*(){return!!Vs()&&new Promise(ee=>{const z=setTimeout(()=>{ee(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),ee(!0)})})})).apply(this,arguments)}const At={LOCAL:"local",NONE:"none",SESSION:"session"},Ar=q.ax,ni="persistence";function tr(ee){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,a.Z)(function*(ee){yield ee._initializationPromise;const z=zt(),J=q.aA(ni,ee.config.apiKey,ee.name);z&&z.setItem(J,ee._getPersistence())})).apply(this,arguments)}function zt(){var ee;try{return(null===(ee=function kr(){return typeof window<"u"?window:null}())||void 0===ee?void 0:ee.sessionStorage)||null}catch{return null}}const gn=q.ax;class Ci{constructor(){this.browserResolver=q.az(q.k),this.cordovaResolver=q.az(si),this.underlyingResolver=null,this._redirectPersistence=q.a,this._completeRedirectFn=q.aB,this._overrideRedirectResult=q.aC}_initialize(z){var J=this;return(0,a.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,J,Te,ue){var Nt=this;return(0,a.Z)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openPopup(z,J,Te,ue)})()}_openRedirect(z,J,Te,ue){var Nt=this;return(0,a.Z)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openRedirect(z,J,Te,ue)})()}_isIframeWebStorageSupported(z,J){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,J)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return Vs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,a.Z)(function*(){if(z.underlyingResolver)return;const J=yield function oo(){return di.apply(this,arguments)}();z.underlyingResolver=J?z.cordovaResolver:z.browserResolver})()}}function nr(ee){return ee.unwrap()}function Us(ee){return ao(ee)}function ao(ee){const{_tokenResponse:z}=ee instanceof Ee.ZR?ee.customData:ee;if(!z)return null;if(!(ee instanceof Ee.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return q.P.credentialFromResult(ee);const J=z.providerId;if(!J||J===q.o.PASSWORD)return null;let Te;switch(J){case q.o.GOOGLE:Te=q.Q;break;case q.o.FACEBOOK:Te=q.N;break;case q.o.GITHUB:Te=q.T;break;case q.o.TWITTER:Te=q.W;break;default:const{oauthIdToken:ue,oauthAccessToken:Nt,oauthTokenSecret:ft,pendingToken:Zt,nonce:mt}=z;return Nt||ft||ue||Zt?Zt?J.startsWith("saml.")?q.aL._create(J,Zt):q.J._fromParams({providerId:J,signInMethod:J,pendingToken:Zt,idToken:ue,accessToken:Nt}):new q.U(J).credential({idToken:ue,accessToken:Nt,rawNonce:mt}):null}return ee instanceof Ee.ZR?Te.credentialFromError(ee):Te.credentialFromResult(ee)}function En(ee,z){return z.catch(J=>{throw J instanceof Ee.ZR&&function vr(ee,z){var J;const Te=null===(J=z.customData)||void 0===J?void 0:J._tokenResponse;if("auth/multi-factor-auth-required"===z?.code)z.resolver=new br(ee,q.an(ee,z));else if(Te){const ue=ao(z),Nt=z;ue&&(Nt.credential=ue,Nt.tenantId=Te.tenantId||void 0,Nt.email=Te.email||void 0,Nt.phoneNumber=Te.phoneNumber||void 0)}}(ee,J),J}).then(J=>{const ue=J.user;return{operationType:J.operationType,credential:Us(J),additionalUserInfo:q.al(J),user:vn.getOrCreate(ue)}})}function lo(ee,z){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(ee,z){const J=yield z;return{verificationId:J.verificationId,confirm:Te=>En(ee,J.confirm(Te))}})).apply(this,arguments)}class br{constructor(z,J){this.resolver=J,this.auth=function oi(ee){return ee.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return En(nr(this.auth),this.resolver.resolveSignIn(z))}}class vn{constructor(z){this._delegate=z,this.multiFactor=q.ao(z)}static getOrCreate(z){return vn.USER_MAP.has(z)||vn.USER_MAP.set(z,new vn(z)),vn.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var J=this;return(0,a.Z)(function*(){return En(J.auth,q.Z(J._delegate,z))})()}linkWithPhoneNumber(z,J){var Te=this;return(0,a.Z)(function*(){return lo(Te.auth,q.l(Te._delegate,z,J))})()}linkWithPopup(z){var J=this;return(0,a.Z)(function*(){return En(J.auth,q.d(J._delegate,z,Ci))})()}linkWithRedirect(z){var J=this;return(0,a.Z)(function*(){return yield tr(q.aE(J.auth)),q.g(J._delegate,z,Ci)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var J=this;return(0,a.Z)(function*(){return En(J.auth,q._(J._delegate,z))})()}reauthenticateWithPhoneNumber(z,J){return lo(this.auth,q.r(this._delegate,z,J))}reauthenticateWithPopup(z){return En(this.auth,q.e(this._delegate,z,Ci))}reauthenticateWithRedirect(z){var J=this;return(0,a.Z)(function*(){return yield tr(q.aE(J.auth)),q.h(J._delegate,z,Ci)})()}sendEmailVerification(z){return q.ab(this._delegate,z)}unlink(z){var J=this;return(0,a.Z)(function*(){return yield q.ak(J._delegate,z),J})()}updateEmail(z){return q.ag(this._delegate,z)}updatePassword(z){return q.ah(this._delegate,z)}updatePhoneNumber(z){return q.u(this._delegate,z)}updateProfile(z){return q.af(this._delegate,z)}verifyBeforeUpdateEmail(z,J){return q.ac(this._delegate,z,J)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vn.USER_MAP=new WeakMap;const ot=q.ax;let He=(()=>{class ee{constructor(J,Te){if(this.app=J,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ue}=J.options;ot(ue,"invalid-api-key",{appName:J.name}),ot(ue,"invalid-api-key",{appName:J.name});const Nt=typeof window<"u"?Ci:void 0;this._delegate=Te.initialize({options:{persistence:rn(ue,J.name),popupRedirectResolver:Nt}}),this._delegate._updateErrorMap(q.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(J){this._delegate.languageCode=J}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(J){this._delegate.tenantId=J}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(J,Te){q.G(this._delegate,J,Te)}applyActionCode(J){return q.a2(this._delegate,J)}checkActionCode(J){return q.a3(this._delegate,J)}confirmPasswordReset(J,Te){return q.a1(this._delegate,J,Te)}createUserWithEmailAndPassword(J,Te){var ue=this;return(0,a.Z)(function*(){return En(ue._delegate,q.a5(ue._delegate,J,Te))})()}fetchProvidersForEmail(J){return this.fetchSignInMethodsForEmail(J)}fetchSignInMethodsForEmail(J){return q.aa(this._delegate,J)}isSignInWithEmailLink(J){return q.a8(this._delegate,J)}getRedirectResult(){var J=this;return(0,a.Z)(function*(){ot(cr(),J._delegate,"operation-not-supported-in-this-environment");const Te=yield q.j(J._delegate,Ci);return Te?En(J._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(J){!function wn(ee,z){(0,q.aE)(ee)._logFramework(z)}(this._delegate,J)}onAuthStateChanged(J,Te,ue){const{next:Nt,error:ft,complete:Zt}=St(J,Te,ue);return this._delegate.onAuthStateChanged(Nt,ft,Zt)}onIdTokenChanged(J,Te,ue){const{next:Nt,error:ft,complete:Zt}=St(J,Te,ue);return this._delegate.onIdTokenChanged(Nt,ft,Zt)}sendSignInLinkToEmail(J,Te){return q.a7(this._delegate,J,Te)}sendPasswordResetEmail(J,Te){return q.a0(this._delegate,J,Te||void 0)}setPersistence(J){var Te=this;return(0,a.Z)(function*(){let ue;switch(function qn(ee,z){Ar(Object.values(At).includes(z),ee,"invalid-persistence-type"),(0,Ee.b$)()?Ar(z!==At.SESSION,ee,"unsupported-persistence-type"):(0,Ee.UG)()?Ar(z===At.NONE,ee,"unsupported-persistence-type"):ko()?Ar(z===At.NONE||z===At.LOCAL&&(0,Ee.hl)(),ee,"unsupported-persistence-type"):Ar(z===At.NONE||da(),ee,"unsupported-persistence-type")}(Te._delegate,J),J){case At.SESSION:ue=q.a;break;case At.LOCAL:ue=(yield q.az(q.i)._isAvailable())?q.i:q.b;break;case At.NONE:ue=q.L;break;default:return q.as("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(ue)})()}signInAndRetrieveDataWithCredential(J){return this.signInWithCredential(J)}signInAnonymously(){return En(this._delegate,q.X(this._delegate))}signInWithCredential(J){return En(this._delegate,q.Y(this._delegate,J))}signInWithCustomToken(J){return En(this._delegate,q.$(this._delegate,J))}signInWithEmailAndPassword(J,Te){return En(this._delegate,q.a6(this._delegate,J,Te))}signInWithEmailLink(J,Te){return En(this._delegate,q.a9(this._delegate,J,Te))}signInWithPhoneNumber(J,Te){return lo(this._delegate,q.s(this._delegate,J,Te))}signInWithPopup(J){var Te=this;return(0,a.Z)(function*(){return ot(cr(),Te._delegate,"operation-not-supported-in-this-environment"),En(Te._delegate,q.c(Te._delegate,J,Ci))})()}signInWithRedirect(J){var Te=this;return(0,a.Z)(function*(){return ot(cr(),Te._delegate,"operation-not-supported-in-this-environment"),yield tr(Te._delegate),q.f(Te._delegate,J,Ci)})()}updateCurrentUser(J){return this._delegate.updateCurrentUser(J)}verifyPasswordResetCode(J){return q.a4(this._delegate,J)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=At,ee})();function St(ee,z,J){let Te=ee;"function"!=typeof ee&&({next:Te,error:z,complete:J}=ee);const ue=Te;return{next:ft=>ue(ft&&vn.getOrCreate(ft)),error:z,complete:J}}function rn(ee,z){const J=function Ot(ee,z){const J=zt();if(!J)return[];const Te=q.aA(ni,ee,z);switch(J.getItem(Te)){case At.NONE:return[q.L];case At.LOCAL:return[q.i,q.a];case At.SESSION:return[q.a];default:return[]}}(ee,z);if(typeof self<"u"&&!J.includes(q.i)&&J.push(q.i),typeof window<"u")for(const Te of[q.b,q.a])J.includes(Te)||J.push(Te);return J.includes(q.L)||J.push(q.L),J}class en{constructor(){this.providerId="phone",this._delegate=new q.P(nr(ie.Z.auth()))}static credential(z,J){return q.P.credential(z,J)}verifyPhoneNumber(z,J){return this._delegate.verifyPhoneNumber(z,J)}unwrap(){return this._delegate}}en.PHONE_SIGN_IN_METHOD=q.P.PHONE_SIGN_IN_METHOD,en.PROVIDER_ID=q.P.PROVIDER_ID;const dn=q.ax;class ae{constructor(z,J,Te=ie.Z.app()){var ue;dn(null===(ue=Te.options)||void 0===ue?void 0:ue.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new q.R(z,J,Te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(ee){ee.INTERNAL.registerComponent(new Ve.wA("auth-compat",z=>{const J=z.getProvider("app-compat").getImmediate(),Te=z.getProvider("auth");return new He(J,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q.A.EMAIL_SIGNIN,PASSWORD_RESET:q.A.PASSWORD_RESET,RECOVER_EMAIL:q.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q.A.VERIFY_EMAIL}},EmailAuthProvider:q.M,FacebookAuthProvider:q.N,GithubAuthProvider:q.T,GoogleAuthProvider:q.Q,OAuthProvider:q.U,SAMLAuthProvider:q.V,PhoneAuthProvider:en,PhoneMultiFactorGenerator:q.m,RecaptchaVerifier:ae,TwitterAuthProvider:q.W,Auth:He,AuthCredential:q.H,Error:Ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.3.0")}(ie.Z)},8766:(xt,je,K)=>{K.d(je,{Lj:()=>Ge,X3:()=>Oe});var a=K(5861);let q,Ee;const Ve=new WeakMap,Me=new WeakMap,Fe=new WeakMap,se=new WeakMap,oe=new WeakMap;let Ke={get(Ae,ze,pe){if(Ae instanceof IDBTransaction){if("done"===ze)return Me.get(Ae);if("objectStoreNames"===ze)return Ae.objectStoreNames||Fe.get(Ae);if("store"===ze)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Ye(Ae[ze])},set:(Ae,ze,pe)=>(Ae[ze]=pe,!0),has:(Ae,ze)=>Ae instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in Ae};function Le(Ae){return"function"==typeof Ae?function Ct(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...ze){return Ae.apply(qe(this),ze),Ye(Ve.get(this))}:function(...ze){return Ye(Ae.apply(qe(this),ze))}:function(ze,...pe){const me=Ae.call(qe(this),ze,...pe);return Fe.set(me,ze.sort?ze.sort():[ze]),Ye(me)}}(Ae):(Ae instanceof IDBTransaction&&function ct(Ae){if(Me.has(Ae))return;const ze=new Promise((pe,me)=>{const Pe=()=>{Ae.removeEventListener("complete",Ie),Ae.removeEventListener("error",at),Ae.removeEventListener("abort",at)},Ie=()=>{pe(),Pe()},at=()=>{me(Ae.error||new DOMException("AbortError","AbortError")),Pe()};Ae.addEventListener("complete",Ie),Ae.addEventListener("error",at),Ae.addEventListener("abort",at)});Me.set(Ae,ze)}(Ae),((Ae,ze)=>ze.some(pe=>Ae instanceof pe))(Ae,function he(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,Ke):Ae)}function Ye(Ae){if(Ae instanceof IDBRequest)return function be(Ae){const ze=new Promise((pe,me)=>{const Pe=()=>{Ae.removeEventListener("success",Ie),Ae.removeEventListener("error",at)},Ie=()=>{pe(Ye(Ae.result)),Pe()},at=()=>{me(Ae.error),Pe()};Ae.addEventListener("success",Ie),Ae.addEventListener("error",at)});return ze.then(pe=>{pe instanceof IDBCursor&&Ve.set(pe,Ae)}).catch(()=>{}),oe.set(ze,Ae),ze}(Ae);if(se.has(Ae))return se.get(Ae);const ze=Le(Ae);return ze!==Ae&&(se.set(Ae,ze),oe.set(ze,Ae)),ze}const qe=Ae=>oe.get(Ae);function Oe(Ae,ze,{blocked:pe,upgrade:me,blocking:Pe,terminated:Ie}={}){const at=indexedDB.open(Ae,ze),st=Ye(at);return me&&at.addEventListener("upgradeneeded",Yt=>{me(Ye(at.result),Yt.oldVersion,Yt.newVersion,Ye(at.transaction))}),pe&&at.addEventListener("blocked",()=>pe()),st.then(Yt=>{Ie&&Yt.addEventListener("close",()=>Ie()),Pe&&Yt.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),st}function Ge(Ae,{blocked:ze}={}){const pe=indexedDB.deleteDatabase(Ae);return ze&&pe.addEventListener("blocked",()=>ze()),Ye(pe).then(()=>{})}const et=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],ht=new Map;function ye(Ae,ze){if(!(Ae instanceof IDBDatabase)||ze in Ae||"string"!=typeof ze)return;if(ht.get(ze))return ht.get(ze);const pe=ze.replace(/FromIndex$/,""),me=ze!==pe,Pe=Ze.includes(pe);if(!(pe in(me?IDBIndex:IDBObjectStore).prototype)||!Pe&&!et.includes(pe))return;const Ie=function(){var at=(0,a.Z)(function*(st,...Yt){const zn=this.transaction(st,Pe?"readwrite":"readonly");let si=zn.store;return me&&(si=si.index(Yt.shift())),(yield Promise.all([si[pe](...Yt),Pe&&zn.done]))[0]});return function(Yt){return at.apply(this,arguments)}}();return ht.set(ze,Ie),Ie}!function it(Ae){Ke=Ae(Ke)}(Ae=>({...Ae,get:(ze,pe,me)=>ye(ze,pe)||Ae.get(ze,pe,me),has:(ze,pe)=>!!ye(ze,pe)||Ae.has(ze,pe)}))},5861:(xt,je,K)=>{function a(q,Ee,he,_e,Ve,Me,Fe){try{var se=q[Me](Fe),oe=se.value}catch(be){return void he(be)}se.done?Ee(oe):Promise.resolve(oe).then(_e,Ve)}function ie(q){return function(){var Ee=this,he=arguments;return new Promise(function(_e,Ve){var Me=q.apply(Ee,he);function Fe(oe){a(Me,_e,Ve,Fe,se,"next",oe)}function se(oe){a(Me,_e,Ve,Fe,se,"throw",oe)}Fe(void 0)})}}K.d(je,{Z:()=>ie})}},xt=>{var je=a=>xt(xt.s=a);je(310),je(2866)}]);